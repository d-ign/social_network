(this.webpackJsonpsocial_network=this.webpackJsonpsocial_network||[]).push([[5],{416:function(e,t,s){"use strict";var a=s(0);t.a=function(e,t){Object(a.useEffect)((function(){var e=function(){return t(window.innerWidth)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[e,t])}},430:function(e,t,s){e.exports={chat:"Chat_chat__18S3w",membersAndMessages:"Chat_membersAndMessages__1RTR_",form:"Chat_form__3kFu7"}},432:function(e,t,s){e.exports={container:"Members_container__2pna_",titleWrap:"Members_titleWrap__d7NLT",title:"Members_title__154Tu",titleArrow:"Members_titleArrow__1dMqh",members:"Members_members__H4WWv",member:"Members_member__2LXCJ",wrapName:"Members_wrapName__2m4Ej",showAllWrap:"Members_showAllWrap__fuTjQ",showAll:"Members_showAll__1QIPw",notShowMembers:"Members_notShowMembers__1sD9m",titleWrapDeployed:"Members_titleWrapDeployed__3oL3i"}},433:function(e,t,s){e.exports={buttonSortWrap:"ButtonSort_buttonSortWrap__2rfNk",buttonSortNotShowMembers:"ButtonSort_buttonSortNotShowMembers__3K8VO",buttonSort:"ButtonSort_buttonSort__2e7NN"}},437:function(e,t,s){e.exports={container:"Messages_container__2Bams"}},438:function(e,t,s){e.exports={messageContainer:"Message_messageContainer__2kjzX",myMessageContainer:"Message_myMessageContainer__2WRWS",message:"Message_message__1v5P9",nameAndMessage:"Message_nameAndMessage__4B2fF",avatarMedium:"Message_avatarMedium__3Yqu1",avatarSmall:"Message_avatarSmall__11YXQ"}},446:function(e,t,s){"use strict";s.r(t);var a=s(21),r=s(0),n=s.n(r),c=s(9),o=s(401),i=s(439),l=s.n(i),m=s(409),b=s(430),u=s.n(b),j=s(34),d=s(16),h=s(26),_=s.n(h),O=s(431),p=s.n(O),f=s(436),x=s(432),g=s.n(x),v=s(416),S=s(435),w=s.n(S),M=s(434),N=s.n(M),W=s(405),A=s(433),C=s.n(A),y=s(1),I=function(e){var t=e.theme,s=e.isReverseSort,a=e.setIsReverseSort,r=e.isShowAll,n=e.isShowMembers;return Object(y.jsx)("div",{className:_()(C.a.buttonSortWrap,Object(d.a)({},C.a.buttonSort,n),Object(d.a)({},C.a.buttonSortNotShowMembers,!n)),children:Object(y.jsx)(W.a,{onClick:function(){return a(!s)},disabled:!r,startIcon:s?Object(y.jsx)(N.a,{}):Object(y.jsx)(w.a,{}),style:{fontSize:"10px",marginBottom:"5px",padding:"3px 10px 3px 7px"},color:"theme1"===t?"primary":"secondary",children:"sort by name"})})},k=s(79),z=s(155),R=function(e){return e.chat.messages},T=function(e){return e.chat.messages.filter((function(e,t,s){return s.findIndex((function(t){return t.userId===e.userId}))===t?e:null}))},E=function(e){return e.chat.statusWS},B=function(e){var t=e.theme,s=Object(c.d)(T),n=Object(r.useState)(!1),o=Object(a.a)(n,2),i=o[0],l=o[1],m=Object(r.useState)(!1),b=Object(a.a)(m,2),u=b[0],h=b[1],O=Object(r.useState)(!1),x=Object(a.a)(O,2),S=x[0],w=x[1],M=Object(r.useState)(window.innerWidth),N=Object(a.a)(M,2),W=N[0],A=N[1];Object(v.a)(W,A);var C=i?s.length:2;return Object(y.jsxs)("section",{hidden:!s.length,className:g.a.container,children:[Object(y.jsxs)("div",{"aria-hidden":"true",className:_()(g.a.titleWrap,Object(d.a)({},g.a.titleWrapDeployed,S)),onClick:function(){W<=760&&w(!S)},children:[Object(y.jsx)("h1",{className:g.a.title,children:"Members"}),Object(y.jsx)(p.a,{className:g.a.titleArrow,path:f.a,title:"ArrowShowMembers",size:"18px"})]}),Object(y.jsx)(I,{theme:t,isShowAll:i,isShowMembers:S,isReverseSort:u,setIsReverseSort:h}),Object(y.jsxs)("div",{className:_()(Object(d.a)({},g.a.members,S),Object(d.a)({},g.a.notShowMembers,!S)),children:[s&&Object(j.a)(s).slice(0,C).sort((function(e,t){return u?t.userName.localeCompare(e.userName):e.userName.localeCompare(t.userName)})).map((function(e){return Object(y.jsxs)("div",{className:g.a.member,children:[Object(y.jsx)(k.a,{photo:e.photo,size:"small",id:e.userId}),Object(y.jsx)("div",{className:g.a.wrapName,children:Object(y.jsx)(z.a,{id:e.userId,name:e.userName,size:"small"})})]},e.userId)})),s.length>2&&!i?Object(y.jsx)("div",{className:g.a.showAllWrap,children:Object(y.jsxs)("span",{"aria-hidden":"true",className:g.a.showAll,onClick:function(){return l(!0)},children:["show all ",s.length," ..."]})}):""]})]})},L=s(437),D=s.n(L),P=s(438),F=s.n(P),H=s(37),J=n.a.memo((function(e){var t=e.message,s=t.userId,a=t.photo,r=t.userName,n=t.message,o=Object(c.d)(H.a);return Object(y.jsxs)("article",{className:_()(F.a.messageContainer,Object(d.a)({},F.a.myMessageContainer,o===s)),children:[Object(y.jsx)("div",{className:F.a.avatarMedium,children:Object(y.jsx)(k.a,{photo:a,size:"medium",id:s})}),Object(y.jsx)("div",{hidden:!0,className:F.a.avatarSmall,children:Object(y.jsx)(k.a,{photo:a,size:"small",id:s})}),Object(y.jsxs)("div",{className:F.a.nameAndMessage,children:[Object(y.jsx)(z.a,{id:s,name:r,size:"normal"}),Object(y.jsx)("div",{className:F.a.message,children:n})]})]})})),Q=s(157),X=function(){var e=Object(c.d)(R),t=Object(r.useRef)(null),s=Object(r.useState)(!0),n=Object(a.a)(s,2),o=n[0],i=n[1];return Object(r.useEffect)((function(){var e;o&&(null===(e=t.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}))}),[e,o]),Object(y.jsxs)("section",{className:D.a.container,onScroll:function(e){var t=e.currentTarget,s=t.scrollHeight-t.scrollTop-t.clientHeight;Math.abs(s)<1?o||i(!0):o&&i(!1)},children:[e.length?e.filter((function(e){return e.message.trim().length>0})).map((function(e){return Object(y.jsx)(J,{message:e},e.id)})):Object(y.jsx)(Q.a,{elements:"messages",writeSomething:!0}),Object(y.jsx)("div",{ref:t})]})},q=s(27),V=s(193),Y=function(e){var t=e.theme,s=e.status,n=Object(c.c)(),i=Object(r.useState)(""),b=Object(a.a)(i,2),j=b[0],d=b[1];return Object(y.jsx)("div",{className:u.a.wrapForm,children:Object(y.jsxs)("div",{className:u.a.form,children:[Object(y.jsx)(m.a,{name:"newMessageText",placeholder:"Enter your message...",fullWidth:!0,variant:"outlined",inputProps:{maxLength:100},color:"theme1"===t?"primary":"secondary",onChange:function(e){return d(e.currentTarget.value)},value:j}),Object(y.jsx)(o.a,{title:"Send message",color:"theme1"===t?"primary":"secondary",style:{margin:"5px"},onClick:function(){j.trim()&&(n(Object(V.b)(j)),d(""))},disabled:"pending"===s,children:Object(y.jsx)(l.a,{})})]})})};t.default=function(){var e=Object(c.d)(E),t=Object(c.d)(q.b),s=Object(c.c)();return Object(r.useEffect)((function(){return s(Object(V.c)()),function(){s(Object(V.d)())}}),[s]),Object(y.jsxs)("main",{className:u.a.chat,children:["error"===e&&Object(y.jsx)("div",{children:"Some error occured. Please, refresh the page..."}),Object(y.jsxs)("div",{className:u.a.membersAndMessages,children:[Object(y.jsx)(X,{}),Object(y.jsx)(B,{theme:t})]}),Object(y.jsx)(Y,{theme:t,status:e})]})}}}]);
//# sourceMappingURL=5.00d9d552.chunk.js.map