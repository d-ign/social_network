(this.webpackJsonpsocial_network=this.webpackJsonpsocial_network||[]).push([[5],{407:function(e,t,a){e.exports={allMessages:"Chat_allMessages__3upJk",membersAndMessages:"Chat_membersAndMessages__QYSIC",titleMembersWrap:"Chat_titleMembersWrap__21BfD",buttonSortWrap:"Chat_buttonSortWrap__1eMVl",membersContainer:"Chat_membersContainer__1T8z_",titleMembers:"Chat_titleMembers__ZXOJR",titleMembersArrow:"Chat_titleMembersArrow__8wlKQ",member:"Chat_member__19AK-",showAllWrap:"Chat_showAllWrap__3_abN",showAll:"Chat_showAll__1yp8e",membersContainerHidden:"Chat_membersContainerHidden__1kSs4",allMessagesAbsent:"Chat_allMessagesAbsent__2u7bW",noMessages:"Chat_noMessages__1TXOR",messageContainer:"Chat_messageContainer__h8lg9",myMessageContainer:"Chat_myMessageContainer__3lNbN",name:"Chat_name__3z4wa",nameMember:"Chat_nameMember__27PzK",message:"Chat_message__1UPOG",avatarSmall:"Chat_avatarSmall__1bEVh",nameAndMessage:"Chat_nameAndMessage__19MYP",form:"Chat_form__2pzA5",buttonSortNotShowMembers:"Chat_buttonSortNotShowMembers__32xXM",chatMembersNotShowMembers:"Chat_chatMembersNotShowMembers__20aDH",buttonSortMedia:"Chat_buttonSortMedia__kmZAn",chatMembersMedia:"Chat_chatMembersMedia__2g3AE",titleMembersWrapDeployed:"Chat_titleMembersWrapDeployed__2JKFF",buttonSortNotShowAll:"Chat_buttonSortNotShowAll__3Qax8",avatarMedium:"Chat_avatarMedium__eK_9C"}},428:function(e,t,a){"use strict";a.r(t);var s=a(36),r=a(58),n=a(0),c=a.n(n),o=a(11),l=a(42),i=a(33),b=a.n(i),m=a(396),h=a(411),j=a.n(h),d=a(410),u=a.n(d),_=a(409),O=a.n(_),M=a(406),g=a.n(M),p=a(392),x=a(401),C=a(408),f=a(407),N=a.n(f),v=a(145),S=a(74),w=a(29),A=function(e){return e.chat.messages},W=function(e){return e.chat.messages.filter((function(e,t,a){return a.findIndex((function(t){return t.userId===e.userId}))===t?e:null}))},y=function(e){return e.chat.status},I=a(181),k=a(1),z=function(){var e=Object(o.d)(W),t=Object(n.useState)(!1),a=Object(r.a)(t,2),c=a[0],i=a[1],m=Object(n.useState)(!1),h=Object(r.a)(m,2),j=h[0],d=h[1],_=c?e.length:5,M=Object(n.useState)(!1),x=Object(r.a)(M,2),f=x[0],v=x[1];return Object(k.jsxs)("div",{className:b()(N.a.membersContainer,Object(s.a)({},N.a.membersContainerHidden,!e.length)),children:[Object(k.jsxs)("div",{"aria-hidden":"true",className:b()(N.a.titleMembersWrap,Object(s.a)({},N.a.titleMembersWrapDeployed,f),Object(s.a)({},N.a.buttonSortWrapHiddenNotShowAll,!c)),onClick:function(){return v(!f)},children:[Object(k.jsx)("div",{className:N.a.titleMembers,children:"Members"}),Object(k.jsx)(g.a,{className:N.a.titleMembersArrow,path:C.a,title:"ArrowShowMembers",size:"18px"})]}),Object(k.jsx)("div",{className:b()(N.a.buttonSortWrap,Object(s.a)({},N.a.buttonSortMedia,f),Object(s.a)({},N.a.buttonSortNotShowMembers,!f),Object(s.a)({},N.a.buttonSortNotShowAll,!c)),children:Object(k.jsx)(p.a,{onClick:function(){return d(!j)},startIcon:j?Object(k.jsx)(O.a,{}):Object(k.jsx)(u.a,{}),style:{fontSize:10,marginBottom:5,padding:3},children:"sort by name"})}),Object(k.jsxs)("div",{className:b()(Object(s.a)({},N.a.chatMembersMedia,f),Object(s.a)({},N.a.chatMembersNotShowMembers,!f),Object(s.a)({},N.a.buttonSortNotShowAll,!c)),children:[e&&e.slice(0,_).sort((function(e,t){return j?t.userName.localeCompare(e.userName):e.userName.localeCompare(t.userName)})).map((function(e){return Object(k.jsxs)("div",{className:N.a.member,children:[Object(k.jsx)(l.b,{to:"/profile/".concat(e.userId),children:Object(k.jsx)(S.a,{photo:e.photo,size:"small"})}),Object(k.jsx)(l.b,{className:b()(N.a.name,N.a.nameMember),to:"/profile/".concat(e.userId),children:e.userName})]},e.userId)})),e.length>5&&!c?Object(k.jsx)("div",{className:N.a.showAllWrap,children:Object(k.jsx)("span",{"aria-hidden":"true",className:N.a.showAll,onClick:function(){return i(!0)},children:"show all..."})}):""]})]})},H=function(){var e=Object(o.d)(A),t=Object(n.useRef)(null),a=Object(n.useState)(!0),c=Object(r.a)(a,2),l=c[0],i=c[1];return Object(n.useEffect)((function(){var e;l&&(null===(e=t.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}))}),[e,l]),Object(k.jsxs)("div",{className:b()(N.a.allMessages,Object(s.a)({},N.a.allMessagesAbsent,!e.length)),onScroll:function(e){var t=e.currentTarget;Math.abs(t.scrollHeight-t.scrollTop-t.clientHeight)<1?l||i(!0):l&&i(!1)},children:[e.length?e.filter((function(e){return e.message.trim().length>0})).map((function(e){return Object(k.jsx)(T,{message:e},e.id)})):Object(k.jsxs)("div",{className:N.a.noMessages,children:["No messages yet...",Object(k.jsx)("br",{}),"Write something!"]}),Object(k.jsx)("div",{ref:t})]})},T=c.a.memo((function(e){var t=e.message,a=Object(o.d)(w.a);return Object(k.jsxs)("div",{className:b()(N.a.messageContainer,Object(s.a)({},N.a.myMessageContainer,a===t.userId)),children:[Object(k.jsxs)(l.b,{to:"/profile/".concat(t.userId),children:[Object(k.jsx)("div",{className:N.a.avatarMedium,children:Object(k.jsx)(S.a,{photo:t.photo,size:"medium"})}),Object(k.jsx)("div",{className:N.a.avatarSmall,children:Object(k.jsx)(S.a,{photo:t.photo,size:"small"})})]}),Object(k.jsxs)("div",{className:N.a.nameAndMessage,children:[Object(k.jsx)(l.b,{className:N.a.name,to:"/profile/".concat(t.userId),children:t.userName}),Object(k.jsx)("div",{className:N.a.message,children:t.message})]})]})})),D=function(){var e=c.a.useState(""),t=Object(r.a)(e,2),a=t[0],s=t[1],n=Object(o.d)(y),l=Object(o.c)();return Object(k.jsx)("div",{className:N.a.wrapForm,children:Object(k.jsxs)("div",{className:N.a.form,children:[Object(k.jsx)(x.a,{name:"newMessageText",placeholder:"Enter your message...",multiline:!0,fullWidth:!0,rowsMax:"3",variant:"outlined",inputProps:{maxLength:100},onChange:function(e){return s(e.currentTarget.value)},value:a}),Object(k.jsx)(m.a,{"aria-label":"sendMessage",color:"primary",style:{margin:"5px"},onClick:function(){a.trim()&&(l(Object(I.b)(a)),s(""))},disabled:"pending"===n,children:Object(k.jsx)(j.a,{})})]})})};t.default=Object(v.a)((function(){var e=Object(o.d)(y),t=Object(o.c)();return Object(n.useEffect)((function(){return t(Object(I.c)()),function(){t(Object(I.d)())}}),[t]),Object(k.jsxs)("div",{className:N.a.chat,children:["error"===e&&Object(k.jsx)("div",{children:"Some error occured. Please, refresh the page..."}),Object(k.jsxs)("div",{className:N.a.membersAndMessages,children:[Object(k.jsx)(H,{}),Object(k.jsx)(z,{})]}),Object(k.jsx)(D,{})]})}))}}]);
//# sourceMappingURL=5.f8e8500f.chunk.js.map