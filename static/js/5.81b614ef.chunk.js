(this.webpackJsonpsocial_network=this.webpackJsonpsocial_network||[]).push([[5],{405:function(e,t,a){e.exports={allMessages:"Chat_allMessages__3upJk",membersAndMessages:"Chat_membersAndMessages__QYSIC",titleMembersWrap:"Chat_titleMembersWrap__21BfD",buttonSortWrap:"Chat_buttonSortWrap__1eMVl",membersContainer:"Chat_membersContainer__1T8z_",titleMembers:"Chat_titleMembers__ZXOJR",titleMembersArrow:"Chat_titleMembersArrow__8wlKQ",member:"Chat_member__19AK-",showAllWrap:"Chat_showAllWrap__3_abN",showAll:"Chat_showAll__1yp8e",membersContainerHidden:"Chat_membersContainerHidden__1kSs4",allMessagesAbsent:"Chat_allMessagesAbsent__2u7bW",noMessages:"Chat_noMessages__1TXOR",messageContainer:"Chat_messageContainer__h8lg9",myMessageContainer:"Chat_myMessageContainer__3lNbN",name:"Chat_name__3z4wa",nameMember:"Chat_nameMember__27PzK",message:"Chat_message__1UPOG",avatarSmall:"Chat_avatarSmall__1bEVh",nameAndMessage:"Chat_nameAndMessage__19MYP",form:"Chat_form__2pzA5",buttonSortNotShowMembers:"Chat_buttonSortNotShowMembers__32xXM",chatMembersNotShowMembers:"Chat_chatMembersNotShowMembers__20aDH",buttonSortMedia:"Chat_buttonSortMedia__kmZAn",chatMembersMedia:"Chat_chatMembersMedia__2g3AE",titleMembersWrapDeployed:"Chat_titleMembersWrapDeployed__2JKFF",buttonSortNotShowAll:"Chat_buttonSortNotShowAll__3Qax8",avatarMedium:"Chat_avatarMedium__eK_9C"}},427:function(e,t,a){"use strict";a.r(t);var s=a(71),r=a(87),n=a(0),c=a.n(n),o=a(13),l=a(39),i=a(183),b=function(e){return e.chat.messages},m=function(e){return e.chat.messages.filter((function(e,t,a){return a.findIndex((function(t){return t.userId===e.userId}))===t?e:null}))},h=function(e){return e.chat.status},j=a(31),u=a(106),d=a(405),_=a.n(d),O=a(55),M=a.n(O),g=a(395),p=a(410),x=a.n(p),C=a(409),f=a.n(C),N=a(408),v=a.n(N),S=a(406),w=a.n(S),A=a(391),W=a(400),y=a(407),I=a(1),k=function(){var e=Object(o.d)(m),t=Object(n.useState)(!1),a=Object(r.a)(t,2),c=a[0],i=a[1],b=Object(n.useState)(!1),h=Object(r.a)(b,2),j=h[0],d=h[1],O=c?e.length:5,g=Object(n.useState)(!1),p=Object(r.a)(g,2),x=p[0],C=p[1];return Object(I.jsxs)("div",{className:M()(_.a.membersContainer,Object(s.a)({},_.a.membersContainerHidden,!e.length)),children:[Object(I.jsxs)("div",{className:M()(_.a.titleMembersWrap,Object(s.a)({},_.a.titleMembersWrapDeployed,x),Object(s.a)({},_.a.buttonSortWrapHiddenNotShowAll,!c)),onClick:function(){return C(!x)},children:[Object(I.jsx)("div",{className:_.a.titleMembers,children:"Members"}),Object(I.jsx)(w.a,{className:_.a.titleMembersArrow,path:y.a,title:"ArrowShowMembers",size:"18px"})]}),Object(I.jsx)("div",{className:M()(_.a.buttonSortWrap,Object(s.a)({},_.a.buttonSortMedia,x),Object(s.a)({},_.a.buttonSortNotShowMembers,!x),Object(s.a)({},_.a.buttonSortNotShowAll,!c)),children:Object(I.jsx)(A.a,{onClick:function(){return d(!j)},startIcon:j?Object(I.jsx)(v.a,{}):Object(I.jsx)(f.a,{}),style:{fontSize:10,marginBottom:5,padding:3},children:"sort by name"})}),Object(I.jsxs)("div",{className:M()(Object(s.a)({},_.a.chatMembersMedia,x),Object(s.a)({},_.a.chatMembersNotShowMembers,!x),Object(s.a)({},_.a.buttonSortNotShowAll,!c)),children:[e&&e.slice(0,O).sort((function(e,t){return j?t.userName.localeCompare(e.userName):e.userName.localeCompare(t.userName)})).map((function(e){return Object(I.jsxs)("div",{className:_.a.member,children:[Object(I.jsx)(l.b,{to:"/profile/"+e.userId,children:Object(I.jsx)(u.a,{photo:e.photo,size:"small"})}),Object(I.jsx)(l.b,{className:M()(_.a.name,_.a.nameMember),to:"/profile/"+e.userId,children:e.userName})]},e.userId)})),e.length>5&&!c?Object(I.jsx)("div",{className:_.a.showAllWrap,children:Object(I.jsx)("span",{className:_.a.showAll,onClick:function(){return i(!0)},children:"show all..."})}):""]})]})},z=function(){var e=Object(o.d)(b),t=Object(n.useRef)(null),a=Object(n.useState)(!0),c=Object(r.a)(a,2),l=c[0],i=c[1];return Object(n.useEffect)((function(){var e;l&&(null===(e=t.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}))}),[e,l]),Object(I.jsxs)("div",{className:M()(_.a.allMessages,Object(s.a)({},_.a.allMessagesAbsent,!e.length)),onScroll:function(e){var t=e.currentTarget;Math.abs(t.scrollHeight-t.scrollTop-t.clientHeight)<1?!l&&i(!0):l&&i(!1)},children:[e.length?e.filter((function(e){return e.message.trim().length>0})).map((function(e){return Object(I.jsx)(H,{message:e},e.id)})):Object(I.jsxs)("div",{className:_.a.noMessages,children:["No messages yet...",Object(I.jsx)("br",{}),"Write something!"]}),Object(I.jsx)("div",{ref:t})]})},H=c.a.memo((function(e){var t=e.message,a=Object(o.d)(j.a);return Object(I.jsxs)("div",{className:M()(_.a.messageContainer,Object(s.a)({},_.a.myMessageContainer,a===t.userId)),children:[Object(I.jsxs)(l.b,{to:"/profile/"+t.userId,children:[Object(I.jsx)("div",{className:_.a.avatarMedium,children:Object(I.jsx)(u.a,{photo:t.photo,size:"medium"})}),Object(I.jsx)("div",{className:_.a.avatarSmall,children:Object(I.jsx)(u.a,{photo:t.photo,size:"small"})})]}),Object(I.jsxs)("div",{className:_.a.nameAndMessage,children:[Object(I.jsx)(l.b,{className:_.a.name,to:"/profile/"+t.userId,children:t.userName}),Object(I.jsx)("div",{className:_.a.message,children:t.message})]})]})})),T=function(){var e=c.a.useState(""),t=Object(r.a)(e,2),a=t[0],s=t[1],n=Object(o.d)(h),l=Object(o.c)();return Object(I.jsx)("div",{className:_.a.wrapForm,children:Object(I.jsxs)("div",{className:_.a.form,children:[Object(I.jsx)(W.a,{name:"newMessageText",placeholder:"Enter your message...",multiline:!0,fullWidth:!0,rowsMax:"3",variant:"outlined",inputProps:{maxLength:100},onChange:function(e){return s(e.currentTarget.value)},value:a}),Object(I.jsx)(g.a,{"aria-label":"sendMessage",color:"primary",style:{margin:"5px"},onClick:function(){a.trim()&&(l(Object(i.b)(a)),s(""))},disabled:"pending"===n,children:Object(I.jsx)(x.a,{})})]})})};t.default=function(){var e=Object(o.d)(h),t=Object(o.c)();return Object(n.useEffect)((function(){return t(Object(i.c)()),function(){t(Object(i.d)())}}),[t]),Object(I.jsxs)("div",{className:_.a.chat,children:["error"===e&&Object(I.jsx)("div",{children:"Some error occured. Please, refresh the page..."}),Object(I.jsxs)("div",{className:_.a.membersAndMessages,children:[Object(I.jsx)(z,{}),Object(I.jsx)(k,{})]}),Object(I.jsx)(T,{})]})}}}]);
//# sourceMappingURL=5.81b614ef.chunk.js.map