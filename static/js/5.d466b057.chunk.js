(this.webpackJsonpsocial_network=this.webpackJsonpsocial_network||[]).push([[5],{430:function(e,t,s){e.exports={chat:"Chat_chat__18S3w",membersAndMessages:"Chat_membersAndMessages__1RTR_",form:"Chat_form__3kFu7"}},432:function(e,t,s){e.exports={container:"Members_container__2pna_",titleWrap:"Members_titleWrap__d7NLT",title:"Members_title__154Tu",titleArrow:"Members_titleArrow__1dMqh",members:"Members_members__H4WWv",member:"Members_member__2LXCJ",wrapName:"Members_wrapName__2m4Ej",showAllWrap:"Members_showAllWrap__fuTjQ",showAll:"Members_showAll__1QIPw",notShowMembers:"Members_notShowMembers__1sD9m",titleWrapDeployed:"Members_titleWrapDeployed__3oL3i"}},433:function(e,t,s){e.exports={buttonSortWrap:"ButtonSort_buttonSortWrap__2rfNk",buttonSortNotShowMembers:"ButtonSort_buttonSortNotShowMembers__3K8VO",buttonSort:"ButtonSort_buttonSort__2e7NN"}},437:function(e,t,s){e.exports={container:"Messages_container__2Bams"}},438:function(e,t,s){e.exports={messageContainer:"Message_messageContainer__2kjzX",myMessageContainer:"Message_myMessageContainer__2WRWS",message:"Message_message__1v5P9",nameAndMessage:"Message_nameAndMessage__4B2fF",avatarMedium:"Message_avatarMedium__3Yqu1",avatarSmall:"Message_avatarSmall__11YXQ"}},444:function(e,t,s){"use strict";s.r(t);var a=s(27),r=s(0),n=s.n(r),c=s(9),o=s(401),i=s(439),l=s.n(i),m=s(409),b=s(430),j=s.n(b),u=s(157),d=s(35),h=s(16),_=s(21),O=s.n(_),p=s(431),x=s.n(p),f=s(436),g=s(432),v=s.n(g),M=s(78),w=s(154),S=function(e){return e.chat.messages},N=function(e){return e.chat.messages.filter((function(e,t,s){return s.findIndex((function(t){return t.userId===e.userId}))===t?e:null}))},W=function(e){return e.chat.status},A=s(435),C=s.n(A),y=s(434),I=s.n(y),k=s(405),z=s(433),R=s.n(z),T=s(1),E=function(e){var t=e.theme,s=e.isReverseSort,a=e.setIsReverseSort,r=e.isShowAll,n=e.isShowMembers;return Object(T.jsx)("div",{className:O()(R.a.buttonSortWrap,Object(h.a)({},R.a.buttonSort,n),Object(h.a)({},R.a.buttonSortNotShowMembers,!n)),children:Object(T.jsx)(k.a,{onClick:function(){return a(!s)},disabled:!r,startIcon:s?Object(T.jsx)(I.a,{}):Object(T.jsx)(C.a,{}),style:{fontSize:"10px",marginBottom:"5px",padding:"3px 10px 3px 7px"},color:"theme1"===t?"primary":"secondary",children:"sort by name"})})},B=function(e){var t=e.theme,s=Object(c.d)(N),n=Object(r.useState)(!1),o=Object(a.a)(n,2),i=o[0],l=o[1],m=Object(r.useState)(!1),b=Object(a.a)(m,2),j=b[0],u=b[1],_=Object(r.useState)(!1),p=Object(a.a)(_,2),g=p[0],S=p[1],W=Object(r.useState)(window.innerWidth),A=Object(a.a)(W,2),C=A[0],y=A[1],I=i?s.length:2;Object(r.useEffect)((function(){var e=function(){return y(window.innerWidth)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[C]);return Object(T.jsxs)("div",{hidden:!s.length,className:v.a.container,children:[Object(T.jsxs)("div",{"aria-hidden":"true",className:O()(v.a.titleWrap,Object(h.a)({},v.a.titleWrapDeployed,g)),onClick:function(){C<=760&&S(!g)},children:[Object(T.jsx)("div",{className:v.a.title,children:"Members"}),Object(T.jsx)(x.a,{className:v.a.titleArrow,path:f.a,title:"ArrowShowMembers",size:"18px"})]}),Object(T.jsx)(E,{theme:t,isShowAll:i,isShowMembers:g,isReverseSort:j,setIsReverseSort:u}),Object(T.jsxs)("div",{className:O()(Object(h.a)({},v.a.members,g),Object(h.a)({},v.a.notShowMembers,!g)),children:[s&&Object(d.a)(s).slice(0,I).sort((function(e,t){return j?t.userName.localeCompare(e.userName):e.userName.localeCompare(t.userName)})).map((function(e){return Object(T.jsxs)("div",{className:v.a.member,children:[Object(T.jsx)(M.a,{photo:e.photo,size:"small",id:e.userId}),Object(T.jsx)("div",{className:v.a.wrapName,children:Object(T.jsx)(w.a,{id:e.userId,name:e.userName,size:"small"})})]},e.userId)})),s.length>2&&!i?Object(T.jsx)("div",{className:v.a.showAllWrap,children:Object(T.jsxs)("span",{"aria-hidden":"true",className:v.a.showAll,onClick:function(){return l(!0)},children:["show all ",s.length," ..."]})}):""]})]})},L=s(437),D=s.n(L),P=s(438),F=s.n(P),H=s(37),J=n.a.memo((function(e){var t=e.message,s=t.userId,a=t.photo,r=t.userName,n=t.message,o=Object(c.d)(H.a);return Object(T.jsxs)("div",{className:O()(F.a.messageContainer,Object(h.a)({},F.a.myMessageContainer,o===s)),children:[Object(T.jsx)("div",{className:F.a.avatarMedium,children:Object(T.jsx)(M.a,{photo:a,size:"medium",id:s})}),Object(T.jsx)("div",{hidden:!0,className:F.a.avatarSmall,children:Object(T.jsx)(M.a,{photo:a,size:"small",id:s})}),Object(T.jsxs)("div",{className:F.a.nameAndMessage,children:[Object(T.jsx)(w.a,{id:s,name:r}),Object(T.jsx)("div",{className:F.a.message,children:n})]})]})})),Q=s(156),X=function(){var e=Object(c.d)(S),t=Object(r.useRef)(null),s=Object(r.useState)(!0),n=Object(a.a)(s,2),o=n[0],i=n[1];return Object(r.useEffect)((function(){var e;o&&(null===(e=t.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}))}),[e,o]),Object(T.jsxs)("div",{className:D.a.container,onScroll:function(e){var t=e.currentTarget,s=t.scrollHeight-t.scrollTop-t.clientHeight;Math.abs(s)<1?o||i(!0):o&&i(!1)},children:[e.length?e.filter((function(e){return e.message.trim().length>0})).map((function(e){return Object(T.jsx)(J,{message:e},e.id)})):Object(T.jsx)(Q.a,{elements:"messages",writeSomething:!0}),Object(T.jsx)("div",{ref:t})]})},q=s(26),V=s(193),Y=function(e){var t=e.theme,s=n.a.useState(""),r=Object(a.a)(s,2),i=r[0],b=r[1],u=Object(c.d)(W),d=Object(c.c)();return Object(T.jsx)("div",{className:j.a.wrapForm,children:Object(T.jsxs)("div",{className:j.a.form,children:[Object(T.jsx)(m.a,{name:"newMessageText",placeholder:"Enter your message...",fullWidth:!0,variant:"outlined",inputProps:{maxLength:100},color:"theme1"===t?"primary":"secondary",onChange:function(e){return b(e.currentTarget.value)},value:i}),Object(T.jsx)(o.a,{"aria-label":"sendMessage",color:"theme1"===t?"primary":"secondary",style:{margin:"5px"},onClick:function(){i.trim()&&(d(Object(V.b)(i)),b(""))},disabled:"pending"===u,children:Object(T.jsx)(l.a,{})})]})})};t.default=Object(u.a)((function(){var e=Object(c.d)(W),t=Object(c.d)(q.b),s=Object(c.c)();return Object(r.useEffect)((function(){return s(Object(V.c)()),function(){s(Object(V.d)())}}),[s]),Object(T.jsxs)("div",{className:j.a.chat,children:["error"===e&&Object(T.jsx)("div",{children:"Some error occured. Please, refresh the page..."}),Object(T.jsxs)("div",{className:j.a.membersAndMessages,children:[Object(T.jsx)(X,{}),Object(T.jsx)(B,{theme:t})]}),Object(T.jsx)(Y,{theme:t})]})}))}}]);
//# sourceMappingURL=5.d466b057.chunk.js.map