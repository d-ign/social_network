(this.webpackJsonpsocial_network=this.webpackJsonpsocial_network||[]).push([[5],{409:function(e,t,a){e.exports={allMessages:"Chat_allMessages__UAKZ2",chat:"Chat_chat__7k0Pt",membersAndMessages:"Chat_membersAndMessages__3U9AL",titleMembersWrap:"Chat_titleMembersWrap__3oiYe",buttonSortWrap:"Chat_buttonSortWrap__2mWSg",membersContainer:"Chat_membersContainer__3MrCZ",titleMembers:"Chat_titleMembers__26qYN",titleMembersArrow:"Chat_titleMembersArrow__PVg8V",member:"Chat_member__2BeI5",showAllWrap:"Chat_showAllWrap__26kzB",showAll:"Chat_showAll__37cpC",membersContainerHidden:"Chat_membersContainerHidden__4T58C",allMessagesAbsent:"Chat_allMessagesAbsent__2B3Of",noMessages:"Chat_noMessages__2GKTn",messageContainer:"Chat_messageContainer__2E3Jm",myMessageContainer:"Chat_myMessageContainer__2V7UT",name:"Chat_name__1BfX4",nameMember:"Chat_nameMember__Fj7Df",message:"Chat_message__XManY",avatarSmall:"Chat_avatarSmall__2gqdD",nameAndMessage:"Chat_nameAndMessage__24AIK",form:"Chat_form__24MsL",buttonSortNotShowMembers:"Chat_buttonSortNotShowMembers__1N0ux",chatMembersNotShowMembers:"Chat_chatMembersNotShowMembers__1gCAa",buttonSortMedia:"Chat_buttonSortMedia__nBCho",chatMembersMedia:"Chat_chatMembersMedia__1ddg0",titleMembersWrapDeployed:"Chat_titleMembersWrapDeployed__1s5sL",buttonSortNotShowAll:"Chat_buttonSortNotShowAll__3yZec",avatarMedium:"Chat_avatarMedium__2TD_I"}},430:function(e,t,a){"use strict";a.r(t);var s=a(27),r=a(56),n=a(0),c=a.n(n),o=a(9),l=a(44),i=a(26),b=a.n(i),m=a(398),h=a(413),j=a.n(h),d=a(412),u=a.n(d),_=a(411),O=a.n(_),M=a(408),g=a.n(M),p=a(394),x=a(403),C=a(410),f=a(409),N=a.n(f),v=a(147),S=a(75),w=a(24),A=a(34),y=function(e){return e.chat.messages},W=function(e){return e.chat.messages.filter((function(e,t,a){return a.findIndex((function(t){return t.userId===e.userId}))===t?e:null}))},I=function(e){return e.chat.status},k=a(183),T=a(1),z=function(){var e=Object(o.d)(W),t=Object(n.useState)(!1),a=Object(r.a)(t,2),c=a[0],i=a[1],m=Object(n.useState)(!1),h=Object(r.a)(m,2),j=h[0],d=h[1],_=c?e.length:5,M=Object(n.useState)(!1),x=Object(r.a)(M,2),f=x[0],v=x[1];return Object(T.jsxs)("div",{className:b()(N.a.membersContainer,Object(s.a)({},N.a.membersContainerHidden,!e.length)),children:[Object(T.jsxs)("div",{"aria-hidden":"true",className:b()(N.a.titleMembersWrap,Object(s.a)({},N.a.titleMembersWrapDeployed,f),Object(s.a)({},N.a.buttonSortWrapHiddenNotShowAll,!c)),onClick:function(){return v(!f)},children:[Object(T.jsx)("div",{className:N.a.titleMembers,children:"Members"}),Object(T.jsx)(g.a,{className:N.a.titleMembersArrow,path:C.a,title:"ArrowShowMembers",size:"18px"})]}),Object(T.jsx)("div",{className:b()(N.a.buttonSortWrap,Object(s.a)({},N.a.buttonSortMedia,f),Object(s.a)({},N.a.buttonSortNotShowMembers,!f),Object(s.a)({},N.a.buttonSortNotShowAll,!c)),children:Object(T.jsx)(p.a,{onClick:function(){return d(!j)},startIcon:j?Object(T.jsx)(O.a,{}):Object(T.jsx)(u.a,{}),style:{fontSize:"10px",marginBottom:"5px",padding:"3px 10px 3px 7px"},children:"sort by name"})}),Object(T.jsxs)("div",{className:b()(Object(s.a)({},N.a.chatMembersMedia,f),Object(s.a)({},N.a.chatMembersNotShowMembers,!f),Object(s.a)({},N.a.buttonSortNotShowAll,!c)),children:[e&&e.slice(0,_).sort((function(e,t){return j?t.userName.localeCompare(e.userName):e.userName.localeCompare(t.userName)})).map((function(e){return Object(T.jsxs)("div",{className:N.a.member,children:[Object(T.jsx)(l.b,{to:"/profile/".concat(e.userId),children:Object(T.jsx)(S.a,{photo:e.photo,size:"small"})}),Object(T.jsx)(l.b,{className:b()(N.a.name,N.a.nameMember),to:"/profile/".concat(e.userId),children:e.userName})]},e.userId)})),e.length>5&&!c?Object(T.jsx)("div",{className:N.a.showAllWrap,children:Object(T.jsx)("span",{"aria-hidden":"true",className:N.a.showAll,onClick:function(){return i(!0)},children:"show all..."})}):""]})]})},B=function(){var e=Object(o.d)(y),t=Object(n.useRef)(null),a=Object(n.useState)(!0),c=Object(r.a)(a,2),l=c[0],i=c[1];return Object(n.useEffect)((function(){var e;l&&(null===(e=t.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}))}),[e,l]),Object(T.jsxs)("div",{className:b()(N.a.allMessages,Object(s.a)({},N.a.allMessagesAbsent,!e.length)),onScroll:function(e){var t=e.currentTarget;Math.abs(t.scrollHeight-t.scrollTop-t.clientHeight)<1?l||i(!0):l&&i(!1)},children:[e.length?e.filter((function(e){return e.message.trim().length>0})).map((function(e){return Object(T.jsx)(D,{message:e},e.id)})):Object(T.jsxs)("div",{className:N.a.noMessages,children:["No messages yet...",Object(T.jsx)("br",{}),"Write something!"]}),Object(T.jsx)("div",{ref:t})]})},D=c.a.memo((function(e){var t=e.message,a=Object(o.d)(A.a);return Object(T.jsxs)("div",{className:b()(N.a.messageContainer,Object(s.a)({},N.a.myMessageContainer,a===t.userId)),children:[Object(T.jsxs)(l.b,{to:"/profile/".concat(t.userId),children:[Object(T.jsx)("div",{className:N.a.avatarMedium,children:Object(T.jsx)(S.a,{photo:t.photo,size:"medium"})}),Object(T.jsx)("div",{className:N.a.avatarSmall,children:Object(T.jsx)(S.a,{photo:t.photo,size:"small"})})]}),Object(T.jsxs)("div",{className:N.a.nameAndMessage,children:[Object(T.jsx)(l.b,{className:N.a.name,to:"/profile/".concat(t.userId),children:t.userName}),Object(T.jsx)("div",{className:N.a.message,children:t.message})]})]})})),H=function(){var e=c.a.useState(""),t=Object(r.a)(e,2),a=t[0],s=t[1],n=Object(o.d)(w.b),l=Object(o.d)(I),i=Object(o.c)();return Object(T.jsx)("div",{className:N.a.wrapForm,children:Object(T.jsxs)("div",{className:N.a.form,children:[Object(T.jsx)(x.a,{name:"newMessageText",placeholder:"Enter your message...",fullWidth:!0,variant:"outlined",inputProps:{maxLength:100},color:"theme1"===n?"primary":"secondary",onChange:function(e){return s(e.currentTarget.value)},value:a}),Object(T.jsx)(m.a,{"aria-label":"sendMessage",color:"theme1"===n?"primary":"secondary",style:{margin:"5px"},onClick:function(){a.trim()&&(i(Object(k.b)(a)),s(""))},disabled:"pending"===l,children:Object(T.jsx)(j.a,{})})]})})};t.default=Object(v.a)((function(){var e=Object(o.d)(I),t=Object(o.c)();return Object(n.useEffect)((function(){return t(Object(k.c)()),function(){t(Object(k.d)())}}),[t]),Object(T.jsxs)("div",{className:N.a.chat,children:["error"===e&&Object(T.jsx)("div",{children:"Some error occured. Please, refresh the page..."}),Object(T.jsxs)("div",{className:N.a.membersAndMessages,children:[Object(T.jsx)(B,{}),Object(T.jsx)(z,{})]}),Object(T.jsx)(H,{})]})}))}}]);
//# sourceMappingURL=5.40f3082c.chunk.js.map