{"version":3,"sources":["components/Profile/ProfileWall/ProfileWall.module.scss","components/Profile/ProfileInfo/ProfileInputChangeAvatar/ProfileInputChangeAvatar.module.scss","App.module.scss","img/preloader/preloaderTheme1.svg","img/preloader/preloaderTheme2.svg","components/common/Preloader/Preloader.tsx","img/no_photo.svg","components/Profile/ProfileWall/ProfilePost/ProfileAvatarPost/ProfileAvatarPost.module.scss","components/common/Name/Name.module.scss","components/common/Name/Name.tsx","api/users-api.ts","redux/reducers/users-reducer.ts","components/common/NoElement/NoElement.tsx","api/api.ts","api/chat-api.ts","redux/reducers/chat-reducer.ts","components/common/NoElement/NoElement.module.scss","components/common/RenderFormElement/RenderTextField.module.scss","redux/selectors/app-selectors.ts","components/Profile/ProfileInfo/ProfileData/ProfileData.module.scss","redux/selectors/auth-selectors.ts","components/Profile/ProfileWall/ProfilePost/ProfilePost.module.scss","api/auth-api.ts","api/profile-api.ts","api/security-api.ts","redux/reducers/auth-reducer.ts","redux/reducers/profile-reducer.ts","redux/reducers/app-reducer.ts","redux/redux-store.ts","components/Profile/ProfileWall/ProfileButtonsPostsDelete/ProfileButtonsPostsDelete.tsx","components/Profile/ProfileWall/ProfilePost/ProfileAvatarPost/ProfileAvatarPost.tsx","redux/selectors/profile-selectors.ts","components/Profile/ProfileWall/ProfilePost/ProfilePost.tsx","hooks/useLocalStorage.tsx","components/Profile/ProfileWall/ProfileWall.tsx","components/Profile/ProfileInfo/ProfilePlug/ProfilePlug.tsx","components/Profile/ProfileInfo/ProfileStatus/stylesCustomMaterialUI.jsx","hooks/useOutsideAlerter.tsx","components/Profile/ProfileInfo/ProfileStatus/ProfileStatus.tsx","components/Profile/ProfileInfo/ProfileData/ProfileData.tsx","components/common/FieldWithCounter/FieldWithCounter.tsx","components/common/RenderFormElement/RenderTextField.jsx","components/common/RenderFormElement/RenderCheckbox.jsx","components/Profile/ProfileInfo/ProfileDataForm/ProfileDataForm.tsx","img/icons/camera.svg","components/Profile/ProfileInfo/ProfileInputChangeAvatar/ProfileInputChangeAvatar.tsx","components/Profile/ProfileInfo/ProfileInfoContainer.tsx","hoc/withAuthRedirect.tsx","components/Profile/ProfileContainer.tsx","img/preloader/preloaderStart.svg","components/common/Preloader/PreloaderStart.tsx","img/icons/logo.svg","components/Header/Header.tsx","components/Navbar/Navbar.tsx","components/Login/Login.tsx","components/Error/ErrorBoundary.jsx","App.tsx","index.tsx","components/Profile/ProfileInfo/ProfilePlug/ProfilePlug.module.scss","components/Header/Header.module.scss","components/Profile/ProfileInfo/ProfileStatus/ProfileStatus.module.scss","components/Login/Login.module.scss","components/Profile/ProfileWall/ProfileButtonsPostsDelete/ProfileButtonsPostsDelete.module.scss","components/common/FieldWithCounter/FieldWithCounter.module.scss","components/Profile/ProfileInfo/ProfileDataForm/ProfileDataForm.module.scss","components/Profile/ProfileInfo/ProfileInfoContainer.module.scss","components/common/Preloader/Preloader.module.scss","components/common/Avatar/Avatar.module.scss","components/common/Avatar/Avatar.tsx","components/Navbar/Navbar.module.scss"],"names":["module","exports","Preloader","display","theme","useSelector","getTheme","className","cn","s","container_default","container_block","wrap","src","preloaderTheme1","preloaderTheme2","alt","Name","id","name","size","name_size_small","to","replace","memo","usersAPI","getUsers","currentPage","pageSize","term","friend","instance","get","response","data","followUser","post","unfollowUser","delete","initialState","users","totalUsersCount","isFetching","followingInProgress","actions","followSuccess","userID","type","unfollowSuccess","setUsers","addUsers","setTotalUsersCount","count","clearUsers","toggleIsFetching","toggleFollowingProgress","page","dispatch","getState","a","usersPage","length","items","totalCount","_followUnfollowFlow","apiMethod","actionCreator","resultCode","ResultCodesEnum","Success","follow","bind","unfollow","usersReducer","state","action","map","u","followed","filter","NoElement","elements","writeSomething","container","ResultCodeForCaptcha","axios","create","withCredentials","baseURL","headers","process","ws","subscribers","notifySubscribersAboutStatus","status","forEach","reconnect","setTimeout","createChannel","messageHandler","e","newMessages","JSON","parse","openHandler","errorHandler","cleanUp","removeEventListener","close","WebSocket","addEventListener","chatAPI","start","stop","subscribe","eventName","callback","push","sendMessage","message","send","messages","statusWS","payload","startMessagesListening","stopMessagesListening","chatReducer","m","v1","item","index","array","getInitialized","app","initialized","getLogin","auth","login","getIsAuth","isAuth","getAuthorizedUserID","getCaptchaURL","captchaURL","getMyPhoto","myPhoto","authAPI","me","email","password","rememberMe","captcha","logout","profileAPI","getProfile","getStatus","updateStatus","put","savePhotoAPI","photoFile","formData","FormData","append","saveProfileAPI","profile","securityAPI","_handleError","Error","stopSubmit","_error","getAuthUserData","Object","keys","myProfile","photos","large","loginThunk","CaptchaIsRequired","url","authReducer","posts","idPost","likesCount","isLikeClick","postsForDelete","showSuccessSave","errorProfileContacts","isEditModeProfile","initializePosts","addPost","newPostText","deletePost","setPostForDeleting","deletePostForDeleting","clearPostsForDeleting","setLikeOnPost","deleteLikeOnPost","setUserProfile","setStatus","savePhotoSuccess","showSuccessSaveProfile","showErrorProfileContacts","setEditModeProfile","bool","getUserProfile","userId","profileReducer","newPost","Date","now","p","appReducer","rootReducer","combineReducers","profilePage","form","formReducer","chat","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","ProfileButtonsPostsDelete","props","isSelectedAllPosts","setIsSelectedAllPosts","setIsHiddenAllLikeAndX","setIsCancelDeletion","setIsShowAnimation","stylesButton","color","maxWidth","height","margin","textShadow","useDispatch","handleDeleteSelectedPost","handleCancelDeletion","wrapButtons","hidden","buttons","FormControlLabel","control","Checkbox","label","labelPlacement","style","marginLeft","checked","onChange","buttonDesktop","Button","variant","startIcon","onClick","buttonMobile","IconButton","title","ProfileAvatarPost","isSelectedPost","setIsSelectedPost","aria-hidden","avatar","postSelectedTheme1","postSelectedTheme2","Avatar","photo","unknown","getShowSuccessSave","getErrorProfileContacts","getPosts","getPostsForDelete","Set","getEditModeProfile","ProfilePost","isShowAnimation","isCancelDeletion","isHiddenAllLikeAndX","handleDeleteOnePost","useState","isClickDeletePost","setIsClickDeletePost","useEffect","has","postContainer","postContainerDelete","postSelected","columnLeft","columnCenter","fullName","plugColumnRight","columnRight","ButtonDeletePost","ButtonSetLike","handleDeletePost","useCallback","handleSetLike","wrapLike","like","noLike","useLocalStorage","key","value","currentValue","currentValueJson","localStorage","getItem","setItem","stringify","ProfileWall","postsElements","visuallyHidden","AddPostForm","setValue","handleAddPost","trim","TextField","placeholder","multiline","fullWidth","inputProps","maxLength","target","stylesAdaptiveButtons","width","endIcon","aria-label","ProfilePlug","isOwner","button","nameWrap","titleOne","text","titleTwo","useStyles","makeStyles","borderRadius","padding","spacing","minHeight","lineHeight","backgroundColor","useOutsideAlerter","alerter","handleClickOutside","current","contains","document","Status","setEditMode","handleClick","statusMy","elementInteractive","noStatus","StatusForm","statusLocal","setStatusLocal","classes","isEditInputStatusForm","setIsEditInputStatusForm","isHiddenCounter","setIsHiddenCounter","setCount","statusEditMode","autoFocus","currentTarget","onFocus","select","onBlur","buttonAndCounter","buttonWrap","disabled","boxShadow","stylesField","countHidden","countYellow","countRed","plug","ProfileStatus","editMode","statusRef","useRef","ref","statusNotMy","Contact","contactTitle","contactValue","contact","contactTextWrap","contactText","href","ProfileData","block","aboutMe","job","lookingForAJob","lookingForAJobDescription","values","contacts","some","el","FieldWithCounter","renderContent","setIsEditInputProfileForm","position","count_color_yellow","count_color_red","RenderTextField","input","onInput","meta","touched","error","warning","custom","InputLabelProps","htmlFor","RenderCheckbox","FieldDataForm","handleInput","handleFocus","handleBlur","Field","component","ProfileDataForm","reduxForm","handleSubmit","initialValues","onSubmit","titleForm","titleAllContacts","titleContact","ProfileInputChangeAvatar","handleChangeAvatar","wrapImg","camera","ScrollToTopOnMount","getElementById","scrollIntoView","ShowSuccessSavePortal","children","createElement","body","createPortal","ProfileInfoContainer","stylesSaveAndCancelButton","fontSize","isEditInputProfileForm","avatarWrap","file","files","marginTop","buttonsSaveAndCancelProfile","submit","successSave","saveProfileThunk","withAuthRedirect","WrappedComponent","ProfileContainer","this","refreshProfile","prevProps","match","params","authorizedUserID","history","React","PureComponent","connect","withRouter","PreloaderStart","preloaderStart","Logo","logoAndTitle","logo","headerTitleDesktop","headerTitleMobile","ButtonChangeTheme","handleToggleTheme","buttonThemeDesktop","marginRight","buttonThemeMobile","ButtonLogout","handleLogout","buttonLogoutDesktop","buttonLogoutMobile","Header","myID","themeLocal","setThemeLocal","colors","cyan","cyanLight","cyanMedium","cyanDark","darkBlue","darkBlueTransparent","i","setProperty","header","rightColumn","loginAndPhoto","loginName","profilePath","d","chatPath","usersPath","friendsPath","Navbar","pathname","useLocation","pages","exact","nav","activeClassName","active","navLink","viewBox","navLinkImg","activeIcon","test","LoginReduxForm","validate","errors","handleEnterTestAccount","stylesLoginButton","fontWeight","stylesTestLoginButton","marginBottom","loginBlockSubstrate","loginBlock","wrapElementForm","autoComplete","wrapCheckbox","Login","ErrorBoundary","setState","whiteSpace","toString","Component","SuspendedChat","lazy","SuspendedUsers","SuspendedFriends","App","fon","appWrapper","appWrapperContent","fallback","from","path","render","createTheme","palette","primary","main","secondary","responsiveFontSizes","ReactDOM","ThemeProvider","CssBaseline","photoTrue","includes","AvatarBody","avatar_size_extraLarge","avatar_size_large","avatar_size_medium","avatar_size_small"],"mappings":"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","file":"static/js/main.2572c961.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"visuallyHidden\":\"ProfileWall_visuallyHidden__3iLEw\",\"elementInteractive\":\"ProfileWall_elementInteractive__1XkjZ\",\"container\":\"ProfileWall_container__1kdW4\",\"form\":\"ProfileWall_form__17rYB\",\"posts\":\"ProfileWall_posts__3KwJJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"visuallyHidden\":\"ProfileInputChangeAvatar_visuallyHidden__2Hea5\",\"elementInteractive\":\"ProfileInputChangeAvatar_elementInteractive__thUU4\",\"container\":\"ProfileInputChangeAvatar_container__3C-kX\",\"wrapImg\":\"ProfileInputChangeAvatar_wrapImg__372fd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"fon\":\"App_fon__2Avml\",\"container\":\"App_container__3kpCf\",\"appWrapper\":\"App_appWrapper__1cqFv\",\"appWrapperContent\":\"App_appWrapperContent__1OUHu\"};","export default __webpack_public_path__ + \"static/media/preloaderTheme1.81c13cc3.svg\";","export default __webpack_public_path__ + \"static/media/preloaderTheme2.f54b1c2d.svg\";","import React from 'react'\nimport { useSelector } from 'react-redux'\n\nimport cn from 'classnames'\nimport preloaderTheme1 from '../../../img/preloader/preloaderTheme1.svg'\nimport preloaderTheme2 from '../../../img/preloader/preloaderTheme2.svg'\nimport s from './Preloader.module.scss'\n\nimport { getTheme } from '../../../redux/selectors/app-selectors'\n\ntype PropsType = {\n  display: 'default' | 'block'\n}\n\nconst Preloader: React.FC<PropsType> = ({ display }) => {\n  const theme = useSelector(getTheme)\n\n  return (\n    <div\n      className={cn(\n        { [s.container_default]: display === 'default' },\n        { [s.container_block]: display === 'block' }\n      )}\n    >\n      <div className={s.wrap}>\n        <img\n          src={theme === 'theme1' ? preloaderTheme1 : preloaderTheme2}\n          alt='preloader'\n        />\n      </div>\n    </div>\n  )\n}\n\nexport default Preloader\n","export default __webpack_public_path__ + \"static/media/no_photo.3aa74e3c.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"ProfileAvatarPost_avatar__2U8ug\",\"postSelectedTheme1\":\"ProfileAvatarPost_postSelectedTheme1__2pOhI\",\"postSelectedTheme2\":\"ProfileAvatarPost_postSelectedTheme2__2Tsqj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"name\":\"Name_name__EUDyG\",\"name_size_small\":\"Name_name_size_small__3-B6v\"};","import React, { memo } from 'react'\nimport { NavLink } from 'react-router-dom'\n\nimport cn from 'classnames'\nimport s from './Name.module.scss'\n\ntype PropsType = {\n  id: number | undefined\n  name: string | undefined\n  size: 'small' | 'normal'\n}\n\nconst Name: React.FC<PropsType> = ({ id, name, size = 'normal' }) => {\n  return (\n    <span>\n      <NavLink\n        className={cn(s.name, { [s.name_size_small]: size === 'small' })}\n        to={`/profile/${id || '/login'}`}\n        replace\n      >\n        {name || 'no name'}\n      </NavLink>\n    </span>\n  )\n}\n\nexport default memo(Name)\n","import { UserType } from '../types/types'\nimport { DefaultResponseType, instance } from './api'\n\ntype GetUsersType = {\n  items: Array<UserType>\n  totalCount: number\n  error: string\n}\n\nconst usersAPI = {\n  async getUsers(\n    currentPage = 1,\n    pageSize: number,\n    term?: string,\n    friend?: boolean\n  ) {\n    const response = await instance.get<GetUsersType>(\n      `users?page=${currentPage}&count=${pageSize}&term=${term}&friend=${friend}`\n    )\n    return response.data\n  },\n  async followUser(id: number) {\n    const response = await instance.post<DefaultResponseType>(\n      `follow/${id}`,\n      {}\n    )\n    return response.data\n  },\n  async unfollowUser(id: number) {\n    const response = await instance.delete<DefaultResponseType>(`follow/${id}`)\n    return response.data\n  },\n}\n\nexport default usersAPI\n","import { Dispatch } from 'redux'\nimport { DefaultResponseType, ResultCodesEnum } from '../../api/api'\nimport usersAPI from '../../api/users-api'\nimport { UserType } from '../../types/types'\nimport { BaseThunkType, InferActionsTypes } from '../redux-store'\n\nconst initialState = {\n  users: [] as Array<UserType>,\n\n  pageSize: 10,\n  totalUsersCount: 0,\n\n  isFetching: true,\n  // disabling the button after pressing\n  followingInProgress: [] as Array<number>, // array of users ID\n}\n\nconst usersReducer = (\n  state = initialState,\n  action: ActionsTypes\n): InitialStateType => {\n  switch (action.type) {\n    case 'sn/users/FOLLOW': {\n      return {\n        ...state,\n        users: state.users.map((u) => {\n          if (u.id === action.userID) {\n            return { ...u, followed: true }\n          }\n          return u\n        }),\n      }\n    }\n    case 'sn/users/UNFOLLOW': {\n      return {\n        ...state,\n        users: state.users.map((u) => {\n          if (u.id === action.userID) {\n            return { ...u, followed: false }\n          }\n          return u\n        }),\n      }\n    }\n    case 'sn/users/SET_USERS': {\n      return {\n        ...state,\n        users: [...action.users],\n      }\n    }\n    case 'sn/users/ADD_USERS': {\n      return {\n        ...state,\n        users: [...state.users, ...action.users],\n      }\n    }\n    case 'sn/users/CLEAR_USERS': {\n      return {\n        ...state,\n        users: [],\n      }\n    }\n    case 'sn/users/SET_TOTAL_USERS_COUNT': {\n      return {\n        ...state,\n        totalUsersCount: action.count,\n      }\n    }\n    case 'sn/users/TOGGLE_IS_FETCHING': {\n      return {\n        ...state,\n        isFetching: action.isFetching,\n      }\n    }\n    case 'sn/users/TOGGLE_IS_FOLLOWING_PROGRESS': {\n      return {\n        ...state,\n        followingInProgress: action.isFetching\n          ? [...state.followingInProgress, action.userID]\n          : state.followingInProgress.filter((id) => id !== action.userID),\n      }\n    }\n    default:\n      return state\n  }\n}\n\nexport const actions = {\n  followSuccess: (userID: number) =>\n    ({ type: 'sn/users/FOLLOW', userID } as const),\n  unfollowSuccess: (userID: number) =>\n    ({ type: 'sn/users/UNFOLLOW', userID } as const),\n\n  setUsers: (users: Array<UserType>) =>\n    ({ type: 'sn/users/SET_USERS', users } as const),\n  addUsers: (users: Array<UserType>) =>\n    ({ type: 'sn/users/ADD_USERS', users } as const),\n  setTotalUsersCount: (totalUsersCount: number) =>\n    ({\n      type: 'sn/users/SET_TOTAL_USERS_COUNT',\n      count: totalUsersCount,\n    } as const),\n  clearUsers: () => ({ type: 'sn/users/CLEAR_USERS' } as const),\n\n  toggleIsFetching: (isFetching: boolean) =>\n    ({ type: 'sn/users/TOGGLE_IS_FETCHING', isFetching } as const),\n  toggleFollowingProgress: (isFetching: boolean, userID: number) =>\n    ({\n      type: 'sn/users/TOGGLE_IS_FOLLOWING_PROGRESS',\n      isFetching,\n      userID,\n    } as const),\n}\n\nexport const getUsers =\n  (page: number, term: string, friend?: boolean): ThunkType =>\n  async (dispatch, getState) => {\n    dispatch(actions.toggleIsFetching(true))\n\n    const response = await usersAPI.getUsers(\n      page,\n      getState().usersPage.pageSize,\n      term,\n      friend\n    )\n\n    // primary download\n    if (term.length === 0 && page === 1) {\n      dispatch(actions.setUsers(response.items))\n    }\n    // get more users\n    if (page > 1) {\n      dispatch(actions.addUsers(response.items))\n    }\n    // primary search\n    if (term.length > 0 && page === 1) {\n      dispatch(actions.clearUsers())\n      dispatch(actions.setUsers(response.items))\n    }\n\n    dispatch(actions.setTotalUsersCount(response.totalCount))\n    dispatch(actions.toggleIsFetching(false))\n  }\n\ntype DispatchType = Dispatch<ActionsTypes>\nconst _followUnfollowFlow = async (\n  dispatch: DispatchType,\n  id: number,\n  apiMethod: (id: number) => Promise<DefaultResponseType>,\n  actionCreator: (id: number) => ActionsTypes\n) => {\n  dispatch(actions.toggleFollowingProgress(true, id))\n  const response = await apiMethod(id)\n\n  if (response.resultCode === ResultCodesEnum.Success) {\n    dispatch(actionCreator(id))\n  }\n  dispatch(actions.toggleFollowingProgress(false, id))\n}\n\nexport const follow =\n  (id: number): ThunkType =>\n  async (dispatch) => {\n    await _followUnfollowFlow(\n      dispatch,\n      id,\n      usersAPI.followUser.bind(usersAPI),\n      actions.followSuccess\n    )\n  }\n\nexport const unfollow =\n  (id: number): ThunkType =>\n  async (dispatch) => {\n    await _followUnfollowFlow(\n      dispatch,\n      id,\n      usersAPI.unfollowUser.bind(usersAPI),\n      actions.unfollowSuccess\n    )\n  }\n\nexport default usersReducer\n\nexport type InitialStateType = typeof initialState\ntype ActionsTypes = InferActionsTypes<typeof actions>\ntype ThunkType = BaseThunkType<ActionsTypes>\n","import React, { memo } from 'react'\nimport s from './NoElement.module.scss'\n\ntype PropsType = {\n  elements: string\n  writeSomething: boolean\n}\n\nconst NoElement: React.FC<PropsType> = ({ elements, writeSomething }) => {\n  return (\n    <div className={s.container}>\n      <span>{`No ${elements} ${elements === 'users' ? 'found' : ''}`}</span>\n      {writeSomething && <span>Write something!</span>}\n    </div>\n  )\n}\n\nexport default memo(NoElement)\n","import axios from 'axios'\n\nexport const instance = axios.create({\n  withCredentials: true, // attach a cookie to the request\n  baseURL: 'https://social-network.samuraijs.com/api/1.0/',\n  headers: {\n    'API-KEY': process.env.REACT_APP_API_KEY,\n  },\n})\n\nexport enum ResultCodesEnum {\n  Success = 0,\n  Error = 1,\n}\n\nexport enum ResultCodeForCaptcha {\n  CaptchaIsRequired = 10,\n}\n\nexport type DefaultResponseType<D = never, RC = ResultCodesEnum> = {\n  data: D\n  resultCode: RC\n  messages: Array<string> | string\n}\n","import { ChatMessageAPIType, StatusWSType } from '../types/types'\n\nlet ws: WebSocket | null = null\n\nconst subscribers = {\n  'messages-received': [] as Array<MessagesReceivedSubscriberType>,\n  'status-changed': [] as Array<StatusChangedSubscriberType>,\n}\n\nconst notifySubscribersAboutStatus = (status: StatusWSType) => {\n  subscribers['status-changed'].forEach((s) => s(status))\n}\n\nconst reconnect = () => {\n  notifySubscribersAboutStatus('pending')\n  setTimeout(createChannel, 3000)\n}\n\nconst messageHandler = (e: MessageEvent) => {\n  const newMessages = JSON.parse(e.data)\n  subscribers['messages-received'].forEach((s) => s(newMessages))\n}\n\nconst openHandler = () => {\n  notifySubscribersAboutStatus('ready')\n}\n\nconst errorHandler = () => {\n  notifySubscribersAboutStatus('error')\n}\n\nconst cleanUp = () => {\n  ws?.removeEventListener('close', reconnect)\n  ws?.removeEventListener('message', messageHandler)\n  ws?.removeEventListener('open', openHandler)\n  ws?.removeEventListener('error', errorHandler)\n}\n\nconst createChannel = () => {\n  cleanUp()\n  ws?.close()\n\n  ws = new WebSocket(\n    'wss://social-network.samuraijs.com/handlers/ChatHandler.ashx'\n  )\n\n  notifySubscribersAboutStatus('pending')\n\n  ws.addEventListener('close', reconnect)\n  ws.addEventListener('message', messageHandler)\n  ws.addEventListener('open', openHandler)\n  ws.addEventListener('error', errorHandler)\n}\n\nconst chatAPI = {\n  start() {\n    createChannel()\n  },\n\n  stop() {\n    subscribers['messages-received'] = []\n    subscribers['status-changed'] = []\n\n    cleanUp()\n    ws?.close()\n  },\n\n  subscribe(\n    eventName: EventsCustomNamesType,\n    callback: MessagesReceivedSubscriberType | StatusChangedSubscriberType\n  ) {\n    // @ts-ignore\n    subscribers[eventName].push(callback)\n  },\n\n  sendMessage(message: string) {\n    ws?.send(message)\n  },\n}\n\ntype EventsCustomNamesType = 'messages-received' | 'status-changed'\n\ntype MessagesReceivedSubscriberType = (messages: ChatMessageAPIType[]) => void\ntype StatusChangedSubscriberType = (status: StatusWSType) => void\n\nexport default chatAPI\n","import { FormAction } from 'redux-form'\nimport { v1 } from 'uuid'\nimport { BaseThunkType, InferActionsTypes } from '../redux-store'\n\nimport chatAPI from '../../api/chat-api'\n\nimport {\n  ChatMessageAPIType,\n  ChatMessageType,\n  StatusWSType,\n} from '../../types/types'\n\nconst initialState = {\n  messages: [] as ChatMessageType[],\n  statusWS: 'pending' as StatusWSType,\n}\n\nconst chatReducer = (\n  state = initialState,\n  action: ActionsTypes\n): InitialStateType => {\n  switch (action.type) {\n    case 'sn/chat/MESSAGES_RECEIVED': {\n      return {\n        ...state,\n        messages: [\n          ...state.messages,\n          ...action.payload.messages.map((m) => ({ ...m, id: v1() })),\n        ].filter((item, index, array) => index >= array.length - 100),\n        // TODO v1() = impure function call\n      }\n    }\n    case 'sn/chat/MESSAGES_CLEARED': {\n      return {\n        ...state,\n        messages: [],\n      }\n    }\n    case 'sn/chat/STATUS_CHANGED': {\n      return {\n        ...state,\n        statusWS: action.payload.statusWS,\n      }\n    }\n    default:\n      return state\n  }\n}\n\nconst actions = {\n  messagesReceived: (messages: ChatMessageAPIType[]) =>\n    ({\n      type: 'sn/chat/MESSAGES_RECEIVED',\n      payload: { messages },\n    } as const),\n  messagesCleared: () =>\n    ({\n      type: 'sn/chat/MESSAGES_CLEARED',\n    } as const),\n  statusChanged: (statusWS: StatusWSType) =>\n    ({\n      type: 'sn/chat/STATUS_CHANGED',\n      payload: { statusWS },\n    } as const),\n}\n\nexport const startMessagesListening = (): ThunkType => async (dispatch) => {\n  chatAPI.start()\n\n  chatAPI.subscribe('messages-received', (messages: ChatMessageAPIType[]) =>\n    dispatch(actions.messagesReceived(messages))\n  )\n  chatAPI.subscribe('status-changed', (statusWS: StatusWSType) =>\n    dispatch(actions.statusChanged(statusWS))\n  )\n}\n\nexport const stopMessagesListening = (): ThunkType => async (dispatch) => {\n  chatAPI.stop()\n  dispatch(actions.messagesCleared())\n}\n\nexport const sendMessage = (message: string): ThunkType => {\n  return async () => {\n    chatAPI.sendMessage(message)\n  }\n}\n\nexport default chatReducer\n\ntype InitialStateType = typeof initialState\ntype ActionsTypes = InferActionsTypes<typeof actions>\ntype ThunkType = BaseThunkType<ActionsTypes | FormAction>\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"NoElement_container__kqBdu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"RenderTextField_error__1byTe\"};","import { AppStateType } from '../redux-store'\n\nexport const getInitialized = (state: AppStateType) => state.app.initialized\n\nexport const getTheme = (state: AppStateType) => state.app.theme\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ProfileData_container__1mTJ8\",\"block\":\"ProfileData_block__NKfSg\",\"aboutMe\":\"ProfileData_aboutMe__P2lzC\",\"job\":\"ProfileData_job__2Xsrz\",\"contacts\":\"ProfileData_contacts__3Ofnk\",\"title\":\"ProfileData_title__2vA5a\",\"text\":\"ProfileData_text__3l1Mc\",\"contact\":\"ProfileData_contact__2lXgR\",\"contactTitle\":\"ProfileData_contactTitle__3S8nu\",\"contactTextWrap\":\"ProfileData_contactTextWrap__2UriX\",\"contactText\":\"ProfileData_contactText__L91HK\"};","import { AppStateType } from '../redux-store'\n\nexport const getLogin = (state: AppStateType) => state.auth.login\n\nexport const getIsAuth = (state: AppStateType) => state.auth.isAuth\n\nexport const getAuthorizedUserID = (state: AppStateType) => state.auth.userID\n\nexport const getCaptchaURL = (state: AppStateType) => state.auth.captchaURL\n\nexport const getMyPhoto = (state: AppStateType) => state.auth.myPhoto\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postContainer\":\"ProfilePost_postContainer__35KIf\",\"post\":\"ProfilePost_post__173rt\",\"postSelected\":\"ProfilePost_postSelected__2xUxR\",\"postContainerDelete\":\"ProfilePost_postContainerDelete__1enbW\",\"holeOut\":\"ProfilePost_holeOut__MiND7\",\"columnLeft\":\"ProfilePost_columnLeft__1Pvhx\",\"columnCenter\":\"ProfilePost_columnCenter__2puM0\",\"message\":\"ProfilePost_message__2SAIT\",\"columnRight\":\"ProfilePost_columnRight__pR4nD\",\"plugColumnRight\":\"ProfilePost_plugColumnRight__3N3NI\",\"wrapLike\":\"ProfilePost_wrapLike__2wFEi\",\"likesCount\":\"ProfilePost_likesCount__3DSIF\",\"like\":\"ProfilePost_like__vBOBH\",\"noLike\":\"ProfilePost_noLike__1dzSj\"};","import {\n  DefaultResponseType,\n  instance,\n  ResultCodeForCaptcha,\n  ResultCodesEnum,\n} from './api'\n\ntype MeDataType = {\n  id: number\n  email: string\n  login: string\n}\n\nconst authAPI = {\n  async me() {\n    const response = await instance.get<DefaultResponseType<MeDataType>>(\n      'auth/me'\n    )\n    return response.data\n  },\n  async login(\n    email: string,\n    password: string,\n    rememberMe = false,\n    captcha: null | string = null\n  ) {\n    const response = await instance.post<\n      DefaultResponseType<\n        { userId: number },\n        ResultCodesEnum | ResultCodeForCaptcha\n      >\n    >('/auth/login', {\n      email,\n      password,\n      rememberMe,\n      captcha,\n    })\n    return response.data\n  },\n  async logout() {\n    const response = await instance.delete<DefaultResponseType>('/auth/login')\n    return response.data\n  },\n}\n\nexport default authAPI\n","import { PhotosType, ProfileType } from '../types/types'\nimport { DefaultResponseType, instance } from './api'\n\ntype SavePhotoDataType = {\n  photos: PhotosType\n}\n\nconst profileAPI = {\n  async getProfile(id: number | null) {\n    const response = await instance.get<ProfileType>(`profile/${id}`)\n    return response.data\n  },\n\n  async getStatus(id: number) {\n    const response = await instance.get<string>(`profile/status/${id}`)\n    return response.data\n  },\n\n  async updateStatus(status: string) {\n    const response = await instance.put<DefaultResponseType>('profile/status', {\n      status,\n    })\n    return response.data\n  },\n\n  async savePhotoAPI(photoFile: File) {\n    const formData = new FormData()\n    formData.append('image', photoFile)\n    const response = await instance.put<DefaultResponseType<SavePhotoDataType>>(\n      'profile/photo',\n      formData,\n      {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n        },\n      }\n    )\n    return response.data\n  },\n\n  async saveProfileAPI(profile: ProfileType) {\n    const response = await instance.put<DefaultResponseType>('profile', profile)\n    return response.data\n  },\n}\n\nexport default profileAPI\n","import { instance } from './api'\n\ntype GetCaptchaResponseType = {\n  url: string\n}\n\nconst securityAPI = {\n  async getCaptchaURL() {\n    const response = await instance.get<GetCaptchaResponseType>(\n      'security/get-captcha-url'\n    )\n    return response.data\n  },\n}\n\nexport default securityAPI\n","import { Dispatch } from 'react'\nimport { FormAction, stopSubmit } from 'redux-form'\nimport { BaseThunkType, InferActionsTypes } from '../redux-store'\n\nimport authAPI from '../../api/auth-api'\nimport profileAPI from '../../api/profile-api'\nimport securityAPI from '../../api/security-api'\nimport { ResultCodesEnum, ResultCodeForCaptcha } from '../../api/api'\n\nconst initialState = {\n  userID: null as number | null,\n  email: null as string | null,\n  login: null as string | null,\n  isAuth: false,\n  captchaURL: null as string | null,\n  myPhoto: null as string | null,\n}\n\nconst authReducer = (\n  state = initialState,\n  action: ActionsTypes\n): InitialStateType => {\n  switch (action.type) {\n    case 'sn/auth/SET_MY_PHOTO':\n    case 'sn/auth/SET_USER_DATA':\n    case 'sn/auth/GET_CAPTCHA_URL_SUCCESS': {\n      return {\n        ...state,\n        ...action.payload,\n      }\n    }\n    default:\n      return state\n  }\n}\n\nconst actions = {\n  setAuthUserData: (\n    userID: number | null,\n    email: string | null,\n    login: string | null,\n    isAuth: boolean\n  ) => ({\n    type: 'sn/auth/SET_USER_DATA',\n    payload: {\n      userID,\n      email,\n      login,\n      isAuth,\n    } as const,\n  }),\n\n  setCaptcha: (captchaURL: string | null) => ({\n    type: 'sn/auth/GET_CAPTCHA_URL_SUCCESS',\n    payload: { captchaURL } as const,\n  }),\n\n  setMyPhoto: (myPhoto: string | null) => ({\n    type: 'sn/auth/SET_MY_PHOTO',\n    payload: { myPhoto } as const,\n  }),\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst _handleError = (dispatch: Dispatch<FormAction>, response: any) => {\n  if (response.resultCode === ResultCodesEnum.Error) {\n    const message = response.messages\n    const action = stopSubmit('loginForm', {\n      _error: message.length > 0 ? message[0] : 'Some error',\n    })\n    // Some error - if an empty message comes from the server\n    dispatch(action)\n  }\n}\n\nexport const getAuthUserData = (): ThunkType => async (dispatch) => {\n  const response = await authAPI.me()\n\n  if (response.resultCode === ResultCodesEnum.Success) {\n    const { id, email, login } = response.data\n    dispatch(actions.setAuthUserData(id, email, login, true))\n  }\n\n  _handleError(dispatch, response)\n\n  if (Object.keys(response.data).length !== 0) {\n    const myProfile = await profileAPI.getProfile(response.data.id)\n    dispatch(actions.setMyPhoto(myProfile.photos.large))\n  }\n}\n\nconst setCaptchaThunk = (): ThunkType => async (dispatch) => {\n  const response = await securityAPI.getCaptchaURL()\n  const captcha = response.url\n  dispatch(actions.setCaptcha(captcha))\n}\n\nexport const loginThunk =\n  (\n    email: string,\n    password: string,\n    rememberMe: boolean,\n    captcha: string | null\n  ): ThunkType =>\n  async (dispatch) => {\n    const response = await authAPI.login(email, password, rememberMe, captcha)\n\n    if (response.resultCode === ResultCodesEnum.Success) {\n      dispatch(getAuthUserData())\n      dispatch(actions.setCaptcha(null))\n    }\n\n    _handleError(dispatch, response)\n\n    if (response.resultCode === ResultCodeForCaptcha.CaptchaIsRequired) {\n      dispatch(setCaptchaThunk())\n    }\n  }\n\nexport const logoutThunk = (): ThunkType => async (dispatch) => {\n  const response = await authAPI.logout()\n\n  if (response.resultCode === ResultCodesEnum.Success) {\n    dispatch(actions.setAuthUserData(null, null, null, false))\n    dispatch(actions.setMyPhoto(null))\n  }\n}\n\nexport default authReducer\n\ntype InitialStateType = typeof initialState\ntype ActionsTypes = InferActionsTypes<typeof actions>\ntype ThunkType = BaseThunkType<ActionsTypes | FormAction>\n","import { BaseThunkType, InferActionsTypes } from '../redux-store'\nimport { PostType, ProfileType, PhotosType } from '../../types/types'\nimport { ResultCodesEnum } from '../../api/api'\nimport profileAPI from '../../api/profile-api'\n\nconst initialState = {\n  posts: [\n    {\n      idPost: 1,\n      message:\n        // eslint-disable-next-line max-len\n        'Lorem ipsum dolor sit amet consectetur adipisicing elit. Facilis ut quo maiores neque laboriosam. Ratione adipisci reiciendis autem placeat alias necessitatibus pariatur saepe ipsum, temporibus animi, facilis minus doloribus ducimus',\n      likesCount: 1,\n      isLikeClick: true,\n    },\n    {\n      idPost: 2,\n      message: 'Lorem ipsum dolor sit amet consectetur adipisicing elit.',\n      likesCount: 0,\n      isLikeClick: false,\n    },\n    {\n      idPost: 3,\n      message:\n        // eslint-disable-next-line max-len\n        'Lorem ipsum dolor sit amet consectetur adipisicing elit. Facilis ut quo maiores neque laboriosam. Ratione adipisci reiciendis autem placeat alias necessitatibus...',\n      likesCount: 0,\n      isLikeClick: false,\n    },\n  ] as Array<PostType>,\n  postsForDelete: [] as Array<number>,\n\n  profile: null as ProfileType | null,\n  status: '',\n  showSuccessSave: '',\n  errorProfileContacts: '',\n  isEditModeProfile: false,\n}\n\nconst profileReducer = (\n  state = initialState,\n  action: ActionsTypes\n): InitialStateType => {\n  switch (action.type) {\n    case 'sn/profile/SET_USER': {\n      return {\n        ...state,\n        profile: action.profile,\n      }\n    }\n    case 'sn/profile/SET_STATUS': {\n      return {\n        ...state,\n        status: action.status,\n      }\n    }\n    case 'sn/profile/INITIALIZE_POSTS': {\n      return {\n        ...state,\n        posts: action.posts,\n      }\n    }\n    case 'sn/profile/ADD_POST': {\n      const newPost = {\n        idPost: Date.now(), // TODO impure function call\n        message: action.newPostText,\n        likesCount: 0,\n        isLikeClick: false,\n      }\n      return {\n        ...state,\n        posts: [newPost, ...state.posts],\n      }\n    }\n    case 'sn/profile/SET_POST_FOR_DELETING': {\n      return {\n        ...state,\n        postsForDelete: [...state.postsForDelete, action.idPost],\n      }\n    }\n    case 'sn/profile/DELETE_POST_FOR_DELETING': {\n      return {\n        ...state,\n        postsForDelete: [\n          ...state.postsForDelete.filter((id) => id !== action.idPost),\n        ],\n      }\n    }\n    case 'sn/profile/CLEAR_POSTS_FOR_DELETING': {\n      return {\n        ...state,\n        postsForDelete: [],\n      }\n    }\n    case 'sn/profile/DELETE_POST': {\n      return {\n        ...state,\n        posts: state.posts.filter((p) => p.idPost !== action.idPost),\n      }\n    }\n    case 'sn/profile/SET_LIKE_ON_POST': {\n      return {\n        ...state,\n        posts: [\n          ...state.posts.map((p) => {\n            if (p.idPost === action.idPost) {\n              return {\n                ...p,\n                likesCount: ++p.likesCount,\n                isLikeClick: true,\n              }\n            }\n            return p\n          }),\n        ],\n      }\n    }\n    case 'sn/profile/DELETE_LIKE_ON_POST': {\n      return {\n        ...state,\n        posts: [\n          ...state.posts.map((p) => {\n            if (p.idPost === action.idPost) {\n              return {\n                ...p,\n                likesCount: --p.likesCount,\n                isLikeClick: false,\n              }\n            }\n            return p\n          }),\n        ],\n      }\n    }\n    case 'sn/profile/SAVE_PHOTO_SUCCESS': {\n      return {\n        ...state,\n        profile: { ...state.profile, photos: action.photos } as ProfileType,\n      }\n    }\n    case 'sn/profile/SHOW_SUCCESS_SAVE': {\n      return {\n        ...state,\n        showSuccessSave: action.message,\n      }\n    }\n    case 'sn/profile/SHOW_ERROR_PROFILE_CONTACTS': {\n      return {\n        ...state,\n        errorProfileContacts: action.message,\n      }\n    }\n    case 'sn/profile/TOGGLE_EDIT_MODE_PROFILE': {\n      return {\n        ...state,\n        isEditModeProfile: action.bool,\n      }\n    }\n    default:\n      return state\n  }\n}\n\nexport const actions = {\n  initializePosts: (posts: Array<PostType>) =>\n    ({ type: 'sn/profile/INITIALIZE_POSTS', posts } as const),\n  // delete one post\n  addPost: (newPostText: string) =>\n    ({ type: 'sn/profile/ADD_POST', newPostText } as const),\n  deletePost: (idPost: number) =>\n    ({ type: 'sn/profile/DELETE_POST', idPost } as const),\n  // delete multiple posts\n  setPostForDeleting: (idPost: number) =>\n    ({ type: 'sn/profile/SET_POST_FOR_DELETING', idPost } as const),\n  deletePostForDeleting: (idPost: number) =>\n    ({ type: 'sn/profile/DELETE_POST_FOR_DELETING', idPost } as const),\n  clearPostsForDeleting: () =>\n    ({ type: 'sn/profile/CLEAR_POSTS_FOR_DELETING' } as const),\n  // like\n  setLikeOnPost: (idPost: number) =>\n    ({ type: 'sn/profile/SET_LIKE_ON_POST', idPost } as const),\n  deleteLikeOnPost: (idPost: number) =>\n    ({ type: 'sn/profile/DELETE_LIKE_ON_POST', idPost } as const),\n\n  setUserProfile: (profile: ProfileType) =>\n    ({ type: 'sn/profile/SET_USER', profile } as const),\n  setStatus: (status: string) =>\n    ({ type: 'sn/profile/SET_STATUS', status } as const),\n  savePhotoSuccess: (photos: PhotosType) =>\n    ({ type: 'sn/profile/SAVE_PHOTO_SUCCESS', photos } as const),\n  showSuccessSaveProfile: (message: string) =>\n    ({ type: 'sn/profile/SHOW_SUCCESS_SAVE', message } as const),\n  showErrorProfileContacts: (message: string) =>\n    ({ type: 'sn/profile/SHOW_ERROR_PROFILE_CONTACTS', message } as const),\n  setEditModeProfile: (bool: boolean) =>\n    ({ type: 'sn/profile/TOGGLE_EDIT_MODE_PROFILE', bool } as const),\n}\n\nexport const getUserProfile =\n  (userId: number | null): ThunkType =>\n  async (dispatch) => {\n    const response = await profileAPI.getProfile(userId)\n    dispatch(actions.setUserProfile(response))\n  }\n\nexport const getStatus =\n  (id: number): ThunkType =>\n  async (dispatch) => {\n    const response = await profileAPI.getStatus(id)\n    dispatch(actions.setStatus(response))\n  }\n\nexport const updateStatus =\n  (status: string): ThunkType =>\n  async (dispatch) => {\n    const response = await profileAPI.updateStatus(status)\n    if (response.resultCode === ResultCodesEnum.Success) {\n      dispatch(actions.setStatus(status))\n    }\n  }\n\nexport const savePhotoThunk =\n  (file: File): ThunkType =>\n  async (dispatch) => {\n    const response = await profileAPI.savePhotoAPI(file)\n    if (response.resultCode === ResultCodesEnum.Success) {\n      dispatch(actions.savePhotoSuccess(response.data.photos))\n    }\n  }\n\nexport const saveProfileThunk =\n  (profile: ProfileType): ThunkType =>\n  async (dispatch, getState) => {\n    const response = await profileAPI.saveProfileAPI(profile)\n    const { userID } = getState().auth\n\n    if (response.resultCode === ResultCodesEnum.Success) {\n      dispatch(getUserProfile(userID))\n      dispatch(actions.showSuccessSaveProfile('Data saved successfully!'))\n      setTimeout(dispatch, 4000, actions.showSuccessSaveProfile(''))\n      dispatch(actions.showErrorProfileContacts(''))\n    }\n\n    if (response.resultCode === ResultCodesEnum.Error) {\n      // a template for showing the error of a specific field:\n      // const key = response.data.messages[0]\n      // .match(/Contacts->(\\w+)/)[1].toLowerCase()\n      // dispatch(stopSubmit('editProfile', {\n      //   contacts: { [key]: response.data.messages[0] },\n      // }));\n      dispatch(actions.showErrorProfileContacts(response.messages[0]))\n    }\n  }\n\nexport default profileReducer\n\nexport type InitialStateType = typeof initialState\ntype ActionsTypes = InferActionsTypes<typeof actions>\ntype ThunkType = BaseThunkType<ActionsTypes>\n","import { BaseThunkType, InferActionsTypes } from '../redux-store'\nimport { getAuthUserData } from './auth-reducer'\nimport { ThemeType } from '../../types/types'\n\nconst initialState = {\n  initialized: false,\n  theme: 'theme1' as ThemeType,\n}\n\nconst appReducer = (\n  state = initialState,\n  action: ActionsTypes\n): InitialStateType => {\n  switch (action.type) {\n    case 'sn/app/INITIALIZED_SUCCESS': {\n      return {\n        ...state,\n        initialized: true,\n      }\n    }\n    case 'sn/app/TOGGLE_THEME': {\n      return {\n        ...state,\n        theme: action.theme,\n      }\n    }\n    default:\n      return state\n  }\n}\n\nexport const actions = {\n  initializedSuccess: () => ({ type: 'sn/app/INITIALIZED_SUCCESS' } as const),\n  setTheme: (theme: ThemeType) =>\n    ({ type: 'sn/app/TOGGLE_THEME', theme } as const),\n}\n\nexport const initializeApp = (): ThunkType => async (dispatch) => {\n  await dispatch(getAuthUserData())\n  dispatch(actions.initializedSuccess())\n}\n\nexport default appReducer\n\ntype InitialStateType = typeof initialState\ntype ActionsTypes = InferActionsTypes<typeof actions>\ntype ThunkType = BaseThunkType<ActionsTypes>\n","import {\n  applyMiddleware,\n  combineReducers,\n  createStore,\n  compose,\n  Action,\n} from 'redux'\nimport thunkMiddleware, { ThunkAction } from 'redux-thunk'\nimport { reducer as formReducer } from 'redux-form'\n\nimport authReducer from './reducers/auth-reducer'\nimport profileReducer from './reducers/profile-reducer'\nimport usersReducer from './reducers/users-reducer'\nimport appReducer from './reducers/app-reducer'\nimport chatReducer from './reducers/chat-reducer'\n\nconst rootReducer = combineReducers({\n  profilePage: profileReducer,\n  usersPage: usersReducer,\n  auth: authReducer,\n  app: appReducer,\n  form: formReducer,\n  chat: chatReducer,\n})\n\n// types state app\ntype RootReducerType = typeof rootReducer\nexport type AppStateType = ReturnType<RootReducerType>\n\n// types actions\nexport type InferActionsTypes<T> = T extends {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  [key: string]: (...args: any[]) => infer U\n}\n  ? U\n  : never\n\n// type thunks\nexport type BaseThunkType<A extends Action, R = Promise<void>> = ThunkAction<\n  R,\n  AppStateType,\n  unknown,\n  A\n>\n\n// @ts-ignore because of Redux DevTools\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\n\nconst store = createStore(\n  rootReducer,\n  composeEnhancers(applyMiddleware(thunkMiddleware))\n)\n\nexport default store\n","import React, { SetStateAction, Dispatch } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport Button from '@material-ui/core/Button'\nimport { Checkbox, FormControlLabel, IconButton } from '@material-ui/core'\nimport DeleteIcon from '@material-ui/icons/Delete'\nimport CloseIcon from '@material-ui/icons/Close'\nimport cn from 'classnames'\nimport s from './ProfileButtonsPostsDelete.module.scss'\n\nimport { actions } from '../../../../redux/reducers/profile-reducer'\nimport { getTheme } from '../../../../redux/selectors/app-selectors'\n\nimport { PostType } from '../../../../types/types'\n\ntype PropsType = {\n  posts: PostType[]\n  postsForDelete: Set<number>\n  isSelectedAllPosts: boolean\n  setIsSelectedAllPosts: Dispatch<SetStateAction<boolean>>\n  setIsHiddenAllLikeAndX: Dispatch<SetStateAction<boolean>>\n  setIsCancelDeletion: Dispatch<SetStateAction<boolean>>\n  setIsShowAnimation: Dispatch<SetStateAction<boolean>>\n}\n\nconst ProfileButtonsPostsDelete: React.FC<PropsType> = (props) => {\n  const {\n    posts,\n    postsForDelete,\n    isSelectedAllPosts,\n    setIsSelectedAllPosts,\n    setIsHiddenAllLikeAndX,\n    setIsCancelDeletion,\n    setIsShowAnimation,\n  } = props\n\n  const stylesButton: React.CSSProperties = {\n    color: 'white',\n    maxWidth: '120px',\n    height: '70%',\n    margin: '10px',\n    textShadow: '2px 2px 7px var(--color-darkBlueTransparent)',\n  }\n\n  const dispatch = useDispatch()\n  const theme = useSelector(getTheme)\n\n  const handleDeleteSelectedPost = () => {\n    // start delete animation\n    setIsShowAnimation(true)\n\n    setIsSelectedAllPosts(false)\n\n    // return X and likes on all posts\n    setIsHiddenAllLikeAndX(false)\n\n    setTimeout(() => {\n      postsForDelete.forEach((p) => {\n        dispatch(actions.deletePost(p))\n      })\n      dispatch(actions.clearPostsForDeleting())\n\n      // end of delete animation\n      setIsShowAnimation(false)\n    }, 600)\n  }\n\n  const handleCancelDeletion = () => {\n    dispatch(actions.clearPostsForDeleting())\n    setIsCancelDeletion(true)\n    setIsSelectedAllPosts(false)\n  }\n\n  const handleSelectedAllPosts = () => {\n    if (!isSelectedAllPosts) {\n      posts.forEach((post) => {\n        dispatch(actions.setPostForDeleting(post.idPost))\n      })\n      setIsSelectedAllPosts(true)\n    } else {\n      dispatch(actions.clearPostsForDeleting())\n      setIsSelectedAllPosts(false)\n    }\n  }\n\n  return (\n    <div className={s.wrapButtons}>\n      <div\n        hidden={postsForDelete.size === 0}\n        className={cn({ [s.buttons]: postsForDelete.size > 0 })}\n      >\n        <FormControlLabel\n          control={\n            <Checkbox color={theme === 'theme1' ? 'primary' : 'secondary'} />\n          }\n          label='Select all'\n          labelPlacement='end'\n          style={{ marginLeft: '14px' }}\n          checked={isSelectedAllPosts && postsForDelete.size === posts.length}\n          onChange={handleSelectedAllPosts}\n        />\n\n        <div className={s.buttonDesktop}>\n          <Button\n            variant='contained'\n            style={stylesButton}\n            startIcon={<DeleteIcon />}\n            color={theme === 'theme1' ? 'primary' : 'secondary'}\n            onClick={handleDeleteSelectedPost}\n          >\n            Delete\n          </Button>\n        </div>\n        <div hidden className={s.buttonMobile}>\n          <IconButton\n            title='Delete'\n            color={theme === 'theme1' ? 'primary' : 'secondary'}\n            onClick={handleDeleteSelectedPost}\n          >\n            <DeleteIcon />\n          </IconButton>\n        </div>\n\n        <div className={s.buttonDesktop}>\n          <Button\n            variant='outlined'\n            style={stylesButton}\n            startIcon={<CloseIcon />}\n            color={theme === 'theme1' ? 'primary' : 'secondary'}\n            onClick={handleCancelDeletion}\n          >\n            Cancel\n          </Button>\n        </div>\n        <div hidden className={s.buttonMobile}>\n          <IconButton\n            title='Cancel'\n            color={theme === 'theme1' ? 'primary' : 'secondary'}\n            onClick={handleCancelDeletion}\n          >\n            <CloseIcon />\n          </IconButton>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default ProfileButtonsPostsDelete\n","import React, { Dispatch, SetStateAction } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport cn from 'classnames'\nimport s from './ProfileAvatarPost.module.scss'\n\nimport { actions } from '../../../../../redux/reducers/profile-reducer'\nimport { getTheme } from '../../../../../redux/selectors/app-selectors'\n\nimport unknown from '../../../../../img/no_photo.svg'\nimport Avatar from '../../../../common/Avatar/Avatar'\n\nimport { ProfileType } from '../../../../../types/types'\n\ntype PropsType = {\n  idPost: number\n  profile: ProfileType | null\n  postsForDelete: Set<number>\n  isSelectedPost: boolean\n  setIsSelectedPost: Dispatch<SetStateAction<boolean>>\n  setIsHiddenAllLikeAndX: Dispatch<SetStateAction<boolean>>\n}\n\nconst ProfileAvatarPost: React.FC<PropsType> = ({\n  idPost,\n  profile,\n  postsForDelete,\n  isSelectedPost,\n  setIsSelectedPost,\n  setIsHiddenAllLikeAndX,\n}) => {\n  const theme = useSelector(getTheme)\n  const dispatch = useDispatch()\n\n  const handleClickOnAvatar = () => {\n    if (!isSelectedPost) {\n      setIsHiddenAllLikeAndX(true)\n      setIsSelectedPost(true)\n      dispatch(actions.setPostForDeleting(idPost))\n    } else {\n      if (postsForDelete.size === 0) {\n        // do not return all X and likes, if some posts are still selected\n        setIsHiddenAllLikeAndX(false)\n      }\n      setIsSelectedPost(false)\n      dispatch(actions.deletePostForDeleting(idPost))\n    }\n  }\n\n  return (\n    <div\n      aria-hidden='true'\n      onClick={handleClickOnAvatar}\n      className={cn(\n        { [s.avatar]: !isSelectedPost },\n        {\n          [s.postSelectedTheme1]: isSelectedPost && theme === 'theme1',\n        },\n        {\n          [s.postSelectedTheme2]: isSelectedPost && theme === 'theme2',\n        }\n      )}\n    >\n      <Avatar\n        photo={profile?.photos.large || unknown}\n        size='medium'\n        id={profile?.userId || null}\n      />\n    </div>\n  )\n}\n\nexport default ProfileAvatarPost\n","import { AppStateType } from '../redux-store'\n\nexport const getProfile = (state: AppStateType) => state.profilePage.profile\n\nexport const getStatus = (state: AppStateType) => state.profilePage.status\n\nexport const getShowSuccessSave = (state: AppStateType) =>\n  state.profilePage.showSuccessSave\n\nexport const getErrorProfileContacts = (state: AppStateType) =>\n  state.profilePage.errorProfileContacts\n\nexport const getPosts = (state: AppStateType) => state.profilePage.posts\n\nexport const getPostsForDelete = (state: AppStateType) =>\n  new Set(state.profilePage.postsForDelete)\n\nexport const getEditModeProfile = (state: AppStateType) =>\n  state.profilePage.isEditModeProfile\n","import React, {\n  useState,\n  useEffect,\n  Dispatch,\n  SetStateAction,\n  memo,\n  useCallback,\n} from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport cn from 'classnames'\nimport IconButton from '@material-ui/core/IconButton'\nimport ThumbUpAltIcon from '@material-ui/icons/ThumbUpAlt'\nimport CloseIcon from '@material-ui/icons/Close'\nimport s from './ProfilePost.module.scss'\n\nimport ProfileAvatarPost from './ProfileAvatarPost/ProfileAvatarPost'\nimport Name from '../../../common/Name/Name'\n\nimport { getPostsForDelete } from '../../../../redux/selectors/profile-selectors'\nimport { actions } from '../../../../redux/reducers/profile-reducer'\n\nimport { PostType, ProfileType } from '../../../../types/types'\n\ntype PropsType = {\n  post: PostType\n  profile: ProfileType | null\n  isShowAnimation: boolean\n  isCancelDeletion: boolean\n  isSelectedAllPosts: boolean\n  isHiddenAllLikeAndX: boolean\n  setIsCancelDeletion: Dispatch<SetStateAction<boolean>>\n  setIsHiddenAllLikeAndX: Dispatch<SetStateAction<boolean>>\n  handleDeleteOnePost: (idPost: number) => void\n}\n\nconst ProfilePost: React.FC<PropsType> = (props) => {\n  const {\n    post: { idPost, message, likesCount, isLikeClick },\n    profile,\n    isShowAnimation,\n    isCancelDeletion,\n    isSelectedAllPosts,\n    isHiddenAllLikeAndX,\n    handleDeleteOnePost,\n    setIsCancelDeletion,\n    setIsHiddenAllLikeAndX,\n  } = props\n\n  const postsForDelete = useSelector(getPostsForDelete)\n\n  const [isClickDeletePost, setIsClickDeletePost] = useState(false)\n  const [isSelectedPost, setIsSelectedPost] = useState(false)\n\n  useEffect(() => {\n    if (isSelectedAllPosts || postsForDelete.has(idPost)) {\n      setIsSelectedPost(true)\n    } else {\n      setIsSelectedPost(false)\n    }\n  }, [isSelectedAllPosts, postsForDelete, idPost])\n\n  useEffect(() => {\n    setIsSelectedPost(false)\n    setIsCancelDeletion(false)\n  }, [isCancelDeletion, setIsCancelDeletion])\n\n  useEffect(() => {\n    if (postsForDelete.size === 0) {\n      // return all X and likes if there are no more selected posts\n      setIsHiddenAllLikeAndX(false)\n    }\n  }, [postsForDelete, setIsHiddenAllLikeAndX])\n\n  return (\n    <article\n      className={cn(s.postContainer, {\n        [s.postContainerDelete]:\n          isClickDeletePost || (isShowAnimation && postsForDelete.has(idPost)),\n      })}\n    >\n      <div className={cn(s.post, { [s.postSelected]: isSelectedPost })}>\n        <div className={s.columnLeft}>\n          <ProfileAvatarPost\n            idPost={idPost}\n            profile={profile}\n            postsForDelete={postsForDelete}\n            isSelectedPost={isSelectedPost}\n            setIsSelectedPost={setIsSelectedPost}\n            setIsHiddenAllLikeAndX={setIsHiddenAllLikeAndX}\n          />\n        </div>\n\n        <div className={s.columnCenter}>\n          <Name id={profile?.userId} name={profile?.fullName} size='normal' />\n          <div className={s.message}>{message}</div>\n        </div>\n\n        {!isHiddenAllLikeAndX ? (\n          <div className={s.columnRight}>\n            <ButtonDeletePost\n              idPost={idPost}\n              handleDeleteOnePost={handleDeleteOnePost}\n              setIsClickDeletePost={setIsClickDeletePost}\n            />\n            <ButtonSetLike\n              idPost={idPost}\n              likesCount={likesCount}\n              isLikeClick={isLikeClick}\n            />\n          </div>\n        ) : (\n          <div className={s.plugColumnRight} />\n        )}\n      </div>\n    </article>\n  )\n}\n\ntype ButtonDeletePostPropsType = {\n  idPost: number\n  handleDeleteOnePost: (idPost: number) => void\n  setIsClickDeletePost: Dispatch<SetStateAction<boolean>>\n}\n\nconst ButtonDeletePost: React.FC<ButtonDeletePostPropsType> = memo(\n  ({ idPost, handleDeleteOnePost, setIsClickDeletePost }) => {\n    const handleDeletePost = useCallback(() => {\n      setIsClickDeletePost(true)\n      setTimeout(() => handleDeleteOnePost(idPost), 300)\n    }, [handleDeleteOnePost, idPost, setIsClickDeletePost])\n\n    return (\n      <IconButton title='Delete post' size='small' onClick={handleDeletePost}>\n        <CloseIcon />\n      </IconButton>\n    )\n  }\n)\n\ntype ButtonSetLikePropsType = Omit<PostType, 'message'>\n\nconst ButtonSetLike: React.FC<ButtonSetLikePropsType> = memo(\n  ({ idPost, likesCount, isLikeClick }) => {\n    const dispatch = useDispatch()\n\n    const handleSetLike = useCallback(() => {\n      if (!isLikeClick) {\n        dispatch(actions.setLikeOnPost(idPost))\n      } else {\n        dispatch(actions.deleteLikeOnPost(idPost))\n      }\n    }, [dispatch, idPost, isLikeClick])\n\n    return (\n      <div className={s.wrapLike}>\n        <span className={s.likesCount}>\n          {likesCount > 0 ? `+${likesCount}` : ''}\n        </span>\n        <IconButton title='Like' size='small' onClick={handleSetLike}>\n          <ThumbUpAltIcon\n            className={cn(s.like, { [s.noLike]: !isLikeClick })}\n          />\n        </IconButton>\n      </div>\n    )\n  }\n)\n\nexport default memo(ProfilePost)\n","import { Dispatch, SetStateAction, useEffect } from 'react'\nimport { useDispatch } from 'react-redux'\nimport { PostType, ThemeType } from '../types/types'\n\ntype ActionPostsType = (posts: Array<PostType>) => {\n  type: string\n  posts: Array<PostType>\n}\n\ntype ActionThemeType = (theme: ThemeType) => {\n  type: string\n  theme: ThemeType\n}\n\nconst useLocalStorage = (\n  key: string,\n  value: string | PostType[],\n  action: ActionPostsType | ActionThemeType,\n  callback?: Dispatch<SetStateAction<ThemeType>>\n) => {\n  const dispatch = useDispatch()\n\n  // reading and applying theme from Local Storage\n  useEffect(() => {\n    let currentValue\n    const currentValueJson = localStorage.getItem(key)\n\n    if (currentValueJson) {\n      currentValue = JSON.parse(currentValueJson)\n    }\n\n    if (currentValue) {\n      dispatch(action(currentValue))\n      if (callback) callback(currentValue)\n    }\n  }, [action, key, callback, dispatch])\n\n  // writing a theme to Local Storage\n  useEffect(() => {\n    localStorage.setItem(key, JSON.stringify(value))\n  }, [key, value])\n}\n\nexport default useLocalStorage\n","/* eslint-disable max-len */\nimport React, { useCallback, useEffect, useState, memo } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport Button from '@material-ui/core/Button'\nimport PostAddIcon from '@material-ui/icons/PostAdd'\nimport { IconButton, TextField } from '@material-ui/core'\nimport s from './ProfileWall.module.scss'\nimport stylesAdaptiveButtons from './ProfileButtonsPostsDelete/ProfileButtonsPostsDelete.module.scss'\n\nimport ProfileButtonsPostsDelete from './ProfileButtonsPostsDelete/ProfileButtonsPostsDelete'\nimport ProfilePost from './ProfilePost/ProfilePost'\nimport NoElement from '../../common/NoElement/NoElement'\nimport useLocalStorage from '../../../hooks/useLocalStorage'\n\nimport {\n  getPosts,\n  getPostsForDelete,\n  getProfile,\n} from '../../../redux/selectors/profile-selectors'\nimport { actions } from '../../../redux/reducers/profile-reducer'\nimport { getTheme } from '../../../redux/selectors/app-selectors'\n\nimport { PostType } from '../../../types/types'\n\nconst ProfileWall: React.FC = () => {\n  const profile = useSelector(getProfile)\n  const posts = useSelector(getPosts)\n  const postsForDelete = useSelector(getPostsForDelete)\n  const dispatch = useDispatch()\n\n  const [isShowAnimation, setIsShowAnimation] = useState(false)\n  const [isCancelDeletion, setIsCancelDeletion] = useState(false)\n  const [isSelectedAllPosts, setIsSelectedAllPosts] = useState(false)\n  const [isHiddenAllLikeAndX, setIsHiddenAllLikeAndX] = useState(false)\n\n  useLocalStorage('posts', posts, actions.initializePosts)\n\n  const handleDeleteOnePost = useCallback(\n    (idPost: number) => {\n      dispatch(actions.deletePost(idPost))\n    },\n    [dispatch]\n  )\n\n  useEffect(() => {\n    if (postsForDelete.size === posts.length) {\n      setIsSelectedAllPosts(true)\n    } else {\n      setIsSelectedAllPosts(false)\n    }\n  }, [postsForDelete.size, posts.length])\n\n  const postsElements = posts.map((p: PostType) => (\n    <ProfilePost\n      key={p.idPost}\n      post={{\n        idPost: p.idPost,\n        message: p.message,\n        likesCount: p.likesCount,\n        isLikeClick: p.isLikeClick,\n      }}\n      profile={profile}\n      isSelectedAllPosts={isSelectedAllPosts}\n      isHiddenAllLikeAndX={isHiddenAllLikeAndX}\n      setIsHiddenAllLikeAndX={setIsHiddenAllLikeAndX}\n      isShowAnimation={isShowAnimation}\n      isCancelDeletion={isCancelDeletion}\n      setIsCancelDeletion={setIsCancelDeletion}\n      handleDeleteOnePost={handleDeleteOnePost}\n    />\n  ))\n\n  return (\n    <section className={s.container}>\n      <h1 className={s.visuallyHidden}>Profile wall</h1>\n\n      <ProfileButtonsPostsDelete\n        posts={posts}\n        postsForDelete={postsForDelete}\n        isSelectedAllPosts={isSelectedAllPosts}\n        setIsSelectedAllPosts={setIsSelectedAllPosts}\n        setIsHiddenAllLikeAndX={setIsHiddenAllLikeAndX}\n        setIsCancelDeletion={setIsCancelDeletion}\n        setIsShowAnimation={setIsShowAnimation}\n      />\n\n      {postsForDelete.size === 0 && <AddPostForm />}\n\n      <div className={s.posts}>\n        {postsElements}\n\n        {!posts.length && <NoElement elements='posts' writeSomething />}\n      </div>\n    </section>\n  )\n}\n\nconst AddPostForm: React.FC = memo(() => {\n  const stylesAddPostButton: React.CSSProperties = {\n    color: 'white',\n    textShadow: '2px 2px 7px var(--color-darkBlueTransparent)',\n    margin: '10px 0 10px 10px',\n    width: '140px',\n  }\n\n  const theme = useSelector(getTheme)\n  const dispatch = useDispatch()\n\n  const [value, setValue] = useState('')\n\n  const handleAddPost = () => {\n    if (!value.trim()) {\n      return\n    }\n    dispatch(actions.addPost(value))\n    setValue('')\n  }\n\n  return (\n    <div>\n      <div className={s.form}>\n        <TextField\n          name='newPostText'\n          placeholder='Enter the post text...'\n          multiline\n          fullWidth\n          variant='outlined'\n          color={theme === 'theme1' ? 'primary' : 'secondary'}\n          inputProps={{ maxLength: 1000, value }}\n          onChange={(e: React.ChangeEvent<HTMLInputElement>) =>\n            setValue(e.target.value)\n          }\n        />\n        <div className={stylesAdaptiveButtons.buttonDesktop}>\n          <Button\n            onClick={handleAddPost}\n            variant='contained'\n            color={theme === 'theme1' ? 'primary' : 'secondary'}\n            style={stylesAddPostButton}\n            endIcon={<PostAddIcon />}\n          >\n            Add post\n          </Button>\n        </div>\n        <div hidden className={stylesAdaptiveButtons.buttonMobile}>\n          <IconButton\n            aria-label='addPost'\n            onClick={handleAddPost}\n            style={{ marginLeft: 5 }}\n            title='Add post'\n          >\n            <PostAddIcon color={theme === 'theme1' ? 'primary' : 'secondary'} />\n          </IconButton>\n        </div>\n      </div>\n    </div>\n  )\n})\n\nexport default memo(ProfileWall)\n","import React from 'react'\nimport s from './ProfilePlug.module.scss'\n\ntype PropsType = {\n  isOwner: boolean\n}\n\nconst ProfilePlug: React.FC<PropsType> = ({ isOwner }) => {\n  return (\n    <div className={s.container}>\n      <div className={s.columnLeft}>\n        <div className={s.avatar} />\n        {isOwner && <div className={s.button} />}\n      </div>\n\n      <div className={s.columnRight}>\n        <div className={s.nameWrap}>\n          <div className={s.name} />\n        </div>\n\n        <div className={s.status} />\n\n        <div className={s.titleOne} />\n        <div className={s.text} />\n        <div className={s.titleTwo} />\n        <div className={s.text} />\n      </div>\n    </div>\n  )\n}\n\nexport default ProfilePlug\n","import { makeStyles } from '@material-ui/core/styles'\n\nconst useStyles = makeStyles((theme) => ({\n  status: {\n    borderRadius: '5px 5px 0 0',\n    padding: theme.spacing(1),\n    minHeight: '30px',\n    lineHeight: '25px',\n    backgroundColor: '#4f4f4f',\n  },\n}))\n\nexport default useStyles\n","import React, { useEffect, Dispatch, SetStateAction } from 'react'\n\nconst useOutsideAlerter = (\n  alerter: React.RefObject<HTMLDivElement>,\n  action: Dispatch<SetStateAction<boolean>>\n) => {\n  useEffect(() => {\n    const handleClickOutside = (e: MouseEvent) => {\n      if (\n        alerter.current &&\n        !alerter.current.contains(e.target as HTMLInputElement)\n      ) {\n        action(false)\n      }\n    }\n    document.addEventListener('mousedown', handleClickOutside)\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside)\n    }\n  }, [alerter, action])\n}\n\nexport default useOutsideAlerter\n","import React, {\n  useEffect,\n  useState,\n  useRef,\n  Dispatch,\n  SetStateAction,\n} from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport { Button, TextField } from '@material-ui/core'\nimport SaveIcon from '@material-ui/icons/Save'\nimport cn from 'classnames'\nimport s from './ProfileStatus.module.scss'\nimport stylesField from '../../../common/FieldWithCounter/FieldWithCounter.module.scss'\nimport useStyles from './stylesCustomMaterialUI'\nimport { getTheme } from '../../../../redux/selectors/app-selectors'\n\nimport useOutsideAlerter from '../../../../hooks/useOutsideAlerter'\nimport { getStatus } from '../../../../redux/selectors/profile-selectors'\nimport { updateStatus } from '../../../../redux/reducers/profile-reducer'\n\ntype PropsType = {\n  isOwner: boolean\n}\n\nconst ProfileStatus = ({ isOwner }: PropsType) => {\n  const status = useSelector(getStatus)\n\n  const [editMode, setEditMode] = useState(false)\n  const [statusLocal, setStatusLocal] = useState(status)\n\n  useEffect(() => {\n    setStatusLocal(status)\n  }, [status])\n\n  const statusRef = useRef<HTMLDivElement | null>(null)\n  useOutsideAlerter(statusRef, setEditMode)\n\n  return (\n    <div ref={statusRef} className={s.container}>\n      {isOwner && !editMode && (\n        <Status status={status} setEditMode={setEditMode} />\n      )}\n\n      {!isOwner && status && <div className={s.statusNotMy}>{status}</div>}\n\n      {editMode && (\n        <StatusForm\n          statusLocal={statusLocal}\n          setStatusLocal={setStatusLocal}\n          setEditMode={setEditMode}\n        />\n      )}\n    </div>\n  )\n}\n\ntype StatusPropsType = {\n  status: string\n  setEditMode: Dispatch<SetStateAction<boolean>>\n}\n\nconst Status: React.FC<StatusPropsType> = ({ status, setEditMode }) => {\n  const handleClick = () => {\n    setEditMode(true)\n  }\n\n  return (\n    // outer div and input for keyboard operation\n    <div title='Change status' aria-hidden='true' onChange={handleClick}>\n      <input className={s.visuallyHidden} aria-label='Change status profile' />\n      <div\n        aria-hidden='true'\n        className={cn(s.statusMy, s.elementInteractive)}\n        onClick={handleClick}\n      >\n        {status || <span className={s.noStatus}>Your status is empty</span>}\n      </div>\n    </div>\n  )\n}\n\ntype StatusFormPropsType = {\n  statusLocal: string\n  setStatusLocal: Dispatch<SetStateAction<string>>\n  setEditMode: Dispatch<SetStateAction<boolean>>\n}\n\nconst StatusForm: React.FC<StatusFormPropsType> = ({\n  statusLocal,\n  setStatusLocal,\n  setEditMode,\n}) => {\n  const classes = useStyles()\n\n  const stylesSaveAndButton: React.CSSProperties = {\n    color: 'white',\n    textShadow: '2px 2px 7px var(--color-darkBlueTransparent)',\n    boxShadow: '2px 2px 5px var(--color-darkBlueTransparent)',\n    margin: 10,\n    width: '100%',\n  }\n\n  const theme = useSelector(getTheme)\n  const dispatch = useDispatch()\n\n  const [isEditInputStatusForm, setIsEditInputStatusForm] = useState(false)\n  const [isHiddenCounter, setIsHiddenCounter] = useState(true)\n  const [count, setCount] = useState(0)\n\n  const handleFocusInput = (e: React.FocusEvent<HTMLInputElement>) => {\n    e.target.select()\n    setCount(e.target.value.length)\n    setIsHiddenCounter(false)\n  }\n\n  const handleBlurInput = () => {\n    setIsHiddenCounter(true)\n  }\n\n  const handleChangeInput = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setCount(e.target.value.length)\n    setIsEditInputStatusForm(true)\n    setStatusLocal(e.currentTarget.value)\n  }\n\n  const handleSaveStatus = () => {\n    dispatch(updateStatus(statusLocal))\n    setIsEditInputStatusForm(false)\n    setEditMode(false)\n  }\n\n  return (\n    <>\n      <div className={s.statusEditMode}>\n        <TextField\n          autoFocus\n          multiline\n          fullWidth\n          name='newStatusText'\n          placeholder='Your status...'\n          inputProps={{ maxLength: 300 }}\n          className={classes.status}\n          color={theme === 'theme1' ? 'primary' : 'secondary'}\n          value={statusLocal}\n          onChange={handleChangeInput}\n          onFocus={handleFocusInput}\n          onBlur={handleBlurInput}\n        />\n\n        <div className={s.buttonAndCounter}>\n          <div className={s.buttonWrap}>\n            <Button\n              onClick={handleSaveStatus}\n              disabled={!isEditInputStatusForm}\n              variant='contained'\n              color={theme === 'theme1' ? 'primary' : 'secondary'}\n              style={stylesSaveAndButton}\n              startIcon={<SaveIcon />}\n            >\n              Save\n            </Button>\n          </div>\n\n          <span\n            className={cn(\n              stylesField.count,\n              { [stylesField.countHidden]: isHiddenCounter },\n              { [stylesField.countYellow]: count >= 290 },\n              { [stylesField.countRed]: count === 300 }\n            )}\n          >\n            {count} of 300\n          </span>\n        </div>\n      </div>\n      <div className={s.plug} />\n    </>\n  )\n}\n\nexport default ProfileStatus\n","import React, { memo } from 'react'\nimport { ProfileType, СontactsType } from '../../../../types/types'\nimport s from './ProfileData.module.scss'\n\ntype PropsType = {\n  profile: ProfileType\n}\n\nconst ProfileData: React.FC<PropsType> = ({ profile }) => (\n  <div className={s.container}>\n    <div className={s.block}>\n      {profile.aboutMe && (\n        <div className={s.aboutMe}>\n          <div className={s.title}>About me:</div>\n          <div className={s.text}>{profile.aboutMe}</div>\n        </div>\n      )}\n    </div>\n\n    <div className={s.block}>\n      <div className={s.job}>\n        <div className={s.title}>Job search:</div>\n        {profile.lookingForAJob ? (\n          <div className={s.text}>Now looking for a job!</div>\n        ) : (\n          <div className={s.text}>I&#39;m not looking for a job</div>\n        )}\n      </div>\n    </div>\n\n    <div className={s.block}>\n      {profile.lookingForAJobDescription && (\n        <div className={s.job}>\n          <div className={s.title}>Professional skills:</div>\n          <div className={s.text}>{profile.lookingForAJobDescription}</div>\n        </div>\n      )}\n    </div>\n\n    <div className={s.block}>\n      {Object.values(profile.contacts).some((el) => el && el !== '') && (\n        <div className={s.contacts}>\n          <div className={s.title}>My contacts</div>\n          {Object.keys(profile.contacts).map((key) => (\n            <Contact\n              key={key}\n              contactTitle={key}\n              contactValue={profile.contacts[key as keyof СontactsType]}\n            />\n          ))}\n        </div>\n      )}\n    </div>\n  </div>\n)\n\ntype ContactPropsType = {\n  contactTitle: string\n  contactValue: string\n}\n\nconst Contact: React.FC<ContactPropsType> = memo(\n  ({ contactTitle, contactValue }) => (\n    <>\n      {contactValue && (\n        <div className={s.contact}>\n          <span className={s.contactTitle}>{contactTitle}:</span>\n          <div className={s.contactTextWrap}>\n            <a className={s.contactText} href={contactValue}>\n              {contactValue.replace(/(?:https?):\\/\\/([^/\\s]+)[^\\s]*/gi, '$1')}\n            </a>\n          </div>\n        </div>\n      )}\n    </>\n  )\n)\n\nexport default ProfileData\n","import { useState } from 'react'\n\nimport cn from 'classnames'\nimport s from './FieldWithCounter.module.scss'\n\ntype PropsType = {\n  renderContent: (\n    handleInput: (e: React.ChangeEvent<HTMLInputElement>) => void,\n    handleFocus: (e: React.FocusEvent<HTMLInputElement>) => void,\n    handleBlur: () => void\n  ) => JSX.Element\n  maxLength: number\n  setIsEditInputProfileForm: (bool: boolean) => void\n}\n\nconst FieldWithCounter: React.FC<PropsType> = (props) => {\n  const { maxLength, renderContent, setIsEditInputProfileForm } = props\n\n  const [isHiddenCounter, setIsHiddenCounter] = useState(true)\n  const [count, setCount] = useState(0)\n\n  const handleInput = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setIsEditInputProfileForm(true)\n    setCount(e.target.value.length)\n  }\n  const handleFocus = (e: React.FocusEvent<HTMLInputElement>) => {\n    e.target.select()\n    setCount(e.target.value.length)\n    setIsHiddenCounter(false)\n  }\n  const handleBlur = () => {\n    setIsHiddenCounter(true)\n  }\n\n  return (\n    <div style={{ position: 'relative' }}>\n      {renderContent(handleInput, handleFocus, handleBlur)}\n\n      <span\n        className={cn(\n          s.count,\n          { [s.countHidden]: isHiddenCounter },\n          { [s.count_color_yellow]: count >= maxLength - 10 },\n          { [s.count_color_red]: count === maxLength }\n        )}\n      >\n        {count} of {maxLength}\n      </span>\n    </div>\n  )\n}\n\nexport default FieldWithCounter\n","import { useSelector } from 'react-redux'\nimport { TextField } from '@material-ui/core'\nimport { getTheme } from '../../../redux/selectors/app-selectors'\n\nimport s from './RenderTextField.module.scss'\n\nconst RenderTextField = (props) => {\n  const {\n    label,\n    input,\n    placeholder,\n    multiline,\n    variant,\n    inputProps,\n    onInput,\n    onFocus,\n    meta: { touched, error, warning },\n    fullWidth,\n    ...custom\n  } = props\n\n  const theme = useSelector(getTheme)\n\n  return (\n    <>\n      <TextField\n        color={theme === 'theme1' ? 'primary' : 'secondary'}\n        label={label}\n        InputLabelProps={{ htmlFor: label }}\n        inputProps={{ ...inputProps, id: label }}\n        onInput={onInput}\n        onFocus={onFocus}\n        variant={variant}\n        multiline={multiline}\n        fullWidth={fullWidth}\n        placeholder={placeholder}\n        {...input}\n        {...custom}\n      />\n      {touched &&\n        ((error && <span className={s.error}>{error}</span>) ||\n          (warning && <span>{warning}</span>))}\n    </>\n  )\n}\n\nexport default RenderTextField\n","import { FormControlLabel, Checkbox } from '@material-ui/core'\nimport { useSelector } from 'react-redux'\nimport { getTheme } from '../../../redux/selectors/app-selectors'\n\nconst RenderCheckbox = ({ input, label }) => {\n  const theme = useSelector(getTheme)\n  return (\n    <div>\n      <FormControlLabel\n        control={\n          <Checkbox\n            checked={!!input.value}\n            onChange={input.onChange}\n            color={theme === 'theme1' ? 'primary' : 'secondary'}\n            style={{ marginLeft: 5, padding: 6 }}\n          />\n        }\n        label={label}\n        labelPlacement='start'\n        style={{ marginLeft: 0 }}\n      />\n    </div>\n  )\n}\n\nexport default RenderCheckbox\n","import React, { Dispatch, SetStateAction } from 'react'\nimport { Field, InjectedFormProps, reduxForm } from 'redux-form'\n\nimport FieldWithCounter from '../../../common/FieldWithCounter/FieldWithCounter'\nimport RenderTextField from '../../../common/RenderFormElement/RenderTextField'\nimport RenderCheckbox from '../../../common/RenderFormElement/RenderCheckbox'\nimport s from './ProfileDataForm.module.scss'\n\nimport { ProfileType } from '../../../../types/types'\n\ntype OwnPropsType = {\n  initialValues: ProfileType\n  errorProfileContacts: string\n  setIsEditInputProfileForm: Dispatch<SetStateAction<boolean>>\n}\n\nconst Form: React.FC<\n  InjectedFormProps<ProfileType, OwnPropsType> & OwnPropsType\n> = (props) => {\n  const {\n    handleSubmit,\n    initialValues,\n    errorProfileContacts,\n    setIsEditInputProfileForm,\n  } = props\n\n  return (\n    <form onSubmit={handleSubmit} className={s.form}>\n      <h1 className={s.titleForm}>Edit profile</h1>\n\n      <FieldDataForm\n        label='Name:'\n        name='fullName'\n        placeholder='Your name'\n        maxLength={100}\n        multiline='false'\n        setIsEditInputProfileForm={setIsEditInputProfileForm}\n      />\n\n      <FieldDataForm\n        label='About me:'\n        name='aboutMe'\n        placeholder='Write about yourself!'\n        maxLength={1000}\n        multiline='true'\n        setIsEditInputProfileForm={setIsEditInputProfileForm}\n      />\n\n      <div className={s.block}>\n        <Field\n          component={RenderCheckbox}\n          onChange={() => {\n            setIsEditInputProfileForm(true)\n          }}\n          name='lookingForAJob'\n          label='Are you looking for a job?'\n        />\n      </div>\n\n      <FieldDataForm\n        label='Professional skills:'\n        name='lookingForAJobDescription'\n        placeholder='What you can do?'\n        maxLength={1000}\n        multiline='true'\n        setIsEditInputProfileForm={setIsEditInputProfileForm}\n      />\n\n      <address className={s.block}>\n        <div className={s.titleAllContacts}>Contacts:</div>\n\n        {errorProfileContacts ? (\n          <div className={s.errorProfileContacts}>{errorProfileContacts}</div>\n        ) : (\n          <></>\n        )}\n\n        {Object.keys(initialValues.contacts).map((key) => (\n          <div className={s.contact} key={key}>\n            <div className={s.titleContact}>{key}:</div>\n\n            <Field\n              component={RenderTextField}\n              onInput={() => setIsEditInputProfileForm(true)}\n              name={`contacts.${key}`}\n              placeholder='https://...'\n              multiline\n              fullWidth\n            />\n          </div>\n        ))}\n      </address>\n    </form>\n  )\n}\n\ntype FieldDataFormPropsType = {\n  label: string\n  name: string\n  placeholder: string\n  maxLength: number\n  multiline: 'true' | 'false'\n  setIsEditInputProfileForm: Dispatch<SetStateAction<boolean>>\n}\n\nconst FieldDataForm: React.FC<FieldDataFormPropsType> = (props) => {\n  const {\n    label,\n    name,\n    placeholder,\n    maxLength,\n    multiline,\n    setIsEditInputProfileForm,\n  } = props\n\n  return (\n    <div className={s.block}>\n      <FieldWithCounter\n        renderContent={(handleInput, handleFocus, handleBlur) => (\n          <Field\n            component={RenderTextField}\n            label={label}\n            name={name}\n            placeholder={placeholder}\n            inputProps={{ maxLength }}\n            multiline={multiline === 'true'}\n            fullWidth\n            variant='filled'\n            onInput={handleInput}\n            onFocus={handleFocus}\n            onBlur={handleBlur}\n          />\n        )}\n        maxLength={maxLength}\n        setIsEditInputProfileForm={setIsEditInputProfileForm}\n      />\n    </div>\n  )\n}\n\nconst ProfileDataForm = reduxForm<ProfileType, OwnPropsType>({\n  form: 'editProfile',\n})(Form)\n\nexport default ProfileDataForm\n","export default __webpack_public_path__ + \"static/media/camera.b8f081b1.svg\";","import React from 'react'\n\nimport cn from 'classnames'\nimport s from './ProfileInputChangeAvatar.module.scss'\nimport camera from '../../../../img/icons/camera.svg'\n\ntype PropsType = {\n  isOwner: boolean\n  isEditModeProfile: boolean\n  handleChangeAvatar: (e: React.ChangeEvent<HTMLInputElement>) => void\n}\n\nconst ProfileInputChangeAvatar: React.FC<PropsType> = ({\n  isOwner,\n  isEditModeProfile,\n  handleChangeAvatar,\n}) => (\n  <>\n    {isOwner && !isEditModeProfile && (\n      <div className={s.container} title='Change avatar'>\n        <label htmlFor='file_out'>\n          <input\n            type='file'\n            id='file_out'\n            className={s.visuallyHidden}\n            onChange={handleChangeAvatar}\n          />\n          <span\n            className={cn(s.wrapImg, s.elementInteractive)}\n            style={{ borderRadius: '50%' }}\n          >\n            <img src={camera} alt='change avatar' />\n          </span>\n        </label>\n      </div>\n    )}\n  </>\n)\n\nexport default ProfileInputChangeAvatar\n","import React, { useEffect, useState } from 'react'\nimport { createPortal } from 'react-dom'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { submit } from 'redux-form'\n\nimport Button from '@material-ui/core/Button'\nimport EditIcon from '@material-ui/icons/Edit'\nimport SaveIcon from '@material-ui/icons/Save'\nimport CloseIcon from '@material-ui/icons/Close'\nimport s from './ProfileInfoContainer.module.scss'\n\nimport Avatar from '../../common/Avatar/Avatar'\nimport Preloader from '../../common/Preloader/Preloader'\nimport ProfilePlug from './ProfilePlug/ProfilePlug'\nimport ProfileStatus from './ProfileStatus/ProfileStatus'\nimport ProfileData from './ProfileData/ProfileData'\nimport ProfileDataForm from './ProfileDataForm/ProfileDataForm'\nimport ProfileInputChangeAvatar from './ProfileInputChangeAvatar/ProfileInputChangeAvatar'\n\nimport { getTheme } from '../../../redux/selectors/app-selectors'\nimport {\n  getEditModeProfile,\n  getErrorProfileContacts,\n  getProfile,\n  getShowSuccessSave,\n} from '../../../redux/selectors/profile-selectors'\nimport {\n  actions,\n  savePhotoThunk,\n  saveProfileThunk,\n} from '../../../redux/reducers/profile-reducer'\n\nimport { ProfileType } from '../../../types/types'\n\n// when going to the profile page, scroll up to the name\nfunction ScrollToTopOnMount() {\n  useEffect(() => {\n    const fullName = document.getElementById('scrollToTopOnMount')\n    fullName?.scrollIntoView(false)\n  }, [])\n  return null\n}\n\ntype PropsType = {\n  isOwner: boolean\n}\n\nconst ProfileInfoContainer: React.FC<PropsType> = ({ isOwner }) => {\n  const stylesSaveAndCancelButton: React.CSSProperties = {\n    fontSize: 12,\n    color: 'white',\n    textShadow: '2px 2px 7px var(--color-darkBlueTransparent)',\n    margin: 10,\n  }\n\n  const stylesEditButton: React.CSSProperties = {\n    fontSize: 12,\n    marginTop: 20,\n  }\n\n  // for ProfileInfoDataForm\n  const errorProfileContacts = useSelector(getErrorProfileContacts)\n\n  const theme = useSelector(getTheme)\n  const profile = useSelector(getProfile)\n  const showSuccessSave = useSelector(getShowSuccessSave)\n  const isEditModeProfile = useSelector(getEditModeProfile)\n  const dispatch = useDispatch()\n\n  const [isEditInputProfileForm, setIsEditInputProfileForm] = useState(false)\n\n  const onSubmitProfile = (values: ProfileType) => {\n    dispatch(saveProfileThunk(values))\n  }\n\n  const handleChangeAvatar = (e: React.ChangeEvent<HTMLInputElement>) => {\n    if (e.target.files?.length) {\n      dispatch(savePhotoThunk(e.target.files[0]))\n    }\n  }\n\n  const handleEditProfile = () => {\n    dispatch(actions.setEditModeProfile(true))\n  }\n\n  const handleSaveProfile = () => {\n    setIsEditInputProfileForm(false)\n    dispatch(submit('editProfile'))\n  }\n\n  const handleCancelProfile = () => {\n    setIsEditInputProfileForm(false)\n    dispatch(actions.setEditModeProfile(false))\n  }\n\n  if (!profile) {\n    return (\n      <>\n        <Preloader display='default' />\n        <ProfilePlug isOwner={isOwner} />\n      </>\n    )\n  }\n\n  return (\n    <section className={s.container}>\n      <h1 className={s.visuallyHidden}>Profile information</h1>\n      <div className={s.columnLeft}>\n        <div className={s.avatarWrap}>\n          <Avatar photo={profile.photos.large} size='extra-large' id={null} />\n          <ProfileInputChangeAvatar\n            isOwner={isOwner}\n            isEditModeProfile={isEditModeProfile}\n            handleChangeAvatar={handleChangeAvatar}\n          />\n        </div>\n\n        {isOwner && !isEditModeProfile && (\n          <Button\n            onClick={handleEditProfile}\n            variant='outlined'\n            style={stylesEditButton}\n            startIcon={<EditIcon style={{ fontSize: 16 }} />}\n          >\n            Edit profile\n          </Button>\n        )}\n\n        {isEditModeProfile && (\n          <div className={s.buttonsSaveAndCancelProfile}>\n            <Button\n              onClick={handleSaveProfile}\n              disabled={!isEditInputProfileForm}\n              variant='contained'\n              color={theme === 'theme1' ? 'primary' : 'secondary'}\n              fullWidth\n              style={stylesSaveAndCancelButton}\n              startIcon={<SaveIcon />}\n            >\n              Save\n            </Button>\n            <Button\n              onClick={handleCancelProfile}\n              variant='outlined'\n              fullWidth\n              style={stylesSaveAndCancelButton}\n              startIcon={<CloseIcon />}\n            >\n              Cancel\n            </Button>\n          </div>\n        )}\n\n        {isEditModeProfile && showSuccessSave && (\n          <ShowSuccessSavePortal>\n            <div className={s.successSave}>{showSuccessSave}</div>\n          </ShowSuccessSavePortal>\n        )}\n      </div>\n\n      <div className={s.columnRight}>\n        {!isEditModeProfile && (\n          <div id='scrollToTopOnMount' className={s.fullName}>\n            {profile.fullName}\n          </div>\n        )}\n\n        {!isEditModeProfile && <ProfileStatus isOwner={isOwner} />}\n\n        {isEditModeProfile ? (\n          <ProfileDataForm\n            initialValues={profile}\n            onSubmit={onSubmitProfile}\n            errorProfileContacts={errorProfileContacts}\n            setIsEditInputProfileForm={setIsEditInputProfileForm}\n          />\n        ) : (\n          <ProfileData profile={profile} />\n        )}\n      </div>\n\n      {/* when you go to the profile page, the scroll will be reset */}\n      <ScrollToTopOnMount />\n    </section>\n  )\n}\n\nconst ShowSuccessSavePortal = ({ children }: { children: React.ReactNode }) => {\n  const el: HTMLDivElement = document.createElement('div')\n  document.body.append(el)\n\n  return createPortal(children, el)\n}\n\nexport default ProfileInfoContainer\n","import React from 'react'\nimport { Redirect } from 'react-router-dom'\nimport { useSelector } from 'react-redux'\n\nimport { getIsAuth } from '../redux/selectors/auth-selectors'\n\n// WCP = WrappedComponentProps\nexport default function withAuthRedirect<WCP>(\n  WrappedComponent: React.ComponentType<WCP>\n) {\n  const RedirectComponent: React.FC = (props) => {\n    const isAuth = useSelector(getIsAuth)\n\n    if (!isAuth) {\n      return <Redirect to='/login' />\n    }\n\n    return <WrappedComponent {...(props as WCP)} />\n  }\n\n  return RedirectComponent\n}\n","import React from 'react'\nimport { compose } from 'redux'\nimport { connect } from 'react-redux'\nimport { withRouter, RouteComponentProps } from 'react-router-dom'\n\nimport ProfileWall from './ProfileWall/ProfileWall'\nimport ProfileInfoContainer from './ProfileInfo/ProfileInfoContainer'\nimport withAuthRedirect from '../../hoc/withAuthRedirect'\n\nimport { getEditModeProfile } from '../../redux/selectors/profile-selectors'\nimport { AppStateType } from '../../redux/redux-store'\nimport {\n  getUserProfile,\n  getStatus,\n  actions,\n} from '../../redux/reducers/profile-reducer'\n\ntype MapStatePropsType = {\n  authorizedUserID: number | null\n  isEditModeProfile: boolean\n}\n\ntype MapDispatchPropsType = {\n  getUserProfile: (userId: number) => void\n  getStatus: (userId: number) => void\n  setEditModeProfile: (bool: boolean) => void\n}\n\ntype PathParamsType = {\n  userId: string\n}\n\ntype PropsType = MapStatePropsType &\n  MapDispatchPropsType &\n  RouteComponentProps<PathParamsType>\n\nclass ProfileContainer extends React.PureComponent<PropsType> {\n  componentDidMount() {\n    this.refreshProfile()\n  }\n\n  componentDidUpdate(prevProps: PropsType) {\n    const { match } = this.props\n    // render when switching from one page to another\n    if (match.params.userId !== prevProps.match.params.userId) {\n      this.refreshProfile()\n    }\n  }\n\n  componentWillUnmount() {\n    const { isEditModeProfile, setEditModeProfile } = this.props\n    if (isEditModeProfile) {\n      setEditModeProfile(false)\n    }\n  }\n\n  refreshProfile() {\n    // getUserProfile and getStatus are already declared in the upper scope\n    // eslint-disable-next-line @typescript-eslint/no-shadow\n    const { match, authorizedUserID, history, getUserProfile, getStatus } =\n      this.props\n    let userId: number | null = +match.params.userId\n\n    if (!userId) {\n      userId = authorizedUserID\n      if (!userId) {\n        history.push('/login')\n      }\n    }\n\n    getUserProfile(userId as number)\n    getStatus(userId as number)\n  }\n\n  render(): React.ReactElement<PropsType> {\n    const { match, authorizedUserID, isEditModeProfile } = this.props\n    const isOwner = +match.params.userId === authorizedUserID\n\n    return (\n      <main>\n        <ProfileInfoContainer isOwner={isOwner} />\n        {!isEditModeProfile && isOwner && <ProfileWall />}\n      </main>\n    )\n  }\n}\n\nconst mapStateToProps = (state: AppStateType): MapStatePropsType => {\n  return {\n    authorizedUserID: state.auth.userID,\n    isEditModeProfile: getEditModeProfile(state),\n  }\n}\n\nexport default compose<React.ComponentType>(\n  connect<\n    MapStatePropsType,\n    MapDispatchPropsType,\n    RouteComponentProps<PathParamsType>,\n    AppStateType\n  >(mapStateToProps, {\n    getUserProfile,\n    getStatus,\n    setEditModeProfile: actions.setEditModeProfile,\n  }),\n  withRouter,\n  withAuthRedirect\n)(ProfileContainer)\n","export default __webpack_public_path__ + \"static/media/preloaderStart.a6528613.svg\";","import React from 'react'\nimport preloaderStart from '../../../img/preloader/preloaderStart.svg'\nimport s from './Preloader.module.scss'\n\nconst PreloaderStart: React.FC = () => {\n  return (\n    <div className={s.container}>\n      <div className={s.wrap}>\n        <img src={preloaderStart} alt='preloader' />\n      </div>\n    </div>\n  )\n}\n\nexport default PreloaderStart\n","export default __webpack_public_path__ + \"static/media/logo.15f621b4.svg\";","import React, { useEffect, useState, memo, useCallback } from 'react'\nimport { NavLink } from 'react-router-dom'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport Button from '@material-ui/core/Button'\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp'\nimport InvertColorsIcon from '@material-ui/icons/InvertColors'\nimport { IconButton } from '@material-ui/core'\nimport s from './Header.module.scss'\nimport logo from '../../img/icons/logo.svg'\n\nimport Avatar from '../common/Avatar/Avatar'\nimport useLocalStorage from '../../hooks/useLocalStorage'\n\nimport {\n  getAuthorizedUserID,\n  getIsAuth,\n  getLogin,\n  getMyPhoto,\n} from '../../redux/selectors/auth-selectors'\nimport { getTheme } from '../../redux/selectors/app-selectors'\nimport { logoutThunk } from '../../redux/reducers/auth-reducer'\nimport { actions } from '../../redux/reducers/app-reducer'\n\nimport { ThemeType } from '../../types/types'\n\nconst Header: React.FC = () => {\n  const isAuth = useSelector(getIsAuth)\n  const login = useSelector(getLogin)\n  const myID = useSelector(getAuthorizedUserID)\n  const myPhoto = useSelector(getMyPhoto)\n  const theme = useSelector(getTheme)\n  const dispatch = useDispatch()\n\n  const [themeLocal, setThemeLocal] = useState(theme as ThemeType)\n\n  useEffect(() => {\n    const colors = {\n      cyan: `var(--color-cyan-${themeLocal})`,\n      cyanLight: `var(--color-cyanLight-${themeLocal})`,\n      cyanMedium: `var(--color-cyanMedium-${themeLocal})`,\n      cyanDark: `var(--color-cyanDark-${themeLocal})`,\n      darkBlue: `var(--color-darkBlue-${themeLocal})`,\n      darkBlueTransparent: `var(--color-darkBlueTransparent-${themeLocal})`,\n    }\n\n    const keys = Object.keys(colors)\n    const values = Object.values(colors)\n\n    for (let i = 0; i < keys.length; i++) {\n      document.body.style.setProperty(`--color-${keys[i]}`, values[i])\n    }\n  }, [theme, themeLocal])\n\n  useLocalStorage('theme', theme, actions.setTheme, setThemeLocal)\n\n  const handleToggleTheme = useCallback(() => {\n    dispatch(actions.setTheme(themeLocal === 'theme1' ? 'theme2' : 'theme1'))\n    setThemeLocal(themeLocal === 'theme1' ? 'theme2' : 'theme1')\n  }, [dispatch, themeLocal])\n\n  const handleLogout = useCallback(() => {\n    dispatch(logoutThunk())\n  }, [dispatch])\n\n  return (\n    <header className={s.header}>\n      <Logo />\n      <div className={s.rightColumn}>\n        {isAuth ? (\n          <>\n            <div className={s.loginAndPhoto}>\n              <Avatar photo={myPhoto} size='small' id={myID} />\n              <span className={s.loginName}>{login}</span>\n            </div>\n            <ButtonChangeTheme\n              theme={theme}\n              handleToggleTheme={handleToggleTheme}\n            />\n            <ButtonLogout handleLogout={handleLogout} />\n          </>\n        ) : (\n          <ButtonChangeTheme\n            theme={theme}\n            handleToggleTheme={handleToggleTheme}\n          />\n        )}\n      </div>\n    </header>\n  )\n}\n\nconst Logo: React.FC = memo(() => (\n  <NavLink className={s.logoAndTitle} to='/profile'>\n    <img src={logo} alt='logo' />\n    <span className={s.headerTitleDesktop}>Social network</span>\n    <span hidden className={s.headerTitleMobile}>\n      SN\n    </span>\n  </NavLink>\n))\n\ntype ButtonChangeThemePropsType = {\n  theme: ThemeType\n  handleToggleTheme: () => void\n}\n\nconst ButtonChangeTheme: React.FC<ButtonChangeThemePropsType> = ({\n  theme,\n  handleToggleTheme,\n}) => (\n  <>\n    <span className={s.buttonThemeDesktop}>\n      <Button\n        color={theme === 'theme1' ? 'primary' : 'secondary'}\n        style={{ padding: '6px 12px', marginRight: '12px' }}\n        onClick={handleToggleTheme}\n        startIcon={<InvertColorsIcon />}\n      >\n        Change theme\n      </Button>\n    </span>\n\n    <span hidden className={s.buttonThemeMobile}>\n      <IconButton\n        onClick={handleToggleTheme}\n        aria-label='changeTheme'\n        style={{ margin: '0 12px' }}\n        title='Change theme'\n      >\n        <InvertColorsIcon\n          color={theme === 'theme1' ? 'primary' : 'secondary'}\n        />\n      </IconButton>\n    </span>\n  </>\n)\n\nconst ButtonLogout: React.FC<{ handleLogout: () => void }> = memo(\n  ({ handleLogout }) => (\n    <>\n      <span className={s.buttonLogoutDesktop}>\n        <Button\n          onClick={handleLogout}\n          variant='outlined'\n          style={{ marginRight: '12px' }}\n          startIcon={<ExitToAppIcon />}\n        >\n          Log out\n        </Button>\n      </span>\n      <span hidden className={s.buttonLogoutMobile}>\n        <IconButton title='Logout of profile' onClick={handleLogout}>\n          <ExitToAppIcon />\n        </IconButton>\n      </span>\n    </>\n  )\n)\n\nexport default Header\n","/* eslint-disable max-len */\nimport React from 'react'\nimport { useSelector } from 'react-redux'\nimport { NavLink, useLocation } from 'react-router-dom'\n\nimport cn from 'classnames'\nimport s from './Navbar.module.scss'\nimport { getAuthorizedUserID } from '../../redux/selectors/auth-selectors'\n\nconst Navbar: React.FC = () => {\n  const authorizedUserID = useSelector(getAuthorizedUserID)\n  const { pathname } = useLocation()\n\n  const profileUrl = `/profile/${authorizedUserID}`\n\n  const pages = [\n    { id: 1, name: 'Profile', to: profileUrl, exact: true },\n    { id: 2, name: 'Chat', to: '/chat', exact: false },\n    { id: 3, name: 'Find Users', to: '/users', exact: false },\n    { id: 4, name: 'Friends', to: '/friends', exact: false },\n  ]\n\n  type PageType = {\n    id: number\n    name: string\n    to: string\n    exact: boolean\n  }\n\n  return (\n    <nav className={s.nav}>\n      <ul>\n        {pages.map((p: PageType) => (\n          <li key={p.id}>\n            <NavLink\n              exact={p.exact}\n              to={p.to}\n              activeClassName={s.active}\n              className={s.navLink}\n              replace\n            >\n              <svg\n                width='24'\n                height='24'\n                viewBox='0 0 24 24'\n                className={cn(s.navLinkImg, {\n                  [s.activeIcon]: pathname === p.to,\n                })}\n              >\n                {/\\/profile*/.test(p.to)\n                  ? profilePath\n                  : p.to === '/chat'\n                  ? chatPath\n                  : p.to === '/users'\n                  ? usersPath\n                  : friendsPath}\n              </svg>\n              {p.name}\n            </NavLink>\n          </li>\n        ))}\n      </ul>\n    </nav>\n  )\n}\n\nconst profilePath = (\n  <path d='M12 4a4 4 0 014 4 4 4 0 01-4 4 4 4 0 01-4-4 4 4 0 014-4m0 10c4.42 0 8 1.79 8 4v2H4v-2c0-2.21 3.58-4 8-4z' />\n)\n\nconst chatPath = (\n  <path d='M20 2H4a2 2 0 00-2 2v18l4-4h14a2 2 0 002-2V4a2 2 0 00-2-2z' />\n)\n\nconst usersPath = (\n  <path d='M15.5 12a4.48 4.48 0 013.81 6.9l3.08 3.1L21 23.39l-3.12-3.07A4.5 4.5 0 1115.5 12m0 2a2.5 2.5 0 00-2.5 2.5 2.5 2.5 0 002.5 2.5 2.5 2.5 0 002.5-2.5 2.5 2.5 0 00-2.5-2.5M10 4a4 4 0 014 4c0 .91-.31 1.75-.82 2.43-.86.32-1.63.83-2.27 1.47L10 12a4 4 0 01-4-4 4 4 0 014-4M2 20v-2c0-2.12 3.31-3.86 7.5-4a6.56 6.56 0 00.5 6H2z' />\n)\n\nconst friendsPath = (\n  <path d='M12 5.5A3.5 3.5 0 0115.5 9a3.5 3.5 0 01-3.5 3.5A3.5 3.5 0 018.5 9 3.5 3.5 0 0112 5.5M5 8c.56 0 1.08.15 1.53.42a5.54 5.54 0 001.13 3.96A3 3 0 015 14a3 3 0 01-3-3 3 3 0 013-3m14 0a3 3 0 013 3 3 3 0 01-3 3 3 3 0 01-2.66-1.62 5.54 5.54 0 001.13-3.96c.45-.27.97-.42 1.53-.42M5.5 18.25c0-2.07 2.91-3.75 6.5-3.75s6.5 1.68 6.5 3.75V20h-13v-1.75M0 20v-1.5c0-1.39 1.89-2.56 4.45-2.9a4.04 4.04 0 00-.95 2.65V20H0m24 0h-3.5v-1.75c0-1.03-.36-1.97-.95-2.65 2.56.34 4.45 1.51 4.45 2.9V20z' />\n)\n\nexport default Navbar\n","import React from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { Redirect } from 'react-router-dom'\nimport { Field, InjectedFormProps, reduxForm } from 'redux-form'\n\nimport cn from 'classnames'\nimport Button from '@material-ui/core/Button'\nimport s from './Login.module.scss'\nimport RenderTextField from '../common/RenderFormElement/RenderTextField'\nimport RenderCheckbox from '../common/RenderFormElement/RenderCheckbox'\n\nimport {\n  getAuthorizedUserID,\n  getCaptchaURL,\n  getIsAuth,\n} from '../../redux/selectors/auth-selectors'\nimport { getTheme } from '../../redux/selectors/app-selectors'\nimport { loginThunk } from '../../redux/reducers/auth-reducer'\n\nconst validate = (values: LoginFormValuesType) => {\n  type ErrorsType = {\n    email?: string\n    password?: string\n    captcha?: string\n  }\n\n  const errors: ErrorsType = {}\n\n  if (\n    values.email &&\n    !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.email)\n  ) {\n    errors.email = 'Invalid email address'\n  }\n\n  return errors\n}\n\ntype OwnPropsType = {\n  captchaURL: string | null\n  handleEnterTestAccount: () => void\n}\n\ntype LoginFormValuesType = {\n  email: string\n  password: string\n  rememberMe: boolean\n  captcha: string\n}\n\nconst Login: React.FC = () => {\n  const isAuth = useSelector(getIsAuth)\n  const captchaURL = useSelector(getCaptchaURL)\n  const userID = useSelector(getAuthorizedUserID)\n  const dispatch = useDispatch()\n\n  const onSubmit = (values: LoginFormValuesType) => {\n    dispatch(\n      loginThunk(\n        values.email,\n        values.password,\n        values.rememberMe,\n        values.captcha\n      )\n    )\n  }\n\n  const handleEnterTestAccount = () => {\n    const email = 'free@samuraijs.com'\n    const password = 'free'\n    dispatch(loginThunk(email, password, false, null))\n  }\n\n  if (isAuth) {\n    return <Redirect to={`/profile/${userID}`} />\n  }\n\n  return (\n    <main className={s.container}>\n      <div className={s.body}>\n        <h1>Log in</h1>\n        <LoginReduxForm\n          onSubmit={onSubmit}\n          captchaURL={captchaURL}\n          handleEnterTestAccount={handleEnterTestAccount}\n        />\n      </div>\n    </main>\n  )\n}\n\nconst LoginForm: React.FC<\n  InjectedFormProps<LoginFormValuesType, OwnPropsType> & OwnPropsType\n> = ({ handleSubmit, handleEnterTestAccount, error, captchaURL }) => {\n  const stylesLoginButton: React.CSSProperties = {\n    fontSize: 16,\n    fontWeight: 700,\n    color: 'white',\n    textShadow: '2px 2px 7px var(--color-darkBlueTransparent)',\n  }\n\n  const stylesTestLoginButton: React.CSSProperties = {\n    marginBottom: '15px',\n    ...stylesLoginButton,\n  }\n\n  const theme = useSelector(getTheme)\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <div className={s.loginBlockSubstrate}>\n        <div className={s.loginBlock}>\n          <div className={s.wrapElementForm}>\n            <Field\n              component={RenderTextField}\n              autoComplete='username'\n              name='email'\n              label='Email:'\n              type='email'\n              fullWidth\n            />\n          </div>\n          <div className={s.wrapElementForm}>\n            <Field\n              component={RenderTextField}\n              autoComplete='current-password'\n              name='password'\n              label='Password:'\n              type='password'\n              fullWidth\n            />\n          </div>\n          <div className={cn(s.wrapElementForm, s.wrapCheckbox)}>\n            <Field\n              component={RenderCheckbox}\n              name='rememberMe'\n              label='Remember me'\n            />\n          </div>\n\n          {captchaURL && <img src={captchaURL} alt='captcha' />}\n          {captchaURL && (\n            <Field component={RenderTextField} fullWidth name='captcha' />\n          )}\n\n          <div className={s.wrapElementForm}>\n            <Button\n              type='submit'\n              variant='contained'\n              color={theme === 'theme1' ? 'primary' : 'secondary'}\n              fullWidth\n              style={stylesLoginButton}\n            >\n              Log in\n            </Button>\n\n            {error && (\n              <article className={s.error}>\n                {error === 'You are not authorized' ? (\n                  <>\n                    <p>1. You are either not authorized</p>\n                    <p>or</p>\n                    <p>\n                      2. Please, unblock third party cookies or show all cookies\n                      or add an exception for <br />\n                      <u>ignatov-ru.github.io</u>\n                      <br /> to resolve (see browser settings)\n                    </p>\n                  </>\n                ) : (\n                  error\n                )}\n              </article>\n            )}\n          </div>\n        </div>\n      </div>\n\n      <p>or</p>\n\n      <Button\n        onClick={handleEnterTestAccount}\n        variant='contained'\n        color={theme === 'theme1' ? 'primary' : 'secondary'}\n        fullWidth\n        style={stylesTestLoginButton}\n      >\n        Login to test account\n      </Button>\n    </form>\n  )\n}\n\nconst LoginReduxForm = reduxForm<LoginFormValuesType, OwnPropsType>({\n  form: 'loginForm',\n  validate,\n})(LoginForm)\n\nexport default Login\n","import React from 'react'\n\nclass ErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = { error: null }\n  }\n\n  componentDidCatch(error) {\n    this.setState({ error })\n  }\n\n  render() {\n    const { error } = this.state\n    const { children } = this.props\n\n    if (error) {\n      return (\n        <div>\n          <h2>Something went wrong</h2>\n          <details style={{ whiteSpace: 'pre-wrap' }}>\n            {error?.toString()}\n          </details>\n        </div>\n      )\n    }\n\n    return children\n  }\n}\n\nexport default ErrorBoundary\n","import React, { useEffect, lazy, Suspense } from 'react'\nimport { Route, Switch, Redirect } from 'react-router-dom'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport ProfileContainer from './components/Profile/ProfileContainer'\nimport PreloaderStart from './components/common/Preloader/PreloaderStart'\nimport Header from './components/Header/Header'\nimport Navbar from './components/Navbar/Navbar'\nimport Login from './components/Login/Login'\nimport ErrorBoundary from './components/Error/ErrorBoundary'\nimport Preloader from './components/common/Preloader/Preloader'\n\nimport withAuthRedirect from './hoc/withAuthRedirect'\n\nimport s from './App.module.scss'\n\nimport { getInitialized } from './redux/selectors/app-selectors'\nimport { getAuthorizedUserID } from './redux/selectors/auth-selectors'\nimport { initializeApp } from './redux/reducers/app-reducer'\n\nconst SuspendedChat = withAuthRedirect(\n  lazy(() => import('./components/Chat/Chat'))\n)\nconst SuspendedUsers = withAuthRedirect(\n  lazy(() => import('./components/Users/UsersContainer'))\n)\nconst SuspendedFriends = withAuthRedirect(\n  lazy(() => import('./components/Friends/FriendsContainer'))\n)\n\nconst App: React.FC = () => {\n  const userID = useSelector(getAuthorizedUserID)\n  const initialized = useSelector(getInitialized)\n  const dispatch = useDispatch()\n\n  useEffect(() => {\n    dispatch(initializeApp())\n  }, [dispatch])\n\n  if (!initialized) {\n    return <PreloaderStart />\n  }\n\n  return (\n    <div className={s.fon}>\n      <div className={s.container}>\n        <div className={s.appWrapper}>\n          <Header />\n          <Navbar />\n\n          <div className={s.appWrapperContent}>\n            <ErrorBoundary>\n              <Suspense fallback={<Preloader display='default' />}>\n                <Switch>\n                  <Redirect from='/profile/undefined' to='/' />\n\n                  <Route\n                    path='/profile/:userId'\n                    render={() => <ProfileContainer />}\n                  />\n\n                  <Route path='/chat' render={() => <SuspendedChat />} />\n\n                  <Route path='/friends' render={() => <SuspendedFriends />} />\n\n                  <Route path='/users' render={() => <SuspendedUsers />} />\n\n                  <Route path='/login' render={() => <Login />} />\n\n                  <Redirect exact from='/' to={`/profile/${userID}`} />\n\n                  <Redirect from='*' to='/' />\n                </Switch>\n              </Suspense>\n            </ErrorBoundary>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { HashRouter } from 'react-router-dom'\nimport { Provider } from 'react-redux'\n\nimport './styles/theme.css'\nimport {\n  createTheme,\n  ThemeProvider,\n  responsiveFontSizes,\n} from '@material-ui/core/styles'\nimport CssBaseline from '@material-ui/core/CssBaseline'\n\nimport store from './redux/redux-store'\nimport App from './App'\n\nlet theme = createTheme({\n  palette: {\n    type: 'dark',\n    // color of main buttons, active links in navigation,\n    // decorative lines, borders for forms elements\n    primary: {\n      main: '#00bcd4',\n      // 1st theme, blue\n    },\n    secondary: {\n      main: '#00d482',\n      // 2nd theme, green\n    },\n  },\n})\n\ntheme = responsiveFontSizes(theme)\n\nReactDOM.render(\n  <HashRouter>\n    <ThemeProvider theme={theme}>\n      <Provider store={store}>\n        <CssBaseline />\n        <App />\n      </Provider>\n    </ThemeProvider>\n  </HashRouter>,\n  document.getElementById('root')\n)\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ProfilePlug_container__cLnav\",\"columnLeft\":\"ProfilePlug_columnLeft__1gWkq\",\"columnRight\":\"ProfilePlug_columnRight__P0_mc\",\"avatar\":\"ProfilePlug_avatar__3yJf0\",\"button\":\"ProfilePlug_button__LIaZ-\",\"name\":\"ProfilePlug_name__2MG01\",\"status\":\"ProfilePlug_status__2siOn\",\"titleOne\":\"ProfilePlug_titleOne__2E1qB\",\"titleTwo\":\"ProfilePlug_titleTwo__2gCQJ\",\"text\":\"ProfilePlug_text__2tnH5\",\"nameWrap\":\"ProfilePlug_nameWrap__3YLnV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1kFdy\",\"logoAndTitle\":\"Header_logoAndTitle__E1gOe\",\"headerTitleDesktop\":\"Header_headerTitleDesktop__3of0u\",\"headerTitleMobile\":\"Header_headerTitleMobile__3ZA7x\",\"rightColumn\":\"Header_rightColumn__2gu4E\",\"loginAndPhoto\":\"Header_loginAndPhoto__1azBA\",\"loginName\":\"Header_loginName__ncEXR\",\"buttonThemeDesktop\":\"Header_buttonThemeDesktop__1I4yL\",\"buttonThemeMobile\":\"Header_buttonThemeMobile__1i4f9\",\"buttonLogoutDesktop\":\"Header_buttonLogoutDesktop__1gRK-\",\"buttonLogoutMobile\":\"Header_buttonLogoutMobile__1W2MZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"visuallyHidden\":\"ProfileStatus_visuallyHidden__1nXln\",\"elementInteractive\":\"ProfileStatus_elementInteractive__3yog2\",\"container\":\"ProfileStatus_container__1RUzu\",\"statusEditMode\":\"ProfileStatus_statusEditMode__1PtHr\",\"buttonAndCounter\":\"ProfileStatus_buttonAndCounter__2uC-t\",\"buttonWrap\":\"ProfileStatus_buttonWrap__3HwQn\",\"plug\":\"ProfileStatus_plug__2_kyo\",\"statusMy\":\"ProfileStatus_statusMy__2__BM\",\"statusNotMy\":\"ProfileStatus_statusNotMy__1Qrk6\",\"noStatus\":\"ProfileStatus_noStatus__3Ja75\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Login_container__23Xy-\",\"body\":\"Login_body__3DOsP\",\"loginBlockSubstrate\":\"Login_loginBlockSubstrate__3-IH5\",\"loginBlock\":\"Login_loginBlock__3-8mF\",\"wrapElementForm\":\"Login_wrapElementForm__11_XC\",\"wrapCheckbox\":\"Login_wrapCheckbox__C4FCE\",\"error\":\"Login_error__1DcN3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapButtons\":\"ProfileButtonsPostsDelete_wrapButtons__2-ERZ\",\"buttons\":\"ProfileButtonsPostsDelete_buttons__3WrB1\",\"buttonDesktop\":\"ProfileButtonsPostsDelete_buttonDesktop__O-AW9\",\"buttonMobile\":\"ProfileButtonsPostsDelete_buttonMobile__LIpeY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"count\":\"FieldWithCounter_count__Cu5UD\",\"countHidden\":\"FieldWithCounter_countHidden__3sFUY\",\"count_color_yellow\":\"FieldWithCounter_count_color_yellow__ijYFI\",\"count_color_red\":\"FieldWithCounter_count_color_red__M5buP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"ProfileDataForm_form__24NFR\",\"titleForm\":\"ProfileDataForm_titleForm__3NgXn\",\"block\":\"ProfileDataForm_block__2FUGy\",\"contact\":\"ProfileDataForm_contact__3xnPU\",\"titleAllContacts\":\"ProfileDataForm_titleAllContacts__1pG4g\",\"titleContact\":\"ProfileDataForm_titleContact__9Q8x2\",\"errorProfileContacts\":\"ProfileDataForm_errorProfileContacts__1btuZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"visuallyHidden\":\"ProfileInfoContainer_visuallyHidden__12Qr0\",\"elementInteractive\":\"ProfileInfoContainer_elementInteractive__BG73l\",\"container\":\"ProfileInfoContainer_container__3dIts\",\"columnLeft\":\"ProfileInfoContainer_columnLeft__9aSjt\",\"avatarWrap\":\"ProfileInfoContainer_avatarWrap__17uae\",\"columnRight\":\"ProfileInfoContainer_columnRight__1Q7wM\",\"iconButtonEditProfile\":\"ProfileInfoContainer_iconButtonEditProfile__34g6O\",\"fullName\":\"ProfileInfoContainer_fullName__2YZse\",\"buttonsSaveAndCancelProfile\":\"ProfileInfoContainer_buttonsSaveAndCancelProfile__DIbSX\",\"successSave\":\"ProfileInfoContainer_successSave__GV6TG\",\"anim\":\"ProfileInfoContainer_anim__25xiC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container_default\":\"Preloader_container_default__YqKY9\",\"container_block\":\"Preloader_container_block__20vZD\",\"wrap\":\"Preloader_wrap__1YoGl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"Avatar_avatar__3_fhn\",\"avatar_size_small\":\"Avatar_avatar_size_small__2TmTd\",\"avatar_size_medium\":\"Avatar_avatar_size_medium__2War4\",\"avatar_size_large\":\"Avatar_avatar_size_large__2RH6p\",\"avatar_size_extraLarge\":\"Avatar_avatar_size_extraLarge__-L17j\"};","import React, { memo } from 'react'\nimport { NavLink } from 'react-router-dom'\n\nimport cn from 'classnames'\nimport unknown from '../../../img/no_photo.svg'\nimport s from './Avatar.module.scss'\n\ntype PropsType = {\n  photo: string | null\n  size: 'small' | 'medium' | 'large' | 'extra-large'\n}\n\ntype OwnPropsType = {\n  id: number | null\n}\n\nconst Avatar: React.FC<PropsType & OwnPropsType> = ({ photo, size, id }) => {\n  // Проверка тестового аккаунта с id = 1079:\n  // установленное фото на тестовый аккаунт удаляется через короткое время\n  // на сервере и, если с этого аккаунта написано сообщение в чат, то\n  // при отрисовке этого сообщения (с удалённым фото) в ответ приходит\n  // ошибка вместо null | undefined, вскоре сервер опять присылает null\n  // вместо фото, но это происходит не сразу. Для этого случая эта проверка\n  let photoTrue\n  if (photo?.includes('1079')) {\n    photoTrue = null\n  } else {\n    photoTrue = photo\n  }\n\n  return (\n    <>\n      {id ? (\n        <NavLink to={`/profile/${id}`} replace>\n          <AvatarBody photo={photoTrue} size={size} />\n        </NavLink>\n      ) : (\n        <AvatarBody photo={photoTrue} size={size} />\n      )}\n    </>\n  )\n}\n\nconst AvatarBody: React.FC<PropsType> = ({ photo, size }) => {\n  return (\n    <div className={s.avatarWrap}>\n      <div\n        className={cn(\n          s.avatar,\n          { [s.avatar_size_extraLarge]: size === 'extra-large' },\n          { [s.avatar_size_large]: size === 'large' },\n          { [s.avatar_size_medium]: size === 'medium' },\n          { [s.avatar_size_small]: size === 'small' }\n        )}\n      >\n        <img src={photo || unknown} alt='avatar' />\n      </div>\n    </div>\n  )\n}\n\nexport default memo(Avatar)\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__33PA9\",\"navLink\":\"Navbar_navLink__18rsh\",\"navLinkImg\":\"Navbar_navLinkImg__214ti\",\"active\":\"Navbar_active__2U-iw\",\"activeIcon\":\"Navbar_activeIcon__3-qcm\"};"],"sourceRoot":""}