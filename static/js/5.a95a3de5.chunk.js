(this.webpackJsonpsocial_network=this.webpackJsonpsocial_network||[]).push([[5],{407:function(e,t,a){e.exports={allMessages:"Chat_allMessages__UAKZ2",membersAndMessages:"Chat_membersAndMessages__3U9AL",titleMembersWrap:"Chat_titleMembersWrap__3oiYe",buttonSortWrap:"Chat_buttonSortWrap__2mWSg",membersContainer:"Chat_membersContainer__3MrCZ",titleMembers:"Chat_titleMembers__26qYN",titleMembersArrow:"Chat_titleMembersArrow__PVg8V",member:"Chat_member__2BeI5",showAllWrap:"Chat_showAllWrap__26kzB",showAll:"Chat_showAll__37cpC",membersContainerHidden:"Chat_membersContainerHidden__4T58C",allMessagesAbsent:"Chat_allMessagesAbsent__2B3Of",noMessages:"Chat_noMessages__2GKTn",messageContainer:"Chat_messageContainer__2E3Jm",myMessageContainer:"Chat_myMessageContainer__2V7UT",name:"Chat_name__1BfX4",nameMember:"Chat_nameMember__Fj7Df",message:"Chat_message__XManY",avatarSmall:"Chat_avatarSmall__2gqdD",nameAndMessage:"Chat_nameAndMessage__24AIK",form:"Chat_form__24MsL",buttonSortNotShowMembers:"Chat_buttonSortNotShowMembers__1N0ux",chatMembersNotShowMembers:"Chat_chatMembersNotShowMembers__1gCAa",buttonSortMedia:"Chat_buttonSortMedia__nBCho",chatMembersMedia:"Chat_chatMembersMedia__1ddg0",titleMembersWrapDeployed:"Chat_titleMembersWrapDeployed__1s5sL",buttonSortNotShowAll:"Chat_buttonSortNotShowAll__3yZec",avatarMedium:"Chat_avatarMedium__2TD_I"}},428:function(e,t,a){"use strict";a.r(t);var s=a(28),r=a(58),n=a(0),c=a.n(n),o=a(11),l=a(42),i=a(25),b=a.n(i),m=a(396),j=a(411),h=a.n(j),d=a(410),u=a.n(d),_=a(409),O=a.n(_),M=a(406),g=a.n(M),C=a(392),p=a(401),f=a(408),x=a(407),N=a.n(x),v=a(145),S=a(74),w=a(32),A=function(e){return e.chat.messages},W=function(e){return e.chat.messages.filter((function(e,t,a){return a.findIndex((function(t){return t.userId===e.userId}))===t?e:null}))},I=function(e){return e.chat.status},y=a(181),k=a(1),T=function(){var e=Object(o.d)(W),t=Object(n.useState)(!1),a=Object(r.a)(t,2),c=a[0],i=a[1],m=Object(n.useState)(!1),j=Object(r.a)(m,2),h=j[0],d=j[1],_=c?e.length:5,M=Object(n.useState)(!1),p=Object(r.a)(M,2),x=p[0],v=p[1];return Object(k.jsxs)("div",{className:b()(N.a.membersContainer,Object(s.a)({},N.a.membersContainerHidden,!e.length)),children:[Object(k.jsxs)("div",{"aria-hidden":"true",className:b()(N.a.titleMembersWrap,Object(s.a)({},N.a.titleMembersWrapDeployed,x),Object(s.a)({},N.a.buttonSortWrapHiddenNotShowAll,!c)),onClick:function(){return v(!x)},children:[Object(k.jsx)("div",{className:N.a.titleMembers,children:"Members"}),Object(k.jsx)(g.a,{className:N.a.titleMembersArrow,path:f.a,title:"ArrowShowMembers",size:"18px"})]}),Object(k.jsx)("div",{className:b()(N.a.buttonSortWrap,Object(s.a)({},N.a.buttonSortMedia,x),Object(s.a)({},N.a.buttonSortNotShowMembers,!x),Object(s.a)({},N.a.buttonSortNotShowAll,!c)),children:Object(k.jsx)(C.a,{onClick:function(){return d(!h)},startIcon:h?Object(k.jsx)(O.a,{}):Object(k.jsx)(u.a,{}),style:{fontSize:10,marginBottom:5,padding:3},children:"sort by name"})}),Object(k.jsxs)("div",{className:b()(Object(s.a)({},N.a.chatMembersMedia,x),Object(s.a)({},N.a.chatMembersNotShowMembers,!x),Object(s.a)({},N.a.buttonSortNotShowAll,!c)),children:[e&&e.slice(0,_).sort((function(e,t){return h?t.userName.localeCompare(e.userName):e.userName.localeCompare(t.userName)})).map((function(e){return Object(k.jsxs)("div",{className:N.a.member,children:[Object(k.jsx)(l.b,{to:"/profile/".concat(e.userId),children:Object(k.jsx)(S.a,{photo:e.photo,size:"small"})}),Object(k.jsx)(l.b,{className:b()(N.a.name,N.a.nameMember),to:"/profile/".concat(e.userId),children:e.userName})]},e.userId)})),e.length>5&&!c?Object(k.jsx)("div",{className:N.a.showAllWrap,children:Object(k.jsx)("span",{"aria-hidden":"true",className:N.a.showAll,onClick:function(){return i(!0)},children:"show all..."})}):""]})]})},z=function(){var e=Object(o.d)(A),t=Object(n.useRef)(null),a=Object(n.useState)(!0),c=Object(r.a)(a,2),l=c[0],i=c[1];return Object(n.useEffect)((function(){var e;l&&(null===(e=t.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}))}),[e,l]),Object(k.jsxs)("div",{className:b()(N.a.allMessages,Object(s.a)({},N.a.allMessagesAbsent,!e.length)),onScroll:function(e){var t=e.currentTarget;Math.abs(t.scrollHeight-t.scrollTop-t.clientHeight)<1?l||i(!0):l&&i(!1)},children:[e.length?e.filter((function(e){return e.message.trim().length>0})).map((function(e){return Object(k.jsx)(B,{message:e},e.id)})):Object(k.jsxs)("div",{className:N.a.noMessages,children:["No messages yet...",Object(k.jsx)("br",{}),"Write something!"]}),Object(k.jsx)("div",{ref:t})]})},B=c.a.memo((function(e){var t=e.message,a=Object(o.d)(w.a);return Object(k.jsxs)("div",{className:b()(N.a.messageContainer,Object(s.a)({},N.a.myMessageContainer,a===t.userId)),children:[Object(k.jsxs)(l.b,{to:"/profile/".concat(t.userId),children:[Object(k.jsx)("div",{className:N.a.avatarMedium,children:Object(k.jsx)(S.a,{photo:t.photo,size:"medium"})}),Object(k.jsx)("div",{className:N.a.avatarSmall,children:Object(k.jsx)(S.a,{photo:t.photo,size:"small"})})]}),Object(k.jsxs)("div",{className:N.a.nameAndMessage,children:[Object(k.jsx)(l.b,{className:N.a.name,to:"/profile/".concat(t.userId),children:t.userName}),Object(k.jsx)("div",{className:N.a.message,children:t.message})]})]})})),D=function(){var e=c.a.useState(""),t=Object(r.a)(e,2),a=t[0],s=t[1],n=Object(o.d)(I),l=Object(o.c)();return Object(k.jsx)("div",{className:N.a.wrapForm,children:Object(k.jsxs)("div",{className:N.a.form,children:[Object(k.jsx)(p.a,{name:"newMessageText",placeholder:"Enter your message...",multiline:!0,fullWidth:!0,rowsMax:"3",variant:"outlined",inputProps:{maxLength:100},onChange:function(e){return s(e.currentTarget.value)},value:a}),Object(k.jsx)(m.a,{"aria-label":"sendMessage",color:"primary",style:{margin:"5px"},onClick:function(){a.trim()&&(l(Object(y.b)(a)),s(""))},disabled:"pending"===n,children:Object(k.jsx)(h.a,{})})]})})};t.default=Object(v.a)((function(){var e=Object(o.d)(I),t=Object(o.c)();return Object(n.useEffect)((function(){return t(Object(y.c)()),function(){t(Object(y.d)())}}),[t]),Object(k.jsxs)("div",{className:N.a.chat,children:["error"===e&&Object(k.jsx)("div",{children:"Some error occured. Please, refresh the page..."}),Object(k.jsxs)("div",{className:N.a.membersAndMessages,children:[Object(k.jsx)(z,{}),Object(k.jsx)(T,{})]}),Object(k.jsx)(D,{})]})}))}}]);
//# sourceMappingURL=5.a95a3de5.chunk.js.map