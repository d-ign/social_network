(this.webpackJsonpsocial_network=this.webpackJsonpsocial_network||[]).push([[6],{417:function(e,t,a){"use strict";var s=a(22),r=a(0);t.a=function(){var e=Object(r.useState)(window.innerWidth),t=Object(s.a)(e,2),a=t[0],n=t[1];return Object(r.useEffect)((function(){var e=function(){return n(window.innerWidth)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[a,n]),a}},433:function(e,t,a){e.exports={chat:"Chat_chat__18S3w",membersAndMessages:"Chat_membersAndMessages__1RTR_",form:"Chat_form__3kFu7"}},435:function(e,t,a){e.exports={container:"ChatMembers_container__2TP-1",visuallyHidden:"ChatMembers_visuallyHidden__3fPWw",elementInteractive:"ChatMembers_elementInteractive__1ZGlM",titleWrap:"ChatMembers_titleWrap__2aqvJ",title:"ChatMembers_title__2F3c9",titleArrow:"ChatMembers_titleArrow__Vct_Z",members:"ChatMembers_members__1ERHp",member:"ChatMembers_member__2ia4a",wrapName:"ChatMembers_wrapName__13EX8",showAllWrap:"ChatMembers_showAllWrap__3s0y4",showAll:"ChatMembers_showAll__1rcNX",notShowMembers:"ChatMembers_notShowMembers__2AwPt",titleWrapDeployed:"ChatMembers_titleWrapDeployed__1_4of"}},436:function(e,t,a){e.exports={buttonSortWrap:"ChatButtonSort_buttonSortWrap__2hZ4X",buttonSortNotShowMembers:"ChatButtonSort_buttonSortNotShowMembers__3z0o1",buttonSort:"ChatButtonSort_buttonSort___FePg"}},440:function(e,t,a){e.exports={container:"ChatMessages_container__3dBvO"}},441:function(e,t,a){e.exports={messageContainer:"ChatMessage_messageContainer__3ipmI",myMessageContainer:"ChatMessage_myMessageContainer__D-mRN",message:"ChatMessage_message__1yqt-",nameAndMessage:"ChatMessage_nameAndMessage__1h2CE",avatar_size_medium:"ChatMessage_avatar_size_medium__15DRH",avatar_size_small:"ChatMessage_avatar_size_small__3py49"}},461:function(e,t,a){"use strict";a.r(t);var s=a(22),r=a(0),n=a(9),c=a(402),i=a(442),o=a.n(i),l=a(410),m=a(433),b=a.n(m),u=a(34),h=a(16),j=a(21),d=a.n(j),_=a(434),O=a.n(_),p=a(439),x=a(435),f=a.n(x),v=a(417),g=a(438),w=a.n(g),M=a(437),C=a.n(M),S=a(406),N=a(436),y=a.n(N),A=a(1),W=function(e){var t=e.theme,a=e.isReverseSort,s=e.setIsReverseSort,r=e.isShowAll,n=e.isShowMembers;return Object(A.jsx)("div",{className:d()(y.a.buttonSortWrap,Object(h.a)({},y.a.buttonSort,n),Object(h.a)({},y.a.buttonSortNotShowMembers,!n)),children:Object(A.jsx)(S.a,{onClick:function(){return s(!a)},disabled:!r,startIcon:a?Object(A.jsx)(C.a,{}):Object(A.jsx)(w.a,{}),style:{fontSize:"10px",marginBottom:"5px",padding:"3px 10px 3px 7px"},color:"theme1"===t?"primary":"secondary",children:"sort by name"})})},z=a(79),I=a(156),R=function(e){return e.chat.messages},k=function(e){return e.chat.messages.filter((function(e,t,a){return a.findIndex((function(t){return t.userId===e.userId}))===t?e:null}))},E=function(e){return e.chat.statusWS},H=function(e){var t=e.theme,a=Object(n.d)(k),c=Object(r.useState)(!1),i=Object(s.a)(c,2),o=i[0],l=i[1],m=Object(r.useState)(!1),b=Object(s.a)(m,2),j=b[0],_=b[1],x=Object(r.useState)(!1),g=Object(s.a)(x,2),w=g[0],M=g[1],C=Object(v.a)(),S=function(){C<=760&&M(!w)},N=o?a.length:2;return Object(A.jsxs)("section",{hidden:!a.length,className:f.a.container,children:[Object(A.jsxs)("div",{"aria-hidden":"true",onChange:S,children:[Object(A.jsx)("input",{className:f.a.visuallyHidden}),Object(A.jsxs)("div",{"aria-hidden":"true",className:d()(f.a.titleWrap,f.a.elementInteractive,Object(h.a)({},f.a.titleWrapDeployed,w)),onClick:S,children:[Object(A.jsx)("h1",{className:f.a.title,children:"Members"}),Object(A.jsx)(O.a,{className:f.a.titleArrow,path:p.a,title:"ArrowShowMembers",size:"18px"})]})]}),Object(A.jsx)(W,{theme:t,isShowAll:o,isShowMembers:w,isReverseSort:j,setIsReverseSort:_}),Object(A.jsxs)("div",{className:d()(Object(h.a)({},f.a.members,w),Object(h.a)({},f.a.notShowMembers,!w)),children:[a&&Object(u.a)(a).slice(0,N).sort((function(e,t){return j?t.userName.localeCompare(e.userName):e.userName.localeCompare(t.userName)})).map((function(e){return Object(A.jsxs)("div",{className:f.a.member,children:[Object(A.jsx)(z.a,{photo:e.photo,size:"small",id:e.userId}),Object(A.jsx)("div",{className:f.a.wrapName,children:Object(A.jsx)(I.a,{id:e.userId,name:e.userName,size:"small"})})]},e.userId)})),a.length>2&&!o?Object(A.jsx)("div",{className:f.a.showAllWrap,children:Object(A.jsxs)("span",{"aria-hidden":"true",className:f.a.showAll,onClick:function(){return l(!0)},children:["show all ",a.length," ..."]})}):""]})]})},P=a(440),T=a.n(P),B=a(441),D=a.n(B),F=a(37),J=function(e){var t=e.message,a=t.userId,s=t.photo,r=t.userName,c=t.message,i=Object(n.d)(F.a);return Object(A.jsxs)("article",{className:d()(D.a.messageContainer,Object(h.a)({},D.a.myMessageContainer,i===a)),children:[Object(A.jsx)("div",{className:D.a.avatar_size_medium,children:Object(A.jsx)(z.a,{photo:s,size:"medium",id:a})}),Object(A.jsx)("div",{hidden:!0,className:D.a.avatar_size_small,children:Object(A.jsx)(z.a,{photo:s,size:"small",id:a})}),Object(A.jsxs)("div",{className:D.a.nameAndMessage,children:[Object(A.jsx)(I.a,{id:a,name:r,size:"normal"}),Object(A.jsx)("div",{className:D.a.message,children:c})]})]})},L=Object(r.memo)(J),X=a(159),Z=function(){var e=Object(n.d)(R),t=Object(r.useRef)(null),a=Object(r.useState)(!0),c=Object(s.a)(a,2),i=c[0],o=c[1];return Object(r.useEffect)((function(){var e;i&&(null===(e=t.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}))}),[e,i]),Object(A.jsxs)("section",{className:T.a.container,onScroll:function(e){var t=e.currentTarget,a=t.scrollHeight-t.scrollTop-t.clientHeight;Math.abs(a)<1?i||o(!0):i&&o(!1)},children:[e.length?e.filter((function(e){return e.message.trim().length>0})).map((function(e){return Object(A.jsx)(L,{message:e},e.id)})):Object(A.jsx)(X.a,{elements:"messages",writeSomething:!0}),Object(A.jsx)("div",{ref:t})]})},q=Object(r.memo)(Z),V=a(27),G=a(194),K=function(e){var t=e.theme,a=e.status,i=Object(n.c)(),m=Object(r.useState)(""),u=Object(s.a)(m,2),h=u[0],j=u[1];return Object(A.jsx)("div",{className:b.a.wrapForm,children:Object(A.jsxs)("div",{className:b.a.form,children:[Object(A.jsx)(l.a,{name:"newMessageText",placeholder:"Enter your message...",fullWidth:!0,variant:"outlined",inputProps:{maxLength:100},color:"theme1"===t?"primary":"secondary",onChange:function(e){return j(e.currentTarget.value)},value:h}),Object(A.jsx)(c.a,{title:"Send message",color:"theme1"===t?"primary":"secondary",style:{margin:"5px"},onClick:function(){h.trim()&&(i(Object(G.b)(h)),j(""))},disabled:"pending"===a,children:Object(A.jsx)(o.a,{})})]})})};t.default=function(){var e=Object(n.d)(E),t=Object(n.d)(V.b),a=Object(n.c)();return Object(r.useEffect)((function(){return a(Object(G.c)()),function(){a(Object(G.d)())}}),[a]),Object(A.jsxs)("main",{className:b.a.chat,children:["error"===e&&Object(A.jsx)("div",{children:"Some error occured. Please, refresh the page..."}),Object(A.jsxs)("div",{className:b.a.membersAndMessages,children:[Object(A.jsx)(q,{}),Object(A.jsx)(H,{theme:t})]}),Object(A.jsx)(K,{theme:t,status:e})]})}}}]);
//# sourceMappingURL=6.38f33865.chunk.js.map