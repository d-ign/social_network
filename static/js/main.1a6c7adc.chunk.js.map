{"version":3,"sources":["img/no_photo.svg","components/hoc/withAuthRedirect.tsx","api/api.ts","api/users-api.ts","redux/reducers/users-reducer.ts","api/chat-api.ts","redux/reducers/chat-reducer.ts","components/Profile/Info/InfoData/InfoData.module.css","components/Profile/Info/InfoDataForm/InfoDataForm.module.css","redux/selectors/auth-selectors.ts","components/Navbar/Navbar.module.css","components/Profile/Wall/Post/Post.module.css","api/auth-api.ts","api/security-api.ts","api/profile-api.ts","redux/reducers/auth-reducer.ts","redux/reducers/profile-reducer.ts","redux/reducers/app-reducer.ts","redux/redux-store.ts","components/hoc/withSuspense.tsx","img/icons/logo.svg","img/icons/logout.svg","components/Header/Header.tsx","components/Navbar/Navbar.tsx","redux/selectors/profile-selectors.ts","components/Profile/Wall/Post/Post.tsx","components/common/ElementCustom/renderTextField.js","components/Profile/Wall/Wall.tsx","components/common/inputCount/inputCount.js","components/common/ElementCustom/InputCustomProfileStatus.jsx","components/Profile/Info/Status/Status.tsx","components/common/ElementCustom/renderCheckbox.js","components/Profile/Info/InfoDataForm/InfoDataForm.tsx","components/Profile/Info/InfoData/InfoData.tsx","img/icons/camera.svg","components/Profile/Info/InfoContainer.tsx","components/Profile/ProfileContainer.tsx","components/Login/Login.tsx","components/Error/ErrorBoundary.jsx","App.tsx","index.js","components/Login/Login.module.css","components/Profile/Info/InfoContainer.module.css","components/Header/Header.module.css","components/Profile/Info/Status/Status.module.css","components/Profile/Wall/Wall.module.css","components/common/Avatar/Avatar.tsx","img/preloader.svg","components/common/Preloader/Preloader.jsx","components/common/Avatar/Avatar.module.css","App.module.css"],"names":["mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","WrappedComponent","connect","props","restProps","to","ResultCodesEnum","ResultCodeForCaptcha","instance","axios","create","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","term","friend","get","response","data","followUser","id","post","unfollowUser","delete","initialState","users","totalUsersCount","isFetching","followingInProgress","actions","followSuccess","userID","type","unfollowSuccess","setUsers","addUsers","setTotalUsersCount","count","clearUsers","toggleIsFetching","toggleFollowingProgress","page","dispatch","getState","a","usersPage","length","items","totalCount","_followUnfollowFlow","apiMethod","actionCreator","resultCode","Success","follow","bind","unfollow","usersReducer","action","map","u","followed","filter","ws","subscribers","notifySubscribersAboutStatus","status","forEach","s","reconnect","setTimeout","createChannel","messageHandler","e","newMessages","JSON","parse","openHandler","errorHandler","console","error","cleanUp","removeEventListener","close","WebSocket","addEventListener","chatAPI","eventName","callback","push","message","send","messages","payload","_newMessageHandler","newMessageHandlerCreator","_statusChangedHandler","statusChangedHandlerCreator","startMessagesListening","stopMessagesListening","sendMessage","chatReducer","m","v1","item","index","array","module","exports","getLogin","login","getIsAuth","getAuthorizedUserID","getCaptchaURL","captchaURL","getMyPhoto","myPhoto","authAPI","email","password","rememberMe","captcha","securityAPI","profileAPI","put","photoFile","formData","FormData","append","profile","photo","getAuthUserDataThunk","Error","stopSubmit","_error","Object","keys","myProfile","photos","large","loginThunk","CaptchaIsRequired","url","logoutThunk","authReducer","posts","author","idPost","likesCount","isLikeClick","postsForDelete","isSelectedPost","isClickDeleteSelectedPosts","showSuccessSave","errorProfileContacts","newPostText","bool","getUserProfile","userId","profileReducer","newPost","fullName","p","initialized","appReducer","rootReducer","combineReducers","profilePage","app","form","formReducer","chat","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","withSuspense","fallback","Preloader","Header","stylesLogoutButton","margin","useSelector","myID","useDispatch","className","header","logoAndTitle","src","logo","alt","headerTitle","rightPart","loginAndPhoto","Avatar","size","loginName","buttonDesctop","Button","onClick","variant","style","startIcon","buttonMobile","logout","withRouter","pathname","location","profileUrl","nav","exact","activeClassName","active","navLink","width","height","fill","navLinkImg","viewBox","d","xmlns","version","getProfile","getStatusSelector","getShowSuccessSave","getErrorProfileContacts","getPosts","getPostsForDelete","getToggleClickDeleteSelectedPosts","getIsSelectedPost","Post","handleDeleteOnePost","addIdPostBeforeDeleting","deleteIdPostBeforeDeleting","useState","isClickDeletePost","setIsClickDeletePost","isSelectedPostLocal","setIsSelectedPostLocal","cn","postContainer","postDelete","includes","columnLeft","avatar","postSelected","unknown","columnCenter","name","columnRight","hidden","IconButton","aria-label","wrapLike","like","color","renderTextField","label","input","placeholder","multiline","inputProps","onInput","onFocus","meta","touched","warning","fullWidth","custom","TextField","PostReduxForm","reduxForm","handleSubmit","onSubmit","Field","component","maxLength","buttonBig","endIcon","buttonIcon","Wall","React","useEffect","arr","localStorage","getItem","setItem","stringify","postsElements","container","basket","values","reset","noPosts","handleFocusCount","target","select","document","getElementById","textContent","value","elem","display","fontSize","position","right","top","handleBlurCount","handleInputCount","num","wrap","useStyles","makeStyles","theme","inputProfileStatus","minHeight","maxHeight","lineHeight","padding","spacing","backgroundColor","borderRadius","Status","isOwner","classes","stylesSaveAndButton","editMode","setEditMode","statusLocal","setStatusLocal","Input","autoFocus","onBlur","onChange","currentTarget","buttons","buttonWrap","updateStatus","statusEmpty","statusNotMy","renderCheckbox","FormControlLabel","control","Checkbox","checked","labelPlacement","marginLeft","InfoDataForm","initialValues","titleForm","wrapForCount","countStyle","titleAllContacts","contacts","key","contact","titleContact","Contact","memo","contactTitle","contactValue","contactTextWrap","contactText","href","replace","InfoData","containerForm","aboutMe","title","text","job","lookingForAJob","lookingForAJobDescription","some","el","ScrollToTopOnMount","scrollTo","InfoContainer","stylesSaveAndCancelButton","editModeProfile","setEditModeProfile","containerMain","camera","htmlFor","wrapImg","editPhotoInput","file","files","marginTop","buttonsSaveAndCancelProfile","submit","successSave","saveProfileThunk","ProfileContainer","this","match","params","authorizedUserID","history","getStatus","refreshProfile","prevProps","PureComponent","LoginReduxForm","validate","errors","test","stylesLoginButton","fontWeight","loginBlockSubstrate","loginBlock","row","rowCheckbox","formError","marginBottom","Login","body","ErrorBoundary","whiteSpace","toString","children","Component","ChatContainer","lazy","UsersContainer","SuspendedChat","SuspendedUsers","AppContainer","fon","appWrapper","appWrapperContent","from","path","render","createMuiTheme","palette","primary","main","cyan","secondary","responsiveFontSizes","ReactDOM","ThemeProvider","CssBaseline","avatarWrap","medium","small","stylesContainer","left","stylesWrap","justifyContent","preloader"],"mappings":"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","file":"static/js/main.1a6c7adc.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/no_photo.8bf0768a.svg\";","import React from 'react';\r\nimport { Redirect } from 'react-router';\r\nimport { connect } from 'react-redux';\r\nimport { AppStateType } from '../../redux/redux-store';\r\n\r\nlet mapStateToPropsForRedirect = (state: AppStateType) => {\r\n  return {\r\n    isAuth: state.auth.isAuth,\r\n  }\r\n}\r\n\r\ntype MapStatePropsType = {\r\n  isAuth: boolean\r\n}\r\n\r\n// WCP - пропсы WrappedComponent\r\nexport default function withAuthRedirect<WCP>(WrappedComponent: React.ComponentType<WCP>) {\r\n\r\n  const RedirectComponent: React.FC<MapStatePropsType & {}> = (props) => {\r\n    const {isAuth, ...restProps} = props;\r\n    if (!isAuth) return <Redirect to={'/login'} />;\r\n    return <WrappedComponent {...restProps as WCP} />\r\n  }\r\n\r\n  return connect<MapStatePropsType, {}, WCP, AppStateType>(mapStateToPropsForRedirect, {})(RedirectComponent)\r\n}","import axios from 'axios';\r\n\r\nexport const instance = axios.create({\r\n  withCredentials: true, // цепляем cookie к запросу\r\n  baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n  headers: {\r\n    'API-KEY': 'ddfbc45b-6923-498e-99d5-3a4897cbb31f'\r\n  }\r\n});\r\n\r\nexport enum ResultCodesEnum {\r\n  Success = 0,\r\n  Error = 1\r\n}\r\n\r\nexport enum ResultCodeForCaptcha {\r\n  CaptchaIsRequired = 10\r\n}\r\n\r\nexport type DefaultResponseType<D = {}, RC = ResultCodesEnum> = {\r\n  data: D\r\n  resultCode: RC\r\n  messages: Array<string> | string\r\n}","import { UserType } from '../types/types';\r\nimport { DefaultResponseType, instance } from './api';\r\n\r\ntype GetUsersType = {\r\n  items: Array<UserType>\r\n  totalCount: number\r\n  error: string\r\n}\r\n\r\nexport const usersAPI = {\r\n  async getUsers(currentPage: number = 1, pageSize: number, term?: string, friend?: boolean) {\r\n    const response = await instance.get<GetUsersType>(\r\n      `users?page=${currentPage}&count=${pageSize}&term=${term}&friend=${friend}`\r\n    );\r\n    return response.data;\r\n  },\r\n  async followUser(id: number) {\r\n    const response = await instance.post<DefaultResponseType>(`follow/${id}`, {});\r\n    return response.data;\r\n  },\r\n  async unfollowUser(id: number) {\r\n    const response = await instance.delete<DefaultResponseType>(`follow/${id}`);\r\n    return response.data;\r\n  },\r\n}","import { Dispatch } from 'redux';\r\nimport { DefaultResponseType, ResultCodesEnum } from '../../api/api';\r\nimport { usersAPI } from '../../api/users-api';\r\nimport { UserType } from '../../types/types';\r\nimport { BaseThunkType, InferActionsTypes } from '../redux-store';\r\n\r\nlet initialState = {\r\n  users: [] as Array<UserType>,\r\n\r\n  pageSize: 10,\r\n  totalUsersCount: 0,\r\n\r\n  isFetching: true,\r\n  // disabling the button after pressing\r\n  followingInProgress: [] as Array<number>, // array of users ID\r\n};\r\n\r\nconst usersReducer = (state = initialState, action: ActionsTypes): InitialStateType => {\r\n  switch (action.type) {\r\n    case 'FOLLOW': {\r\n      return {\r\n        ...state,\r\n        users: state.users.map(u => {\r\n          if (u.id === action.userID) {\r\n            return { ...u, followed: true }\r\n          }\r\n          return u\r\n        })\r\n      }\r\n    }\r\n    case 'UNFOLLOW': {\r\n      return {\r\n        ...state,\r\n        users: state.users.map(u => {\r\n          if (u.id === action.userID) {\r\n            return { ...u, followed: false }\r\n          }\r\n          return u\r\n        })\r\n      }\r\n    }\r\n    case 'SET_USERS': {\r\n      return {\r\n        ...state,\r\n        users: [...action.users],\r\n      }\r\n    }\r\n    case 'ADD_USERS': {\r\n      return {\r\n        ...state,\r\n        users: [...state.users, ...action.users],\r\n      }\r\n    }\r\n    case 'CLEAR_USERS': {\r\n      return {\r\n        ...state,\r\n        users: []\r\n      }\r\n    }\r\n    case 'SET_TOTAL_USERS_COUNT': {\r\n      return {\r\n        ...state,\r\n        totalUsersCount: action.count,\r\n      }\r\n    }\r\n    case 'TOGGLE_IS_FETCHING': {\r\n      return {\r\n        ...state,\r\n        isFetching: action.isFetching,\r\n      }\r\n    }\r\n    case 'TOGGLE_IS_FOLLOWING_PROGRESS': {\r\n      return {\r\n        ...state,\r\n        followingInProgress: action.isFetching\r\n          ? [...state.followingInProgress, action.userID]\r\n          : state.followingInProgress.filter(id => id !== action.userID),\r\n      }\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const actions = {\r\n  followSuccess: (userID: number) => ({ type: 'FOLLOW', userID } as const),\r\n  unfollowSuccess: (userID: number) => ({ type: 'UNFOLLOW', userID } as const),\r\n\r\n  setUsers: (users: Array<UserType>) => ({ type: 'SET_USERS', users } as const),\r\n  addUsers: (users: Array<UserType>) => ({ type: 'ADD_USERS', users } as const),\r\n  setTotalUsersCount: (totalUsersCount: number) => ({\r\n    type: 'SET_TOTAL_USERS_COUNT', count: totalUsersCount\r\n  } as const),\r\n  clearUsers: () => ({ type: 'CLEAR_USERS' } as const),\r\n\r\n  toggleIsFetching: (isFetching: boolean) => ({ type: 'TOGGLE_IS_FETCHING', isFetching } as const),\r\n  toggleFollowingProgress: (isFetching: boolean, userID: number) => ({\r\n    type: 'TOGGLE_IS_FOLLOWING_PROGRESS', isFetching, userID\r\n  } as const),\r\n}\r\n\r\nexport const getUsers = (page: number, term: string, friend?: boolean):\r\n  ThunkType => async (dispatch, getState) => {\r\n    dispatch(actions.toggleIsFetching(true));\r\n\r\n    const response = await usersAPI.getUsers(page, getState().usersPage.pageSize, term, friend);\r\n\r\n    // первичная загрузка\r\n    if (term.length === 0 && page === 1) {\r\n      dispatch(actions.setUsers(response.items));\r\n    }\r\n    // получение больше пользователей\r\n    if (page > 1) {\r\n      dispatch(actions.addUsers(response.items));\r\n    }\r\n    // первичный поиск\r\n    if (term.length > 0 && page === 1) {\r\n      dispatch(actions.clearUsers());\r\n      dispatch(actions.setUsers(response.items));\r\n    }\r\n\r\n    dispatch(actions.setTotalUsersCount(response.totalCount));\r\n    dispatch(actions.toggleIsFetching(false));\r\n  }\r\n\r\ntype DispatchType = Dispatch<ActionsTypes>;\r\nconst _followUnfollowFlow = async (\r\n  dispatch: DispatchType,\r\n  id: number,\r\n  apiMethod: (id: number) => Promise<DefaultResponseType>,\r\n  actionCreator: (id: number) => ActionsTypes) => {\r\n\r\n  dispatch(actions.toggleFollowingProgress(true, id));\r\n  const response = await apiMethod(id);\r\n\r\n  if (response.resultCode === ResultCodesEnum.Success) {\r\n    dispatch(actionCreator(id))\r\n  }\r\n  dispatch(actions.toggleFollowingProgress(false, id));\r\n}\r\n\r\nexport const follow = (id: number): ThunkType => async (dispatch) => {\r\n  await _followUnfollowFlow(dispatch, id,\r\n    usersAPI.followUser.bind(usersAPI), actions.followSuccess)\r\n}\r\n\r\nexport const unfollow = (id: number): ThunkType => async (dispatch) => {\r\n  await _followUnfollowFlow(dispatch, id,\r\n    usersAPI.unfollowUser.bind(usersAPI), actions.unfollowSuccess)\r\n}\r\n\r\nexport default usersReducer;\r\n\r\nexport type InitialStateType = typeof initialState;\r\ntype ActionsTypes = InferActionsTypes<typeof actions>;\r\ntype ThunkType = BaseThunkType<ActionsTypes>;","let ws: WebSocket | null = null;\r\n\r\nlet subscribers = {\r\n  'messages-received': [] as Array<MessagesReceivedSubscriberType>,\r\n  'status-changed': [] as Array<StatusChangedSubscriberType>\r\n}\r\n\r\ntype EventsCustomNamesType = 'messages-received' | 'status-changed'\r\n\r\nconst notifySubscribersAboutStatus = (status: StatusType) => {\r\n  if (subscribers) {\r\n    subscribers[\"status-changed\"].forEach(s => s(status))\r\n  }\r\n}\r\n\r\nconst reconnect = () => {\r\n  notifySubscribersAboutStatus('pending')\r\n  setTimeout(createChannel, 3000)\r\n}\r\n\r\nconst messageHandler = (e: MessageEvent) => {\r\n  let newMessages = JSON.parse(e.data);\r\n  if (subscribers) {\r\n    subscribers['messages-received'].forEach(s => s(newMessages));\r\n  }\r\n}\r\n\r\nconst openHandler = () => {\r\n  notifySubscribersAboutStatus('ready')\r\n}\r\n\r\nconst errorHandler = () => {\r\n  notifySubscribersAboutStatus('error')\r\n  console.error('REFRESH PAGE')\r\n}\r\n\r\nconst cleanUp = () => {\r\n  ws?.removeEventListener('close', reconnect)\r\n  ws?.removeEventListener('message', messageHandler)\r\n  ws?.removeEventListener('open', openHandler)\r\n  ws?.removeEventListener('error', errorHandler)\r\n}\r\n\r\nfunction createChannel() {\r\n  cleanUp()\r\n  ws?.close()\r\n\r\n  ws = new WebSocket('wss://social-network.samuraijs.com/handlers/ChatHandler.ashx')\r\n\r\n  notifySubscribersAboutStatus('pending')\r\n\r\n  ws.addEventListener('close', reconnect)\r\n  ws.addEventListener('message', messageHandler)\r\n  ws.addEventListener('open', openHandler)\r\n  ws.addEventListener('error', errorHandler)\r\n}\r\n\r\nexport const chatAPI = {\r\n  start() {\r\n    createChannel()\r\n  },\r\n  stop() {\r\n    if (subscribers) {\r\n      subscribers['messages-received'] = []\r\n      subscribers['status-changed'] = []\r\n    }\r\n    cleanUp()\r\n    ws?.close()\r\n  },\r\n  subscribe(eventName: EventsCustomNamesType, callback: MessagesReceivedSubscriberType | StatusChangedSubscriberType) {\r\n    if (subscribers) {\r\n      // @ts-ignore\r\n      subscribers[eventName].push(callback)\r\n    }\r\n  },\r\n\r\n  // отписка (забираем возможность api уведомлять store)\r\n  unsubscribe(eventName: EventsCustomNamesType, callback: MessagesReceivedSubscriberType | StatusChangedSubscriberType) {\r\n    if (subscribers) {\r\n      // @ts-ignore\r\n      subscribers = subscribers[eventName]?.filter(s => s !== callback) // оставляем всех, кроме callback\r\n    }\r\n  },\r\n\r\n  sendMessage(message: string) {\r\n    ws?.send(message)\r\n  }\r\n}\r\n\r\nexport type ChatMessageAPIType = {\r\n  message: string\r\n  photo: string\r\n  userId: number\r\n  userName: string\r\n}\r\n\r\nexport type StatusType = 'pending' | 'ready' | 'error'\r\n\r\ntype MessagesReceivedSubscriberType = (messages: Array<ChatMessageAPIType>) => void\r\n\r\ntype StatusChangedSubscriberType = (status: StatusType) => void","import { FormAction } from 'redux-form'\r\nimport { BaseThunkType, InferActionsTypes } from '../redux-store'\r\nimport { chatAPI, ChatMessageAPIType, StatusType } from '../../api/chat-api'\r\nimport { Dispatch } from 'redux'\r\nimport { v1 } from 'uuid'\r\n\r\nexport type ChatMessageType = ChatMessageAPIType & { id: string }\r\n\r\nlet initialState = {\r\n  messages: [] as ChatMessageType[],\r\n  status: 'pending' as StatusType,\r\n};\r\n\r\nconst chatReducer = (state = initialState, action: ActionsTypes): InitialStateType => {\r\n  switch (action.type) {\r\n    case 'MESSAGES_RECEIVED': {\r\n      return {\r\n        ...state,\r\n        messages: [\r\n          ...state.messages,\r\n          ...action.payload.messages.map(m => ({ ...m, id: v1() }))\r\n        ]\r\n          .filter((item, index, array) => index >= array.length - 100)\r\n      }\r\n    }\r\n    case 'STATUS_CHANGED': {\r\n      return {\r\n        ...state,\r\n        status: action.payload.status\r\n      }\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst actions = {\r\n  messagesReceived: (messages: ChatMessageAPIType[]) => ({\r\n    type: 'MESSAGES_RECEIVED',\r\n    payload: { messages }\r\n  } as const),\r\n  statusChanged: (status: StatusType) => ({\r\n    type: 'STATUS_CHANGED',\r\n    payload: { status }\r\n  } as const),\r\n}\r\n\r\nlet _newMessageHandler: ((messages: ChatMessageAPIType[]) => void) | null = null;\r\nconst newMessageHandlerCreator = (dispatch: Dispatch) => {\r\n  // чтобы два раза не вызывалась одна и та же функция, сначала при подписке, потом при отписке\r\n  if (_newMessageHandler === null) {\r\n    _newMessageHandler = (messages) => {\r\n      dispatch(actions.messagesReceived(messages))\r\n    }\r\n  }\r\n  return _newMessageHandler\r\n}\r\n\r\nlet _statusChangedHandler: ((status: StatusType) => void) | null = null;\r\nconst statusChangedHandlerCreator = (dispatch: Dispatch) => {\r\n  // чтобы два раза не вызывалась одна и та же функция, сначала при подписке, потом при отписке\r\n  if (_statusChangedHandler === null) {\r\n    _statusChangedHandler = (status) => {\r\n      dispatch(actions.statusChanged(status))\r\n    }\r\n  }\r\n  return _statusChangedHandler\r\n}\r\n\r\nexport const startMessagesListening = (): ThunkType => async (dispatch) => {\r\n  chatAPI.start()\r\n\r\n  chatAPI.subscribe('messages-received', newMessageHandlerCreator(dispatch))\r\n  chatAPI.subscribe('status-changed', statusChangedHandlerCreator(dispatch))\r\n}\r\n\r\nexport const stopMessagesListening = (): ThunkType => async (dispatch) => {\r\n  chatAPI.unsubscribe('messages-received', newMessageHandlerCreator(dispatch))\r\n  chatAPI.unsubscribe('status-changed', statusChangedHandlerCreator(dispatch))\r\n\r\n  chatAPI.stop()\r\n}\r\n\r\nexport const sendMessage = (message: string): ThunkType => async () => {\r\n  chatAPI.sendMessage(message)\r\n}\r\n\r\nexport default chatReducer;\r\n\r\ntype InitialStateType = typeof initialState;\r\ntype ActionsTypes = InferActionsTypes<typeof actions>;\r\ntype ThunkType = BaseThunkType<ActionsTypes | FormAction>;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"containerForm\":\"InfoData_containerForm__1JOGm\",\"wrap\":\"InfoData_wrap__1Sogv\",\"aboutMe\":\"InfoData_aboutMe__2cZYL\",\"job\":\"InfoData_job__3N8Ba\",\"contacts\":\"InfoData_contacts__uL_8Z\",\"title\":\"InfoData_title__3tTLU\",\"text\":\"InfoData_text__3OEXf\",\"contact\":\"InfoData_contact__15i2w\",\"contactTitle\":\"InfoData_contactTitle__2PwVT\",\"contactTextWrap\":\"InfoData_contactTextWrap__DGFoS\",\"contactText\":\"InfoData_contactText__1r_Xy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"InfoDataForm_form__3X5Dg\",\"titleForm\":\"InfoDataForm_titleForm__3o6fa\",\"wrap\":\"InfoDataForm_wrap__7quju\",\"contact\":\"InfoDataForm_contact__3sIjS\",\"titleAllContacts\":\"InfoDataForm_titleAllContacts__32-Po\",\"titleContact\":\"InfoDataForm_titleContact__Def8-\",\"countStyle\":\"InfoDataForm_countStyle__3Vxhs\",\"wrapForCount\":\"InfoDataForm_wrapForCount__3uTkw\",\"errorProfileContacts\":\"InfoDataForm_errorProfileContacts__PksGi\"};","import { AppStateType } from \"../redux-store\";\r\n\r\nexport const getLogin = (state: AppStateType) => {\r\n  return state.auth.login\r\n}\r\n\r\nexport const getIsAuth = (state: AppStateType) => {\r\n  return state.auth.isAuth\r\n}\r\n\r\nexport const getAuthorizedUserID = (state: AppStateType) => {\r\n  return state.auth.userID\r\n}\r\n\r\nexport const getCaptchaURL = (state: AppStateType) => {\r\n  return state.auth.captchaURL\r\n}\r\n\r\nexport const getMyPhoto = (state: AppStateType) => {\r\n  return state.auth.myPhoto\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__3R0rh\",\"navLink\":\"Navbar_navLink__3jqZB\",\"navLinkImg\":\"Navbar_navLinkImg__3kMZG\",\"active\":\"Navbar_active__2b-XZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postContainer\":\"Post_postContainer__2U4n8\",\"post\":\"Post_post__2IBVl\",\"postDelete\":\"Post_postDelete__1lZaR\",\"holeOut\":\"Post_holeOut__1Ljm8\",\"columnLeft\":\"Post_columnLeft__2rHjy\",\"avatar\":\"Post_avatar__Z9tVC\",\"postSelected\":\"Post_postSelected__2FGVR\",\"columnCenter\":\"Post_columnCenter__xB3oO\",\"name\":\"Post_name__UCrHi\",\"message\":\"Post_message__1vD2I\",\"columnRight\":\"Post_columnRight__3EFx8\",\"wrapLike\":\"Post_wrapLike__1qVOH\",\"like\":\"Post_like__30Txn\"};","import { DefaultResponseType, instance, ResultCodeForCaptcha, ResultCodesEnum } from './api';\r\n\r\ntype MeDataType = {\r\n  id: number\r\n  email: string\r\n  login: string\r\n}\r\n\r\nexport const authAPI = {\r\n  async me() {\r\n    const response = await instance.get<DefaultResponseType<MeDataType>>(`auth/me`);\r\n    return response.data;\r\n  },\r\n  async login(email: string, password: string,\r\n    rememberMe = false, captcha: null | string = null\r\n  ) {\r\n    const response = await instance.post<DefaultResponseType<{ userId: number }, ResultCodesEnum | ResultCodeForCaptcha>>(\r\n      '/auth/login', {\r\n      email, password, rememberMe, captcha\r\n    });\r\n    return response.data;\r\n  },\r\n  async logout() {\r\n    const response = await instance.delete<DefaultResponseType>('/auth/login');\r\n    return response.data;\r\n  }\r\n}","import { instance } from './api';\r\n\r\ntype GetCaptchaResponseType = {\r\n  url: string\r\n}\r\n\r\nexport const securityAPI = {\r\n  async getCaptchaURL() {\r\n    const response = await instance.get<GetCaptchaResponseType>(`security/get-captcha-url`);\r\n    return response.data;\r\n  },\r\n}","import { PhotosType, ProfileType } from '../types/types';\r\nimport { DefaultResponseType, instance } from './api';\r\n\r\ntype SavePhotoDataType = {\r\n  photos: PhotosType\r\n}\r\n\r\nexport const profileAPI = {\r\n  async getProfile(id: number | null) {\r\n    const response = await instance.get<ProfileType>(`profile/${id}`);\r\n    return response.data;\r\n  },\r\n\r\n  async getStatus(id: number) {\r\n    const response = await instance.get<string>(`profile/status/${id}`)\r\n    return response.data;\r\n  },\r\n\r\n  async updateStatus(status: string) {\r\n    const response = await instance.put<DefaultResponseType>(`profile/status`, {status});\r\n    return response.data;\r\n  },\r\n\r\n  async savePhotoAPI(photoFile: any) {\r\n    const formData = new FormData();\r\n    formData.append('image', photoFile);\r\n    const response = await instance.put<DefaultResponseType<SavePhotoDataType>>(`profile/photo`, formData, {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data'\r\n      }\r\n    });\r\n    return response.data;\r\n  },\r\n\r\n  async saveProfileAPI(profile: ProfileType) {\r\n    const response = await instance.put<DefaultResponseType>(`profile`, profile);\r\n    return response.data;\r\n  }\r\n}","import { ResultCodesEnum, ResultCodeForCaptcha } from '../../api/api';\r\nimport { authAPI } from '../../api/auth-api';\r\nimport { securityAPI } from '../../api/security-api';\r\n\r\nimport { FormAction, stopSubmit } from 'redux-form';\r\nimport { BaseThunkType, InferActionsTypes } from '../redux-store';\r\nimport { profileAPI } from '../../api/profile-api';\r\n\r\nlet initialState = {\r\n  userID: null as number | null,\r\n  email: null as string | null,\r\n  login: null as string | null,\r\n  isAuth: false,\r\n  captchaURL: null as string | null,\r\n  myPhoto: null as string | null,\r\n};\r\n\r\nconst authReducer = (state = initialState, action: ActionsTypes): InitialStateType => {\r\n  switch (action.type) {\r\n    case 'SET_USER_DATA':\r\n    case 'GET_CAPTCHA_URL_SUCCESS': {\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      }\r\n    }\r\n    case 'SET_MY_PHOTO': {\r\n      return {\r\n        ...state,\r\n        // @ts-ignore\r\n        myPhoto: action.payload.photo,\r\n      }\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst actions = {\r\n  setAuthUserData: (userID: number | null, email: string | null, login: string | null, isAuth: boolean) => ({\r\n    type: 'SET_USER_DATA',\r\n    payload: { userID, email, login, isAuth } as const\r\n  }),\r\n\r\n  setCaptcha: (captchaURL: string | null) => ({\r\n    type: 'GET_CAPTCHA_URL_SUCCESS',\r\n    payload: { captchaURL } as const\r\n  }),\r\n\r\n  setMyPhoto: (photo: string | null) => ({\r\n    type: 'SET_MY_PHOTO',\r\n    payload: { photo } as const\r\n  }),\r\n}\r\n\r\nexport const getAuthUserDataThunk = (): ThunkType => async (dispatch) => {\r\n  let response = await authAPI.me();\r\n\r\n  if (response.resultCode === ResultCodesEnum.Success) {\r\n    let { id, email, login } = response.data;\r\n    dispatch(actions.setAuthUserData(id, email, login, true))\r\n  }\r\n\r\n  if (response.resultCode === ResultCodesEnum.Error) {\r\n    const message = response.messages;\r\n    const action = stopSubmit('loginForm', {\r\n      _error: message.length > 0 ? message[0] : 'Some error'\r\n    });\r\n    // Some error - на всякий случай, если с сервера придёт пустое сообщение при ошибке\r\n    dispatch(action);\r\n  }\r\n\r\n  if (Object.keys(response.data).length !== 0) {\r\n    const myProfile = await profileAPI.getProfile(response.data.id);\r\n    dispatch(actions.setMyPhoto(myProfile.photos.large));\r\n  }\r\n}\r\n\r\nconst setCaptchaThunk = (): ThunkType => async (dispatch) => {\r\n  const response = await securityAPI.getCaptchaURL();\r\n  const captcha = response.url;\r\n  dispatch(actions.setCaptcha(captcha))\r\n}\r\n\r\nexport const loginThunk = (email: string, password: string, rememberMe: boolean, captcha: string | null): ThunkType => async (dispatch) => {\r\n  const response = await authAPI.login(email, password, rememberMe, captcha);\r\n\r\n  if (response.resultCode === ResultCodesEnum.Success) {\r\n    dispatch(getAuthUserDataThunk())\r\n    dispatch(actions.setCaptcha(null))\r\n  }\r\n\r\n  if (response.resultCode === ResultCodesEnum.Error) {\r\n    const message = response.messages;\r\n    const action = stopSubmit('loginForm', {\r\n      _error: message.length > 0 ? message[0] : 'Some error'\r\n    });\r\n    // Some error - на всякий случай, если с сервера придёт пустое сообщение при ошибке\r\n    dispatch(action);\r\n  }\r\n\r\n  if (response.resultCode === ResultCodeForCaptcha.CaptchaIsRequired) {\r\n    dispatch(setCaptchaThunk())\r\n  }\r\n}\r\n\r\nexport const logoutThunk = (): ThunkType => async (dispatch) => {\r\n  const response = await authAPI.logout();\r\n\r\n  if (response.resultCode === ResultCodesEnum.Success) {\r\n    dispatch(actions.setAuthUserData(null, null, null, false))\r\n    dispatch(actions.setMyPhoto(null));\r\n  }\r\n}\r\n\r\nexport default authReducer;\r\n\r\ntype InitialStateType = typeof initialState;\r\ntype ActionsTypes = InferActionsTypes<typeof actions>;\r\ntype ThunkType = BaseThunkType<ActionsTypes | FormAction>;","import { BaseThunkType, InferActionsTypes } from '../redux-store';\r\n\r\nimport { PostType } from '../../types/types';\r\nimport { ProfileType } from '../../types/types';\r\nimport { PhotosType } from '../../types/types';\r\n\r\nimport { ResultCodesEnum } from '../../api/api';\r\nimport { profileAPI } from '../../api/profile-api';\r\nimport { v1 } from 'uuid'\r\n\r\nlet initialState = {\r\n  posts: [\r\n    {\r\n      author: 'Denis Ignatov',\r\n      idPost: '1',\r\n      message: 'Lorem ipsum dolor sit amet consectetur adipisicing elit. Facilis ut quo maiores neque laboriosam. Ratione adipisci reiciendis autem placeat alias necessitatibus pariatur saepe ipsum, temporibus animi, facilis minus doloribus ducimus.',\r\n      likesCount: 0,\r\n      isLikeClick: false\r\n    },\r\n    {\r\n      author: 'Denis Ignatov',\r\n      idPost: '2',\r\n      message: 'Lorem ipsum dolor sit amet consectetur adipisicing elit.',\r\n      likesCount: 0,\r\n      isLikeClick: false\r\n    },\r\n    {\r\n      author: 'Denis Ignatov',\r\n      idPost: '3',\r\n      message: 'Lorem ipsum dolor sit amet consectetur adipisicing elit. Facilis ut quo maiores neque laboriosam. Ratione adipisci reiciendis autem placeat alias necessitatibus...',\r\n      likesCount: 0,\r\n      isLikeClick: false\r\n    },\r\n  ] as Array<PostType>,\r\n  postsForDelete: [] as Array<string>,\r\n  isSelectedPost: false,\r\n  isClickDeleteSelectedPosts: false, // для анимации поста при удалении\r\n \r\n  profile: null as ProfileType | null,\r\n  status: '',\r\n  showSuccessSave: '',\r\n  errorProfileContacts: '',\r\n};\r\n\r\nconst profileReducer = (state = initialState, action: ActionsTypes): InitialStateType => {\r\n  switch (action.type) {\r\n    case 'SET_USER': {\r\n      return {\r\n        ...state,\r\n        profile: action.profile\r\n      }\r\n    }\r\n    case 'SET_STATUS': {\r\n      return {\r\n        ...state,\r\n        status: action.status\r\n      }\r\n    }\r\n    case 'INITIALIZE_POSTS': {\r\n      return {\r\n        ...state,\r\n        posts: action.posts\r\n      }\r\n    }\r\n    case 'ADD_POST': {\r\n      let newPost = {\r\n        author: state.profile?.fullName,\r\n        idPost: v1(),\r\n        message: action.newPostText,\r\n        likesCount: 0,\r\n        isLikeClick: false\r\n      };\r\n      return {\r\n        ...state,\r\n        posts: [newPost, ...state.posts],\r\n      }\r\n    }\r\n    case 'IS_SELECTED_POST': {\r\n      return {\r\n        ...state,\r\n        isSelectedPost: action.bool,\r\n      }\r\n    }\r\n    case 'SET_POST_FOR_DELETE': {\r\n      return {\r\n        ...state,\r\n        postsForDelete: [...state.postsForDelete, action.idPost],\r\n      }\r\n    }\r\n    case 'DELETE_POST_FOR_DELETE': {\r\n      return {\r\n        ...state,\r\n        postsForDelete: [...state.postsForDelete.filter(id => id !== action.idPost)],\r\n      }\r\n    }\r\n    case 'CLEAR_POSTS_FOR_DELETE': {\r\n      return {\r\n        ...state,\r\n        postsForDelete: [],\r\n      }\r\n    }\r\n    case 'TOGGLE_CLICK_DELETE_SELECTED_POST': {\r\n      return {\r\n        ...state,\r\n        isClickDeleteSelectedPosts: action.bool,\r\n      }\r\n    }\r\n    case 'DELETE_POST': {\r\n      return {\r\n        ...state,\r\n        posts: state.posts.filter(p => p.idPost !== action.idPost)\r\n      }\r\n    }\r\n    case 'SET_LIKE_ON_POST': {\r\n      return {\r\n        ...state,\r\n        posts: [...state.posts.map(p => {\r\n          if(p.idPost === action.idPost) {\r\n            return {\r\n              ...p, \r\n              likesCount: ++p.likesCount,\r\n              isLikeClick: true\r\n            }\r\n          } else {\r\n            return p\r\n          }\r\n        })],\r\n      }\r\n    }\r\n    case 'DELETE_LIKE_ON_POST': {\r\n      return {\r\n        ...state,\r\n        posts: [...state.posts.map(p => {\r\n          if(p.idPost === action.idPost) {\r\n            return {\r\n              ...p, \r\n              likesCount: --p.likesCount,\r\n              isLikeClick: false\r\n            }\r\n          } else {\r\n            return p\r\n          }\r\n        })],\r\n      }\r\n    }\r\n    case 'SAVE_PHOTO_SUCCESS': {\r\n      return {\r\n        ...state,\r\n        profile: { ...state.profile, photos: action.photos } as ProfileType\r\n      }\r\n    }\r\n    case 'SHOW_SUCCESS_SAVE': {\r\n      return {\r\n        ...state,\r\n        showSuccessSave: action.message,\r\n      }\r\n    }\r\n    case 'SHOW_ERROR_PROFILE_CONTACTS': {\r\n      return {\r\n        ...state,\r\n        errorProfileContacts: action.message,\r\n      }\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const actions = {\r\n  initializePosts: (posts: Array<PostType>) => ({ type: 'INITIALIZE_POSTS', posts } as const),\r\n  addPost: (newPostText: string) => ({ type: 'ADD_POST', newPostText } as const),\r\n  deletePost: (idPost: string) => ({ type: 'DELETE_POST', idPost } as const),\r\n  // лайки-лайки-лайки\r\n  setLikeOnPost: (idPost: string) => ({ type: 'SET_LIKE_ON_POST', idPost } as const),\r\n  deletetLikeOnPost: (idPost: string) => ({ type: 'DELETE_LIKE_ON_POST', idPost } as const),\r\n  // удаление нескольких постов\r\n  setPostForDeleting: (idPost: string) => ({ type: 'SET_POST_FOR_DELETE', idPost } as const),\r\n  deletePostForDeleting: (idPost: string) => ({ type: 'DELETE_POST_FOR_DELETE', idPost } as const),\r\n  clearPostsForDelete: () => ({ type: 'CLEAR_POSTS_FOR_DELETE' } as const),\r\n  // для убирания иконок-крестиков у всех постов при выборе нескольких постов\r\n  toggleIsSelectedPost: (bool: boolean) => ({ type: 'IS_SELECTED_POST', bool } as const),\r\n  // для анимации удаления постов\r\n  toggleIsClickDeleteSelectedPosts: (bool: boolean) => ({ type: 'TOGGLE_CLICK_DELETE_SELECTED_POST', bool } as const),\r\n\r\n  setUserProfile: (profile: ProfileType) => ({ type: 'SET_USER', profile } as const),\r\n  setStatus: (status: string) => ({ type: 'SET_STATUS', status } as const),\r\n  savePhotoSuccess: (photos: PhotosType) => ({ type: 'SAVE_PHOTO_SUCCESS', photos } as const),\r\n  showSuccessSaveProfile: (message: string) => ({ type: 'SHOW_SUCCESS_SAVE', message } as const),\r\n  showErrorProfileContacts: (message: string) => ({ type: 'SHOW_ERROR_PROFILE_CONTACTS', message } as const),\r\n}\r\n\r\nexport const getUserProfile = (userId: number | null): ThunkType => async (dispatch) => {\r\n  const response = await profileAPI.getProfile(userId);\r\n  dispatch(actions.setUserProfile(response));\r\n};\r\n\r\nexport const getStatus = (id: number): ThunkType => async (dispatch) => {\r\n  const response = await profileAPI.getStatus(id);\r\n  dispatch(actions.setStatus(response));\r\n};\r\n\r\nexport const updateStatus = (status: string): ThunkType => async (dispatch) => {\r\n  const response = await profileAPI.updateStatus(status);\r\n  if (response.resultCode === ResultCodesEnum.Success) {\r\n    dispatch(actions.setStatus(status));\r\n  }\r\n};\r\n\r\nexport const savePhotoThunk = (file: File): ThunkType => async (dispatch) => {\r\n  const response = await profileAPI.savePhotoAPI(file);\r\n  if (response.resultCode === ResultCodesEnum.Success) {\r\n    dispatch(actions.savePhotoSuccess(response.data.photos));\r\n  }\r\n};\r\n\r\nexport const saveProfileThunk = (profile: ProfileType): ThunkType => async (dispatch, getState) => {\r\n  const response = await profileAPI.saveProfileAPI(profile);\r\n  const userID = getState().auth.userID;\r\n\r\n  if (response.resultCode === ResultCodesEnum.Success) {\r\n    dispatch(getUserProfile(userID));\r\n    dispatch(actions.showSuccessSaveProfile('Data saved successfully!'));\r\n    setTimeout(dispatch, 4000, actions.showSuccessSaveProfile(''));\r\n    dispatch(actions.showErrorProfileContacts(''));\r\n  }\r\n\r\n  if (response.resultCode === ResultCodesEnum.Error) {\r\n    // заготовка для показа ошибки конкретного поля\r\n    // let key = response.data.messages[0].match(/Contacts->(\\w+)/)[1].toLowerCase();\r\n    // dispatch(stopSubmit('editProfile', {\r\n    //   contacts: { [key]: response.data.messages[0] },\r\n    // }));\r\n    dispatch(actions.showErrorProfileContacts(response.messages[0]))\r\n  }\r\n};\r\n\r\nexport default profileReducer;\r\n\r\nexport type InitialStateType = typeof initialState;\r\ntype ActionsTypes = InferActionsTypes<typeof actions>;\r\ntype ThunkType = BaseThunkType<ActionsTypes>;","import { BaseThunkType, InferActionsTypes } from '../redux-store';\r\n\r\nimport { getAuthUserDataThunk } from './auth-reducer';\r\n\r\nlet initialState = {\r\n  initialized: false,\r\n}\r\n\r\nconst appReducer = (state = initialState, action: ActionsTypes): InitialStateType => {\r\n  switch (action.type) {\r\n    case 'INITIALIZED_SUCCESS': {\r\n      return {\r\n        ...state,\r\n        initialized: true\r\n      }\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nconst actions = {\r\n  initializedSuccess: () => ({ type: 'INITIALIZED_SUCCESS' } as const),\r\n}\r\n\r\nexport const initializeAppThunk = (): ThunkType => async (dispatch) => {\r\n  await dispatch(getAuthUserDataThunk())\r\n  dispatch(actions.initializedSuccess())\r\n}\r\n\r\nexport default appReducer;\r\n\r\ntype InitialStateType = typeof initialState;\r\ntype ActionsTypes = InferActionsTypes<typeof actions>;\r\ntype ThunkType = BaseThunkType<ActionsTypes>;","import { applyMiddleware, combineReducers, createStore, compose, Action } from 'redux';\r\nimport thunkMiddleware, { ThunkAction } from 'redux-thunk';\r\nimport { reducer as formReducer } from 'redux-form';\r\n\r\nimport authReducer from './reducers/auth-reducer';\r\nimport profileReducer from './reducers/profile-reducer';\r\nimport usersReducer from './reducers/users-reducer';\r\nimport appReducer from './reducers/app-reducer';\r\nimport chatReducer from './reducers/chat-reducer';\r\n\r\nlet rootReducer = combineReducers({\r\n  profilePage: profileReducer,\r\n  usersPage: usersReducer,\r\n  auth: authReducer,\r\n  app: appReducer,\r\n  form: formReducer,\r\n  chat: chatReducer,\r\n});\r\n\r\n// types state app\r\ntype RootReducerType = typeof rootReducer;\r\nexport type AppStateType = ReturnType<RootReducerType>;\r\n\r\n// types actions\r\nexport type InferActionsTypes<T> = T extends { [key: string]: (...args: any[]) => infer U } ? U : never;\r\n\r\n// type thunks\r\nexport type BaseThunkType<A extends Action, R = Promise<void>> = ThunkAction<R, AppStateType, unknown, A>;\r\n\r\n// @ts-ignore\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n// @ts-ignore\r\nconst store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\nexport default store;\r\n\r\n","import React, { Suspense } from 'react';\r\nimport Preloader from '../common/Preloader/Preloader';\r\n\r\nexport function withSuspense<WCP>(WrappedComponent: React.ComponentType<WCP>) {\r\n  return (props: WCP) => {\r\n    return <Suspense fallback={<Preloader />}>\r\n      <WrappedComponent {...props} />\r\n    </Suspense>\r\n  }\r\n}","export default __webpack_public_path__ + \"static/media/logo.cebb0f3e.svg\";","export default __webpack_public_path__ + \"static/media/logout.8e3cc1f3.svg\";","import React from 'react';\r\nimport { NavLink, Redirect } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { logoutThunk } from '../../redux/reducers/auth-reducer';\r\nimport { getAuthorizedUserID, getIsAuth, getLogin, getMyPhoto } from '../../redux/selectors/auth-selectors';\r\n\r\nimport s from './Header.module.css';\r\nimport logo from '../../img/icons/logo.svg';\r\nimport logout from '../../img/icons/logout.svg';\r\nimport Button from '@material-ui/core/Button';\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\r\nimport Avatar from '../common/Avatar/Avatar';\r\n\r\nconst Header: React.FC = (props) => {\r\n\r\n  const stylesLogoutButton = {\r\n    margin: 16\r\n  }\r\n\r\n  const isAuth = useSelector(getIsAuth)\r\n  const login = useSelector(getLogin)\r\n  const myID = useSelector(getAuthorizedUserID)\r\n  const myPhoto = useSelector(getMyPhoto)\r\n  const dispatch = useDispatch()\r\n\r\n  return (\r\n    <header className={s.header}>\r\n      <NavLink className={s.logoAndTitle} to={'/profile'}>\r\n        <img src={logo} alt='logo' />\r\n        <span className={s.headerTitle}>Social network</span>\r\n      </NavLink>\r\n\r\n      <div className={s.rightPart}>\r\n        {isAuth\r\n          ? <>\r\n            <NavLink className={s.loginAndPhoto} to={'/profile/' + myID}>\r\n              <Avatar photo={myPhoto} size='small' />\r\n              <span className={s.loginName}>{login}</span>\r\n            </NavLink>\r\n\r\n            <span className={s.buttonDesctop}>\r\n              <Button\r\n                onClick={() => dispatch(logoutThunk())}\r\n                variant=\"outlined\"\r\n                style={stylesLogoutButton}\r\n                startIcon={<ExitToAppIcon />}>\r\n                Log out\r\n              </Button>\r\n            </span>\r\n            <span className={s.buttonMobile}>\r\n              <Button\r\n                onClick={() => dispatch(logoutThunk())}\r\n                variant=\"outlined\"\r\n                style={stylesLogoutButton}\r\n              ><img src={logout} alt=\"logout\" />\r\n              </Button>\r\n            </span>\r\n          </>\r\n          : <Redirect to=\"/login\" />\r\n        }\r\n      </div>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport { NavLink, RouteComponentProps, withRouter } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport s from './Navbar.module.css';\r\nimport { getAuthorizedUserID } from '../../redux/selectors/auth-selectors';\r\n\r\ntype PathParamsType = {\r\n  pathname: string\r\n}\r\n\r\nconst Navbar: React.FC<{} & {} & RouteComponentProps<PathParamsType>> = (\r\n  { location: { pathname } }) => {\r\n\r\n  const authorizedUserID = useSelector(getAuthorizedUserID)\r\n  const profileUrl = '/profile/' + authorizedUserID;\r\n\r\n  return (\r\n    <nav className={s.nav} id='navbar'>\r\n      <NavLink exact to={profileUrl} activeClassName={s.active} className={s.navLink}>\r\n        <svg width=\"24\" height=\"24\"\r\n          fill={pathname === profileUrl ? '#00bcd4' : 'white'}\r\n          className={s.navLinkImg}\r\n          viewBox=\"0 0 24 24\"><path fill=\"currentColor\" d=\"M12,4A4,4 0 0,1 16,8A4,4 0 0,1 12,12A4,4 0 0,1 8,8A4,4 0 0,1 12,4M12,14C16.42,14 20,15.79 20,18V20H4V18C4,15.79 7.58,14 12,14Z\" />\r\n        </svg>\r\n        Profile\r\n      </NavLink>\r\n\r\n      <NavLink to='/chat' activeClassName={s.active} className={s.navLink}>\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" width=\"24\" height=\"24\"\r\n          fill={pathname === '/chat' ? '#00bcd4' : 'white'}\r\n          className={s.navLinkImg}\r\n          viewBox=\"0 0 24 24\"><path d=\"M20,2H4A2,2 0 0,0 2,4V22L6,18H20A2,2 0 0,0 22,16V4C22,2.89 21.1,2 20,2Z\" />\r\n        </svg>\r\n        Chat\r\n      </NavLink>\r\n\r\n      <NavLink to='/friends' activeClassName={s.active} className={s.navLink}>\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" width=\"24\" height=\"24\"\r\n          fill={pathname === '/friends' ? '#00bcd4' : 'white'}\r\n          className={s.navLinkImg}\r\n          viewBox=\"0 0 24 24\"><path d=\"M12,5.5A3.5,3.5 0 0,1 15.5,9A3.5,3.5 0 0,1 12,12.5A3.5,3.5 0 0,1 8.5,9A3.5,3.5 0 0,1 12,5.5M5,8C5.56,8 6.08,8.15 6.53,8.42C6.38,9.85 6.8,11.27 7.66,12.38C7.16,13.34 6.16,14 5,14A3,3 0 0,1 2,11A3,3 0 0,1 5,8M19,8A3,3 0 0,1 22,11A3,3 0 0,1 19,14C17.84,14 16.84,13.34 16.34,12.38C17.2,11.27 17.62,9.85 17.47,8.42C17.92,8.15 18.44,8 19,8M5.5,18.25C5.5,16.18 8.41,14.5 12,14.5C15.59,14.5 18.5,16.18 18.5,18.25V20H5.5V18.25M0,20V18.5C0,17.11 1.89,15.94 4.45,15.6C3.86,16.28 3.5,17.22 3.5,18.25V20H0M24,20H20.5V18.25C20.5,17.22 20.14,16.28 19.55,15.6C22.11,15.94 24,17.11 24,18.5V20Z\" />\r\n        </svg>\r\n        Friends\r\n      </NavLink>\r\n\r\n      <NavLink to=\"/users\" activeClassName={s.active} className={s.navLink}>\r\n        <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"\r\n          fill={pathname === '/users' ? '#00bcd4' : 'white'}\r\n          className={s.navLinkImg}>\r\n          <path d=\"M15.5,12C18,12 20,14 20,16.5C20,17.38 19.75,18.21 19.31,18.9L22.39,22L21,23.39L17.88,20.32C17.19,20.75 16.37,21 15.5,21C13,21 11,19 11,16.5C11,14 13,12 15.5,12M15.5,14A2.5,2.5 0 0,0 13,16.5A2.5,2.5 0 0,0 15.5,19A2.5,2.5 0 0,0 18,16.5A2.5,2.5 0 0,0 15.5,14M10,4A4,4 0 0,1 14,8C14,8.91 13.69,9.75 13.18,10.43C12.32,10.75 11.55,11.26 10.91,11.9L10,12A4,4 0 0,1 6,8A4,4 0 0,1 10,4M2,20V18C2,15.88 5.31,14.14 9.5,14C9.18,14.78 9,15.62 9,16.5C9,17.79 9.38,19 10,20H2Z\" />\r\n        </svg>\r\n        Find Users\r\n      </NavLink>\r\n    </nav>\r\n  )\r\n}\r\n\r\nexport default withRouter(Navbar)","import { AppStateType } from \"../redux-store\";\r\n\r\nexport const getProfile = (state: AppStateType) => {\r\n  return state.profilePage.profile\r\n}\r\n\r\nexport const getStatusSelector = (state: AppStateType) => {\r\n  return state.profilePage.status\r\n}\r\n\r\nexport const getShowSuccessSave = (state: AppStateType) => {\r\n  return state.profilePage.showSuccessSave\r\n}\r\n\r\nexport const getErrorProfileContacts = (state: AppStateType) => {\r\n  return state.profilePage.errorProfileContacts\r\n}\r\n\r\nexport const getPosts = (state: AppStateType) => {\r\n  return state.profilePage.posts\r\n}\r\n\r\nexport const getPostsForDelete = (state: AppStateType) => {\r\n  return state.profilePage.postsForDelete\r\n}\r\n\r\nexport const getToggleClickDeleteSelectedPosts = (state: AppStateType) => {\r\n  return state.profilePage.isClickDeleteSelectedPosts\r\n}\r\n\r\nexport const getIsSelectedPost = (state: AppStateType) => {\r\n  return state.profilePage.isSelectedPost\r\n}","import React, { useState } from 'react';\r\nimport { actions } from '../../../../redux/reducers/profile-reducer';\r\nimport { getIsSelectedPost, getPostsForDelete, getToggleClickDeleteSelectedPosts } from '../../../../redux/selectors/profile-selectors';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport s from './Post.module.css';\r\nimport cn from 'classnames';\r\nimport unknown from './../../../../img/no_photo.svg';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport ThumbUpAltIcon from '@material-ui/icons/ThumbUpAlt';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Avatar from '../../../common/Avatar/Avatar';\r\n\r\nimport { PostType } from '../../../../types/types';\r\n\r\ntype OwnPropsType = {\r\n  photo: string | null\r\n  handleDeleteOnePost: (idPost: string) => void\r\n  addIdPostBeforeDeleting: (idPost: string) => void\r\n  deleteIdPostBeforeDeleting: (idPost: string) => void\r\n}\r\n\r\nconst Post: React.FC<PostType & {} & OwnPropsType> = (props) => {\r\n  let {\r\n    idPost,\r\n    author,\r\n    message,\r\n    likesCount,\r\n    isLikeClick,\r\n    photo,\r\n    handleDeleteOnePost,\r\n    addIdPostBeforeDeleting,\r\n    deleteIdPostBeforeDeleting\r\n  } = props\r\n\r\n  let [isClickDeletePost, setIsClickDeletePost] = useState(false)\r\n  let [isSelectedPostLocal, setIsSelectedPostLocal] = useState(false)\r\n\r\n  const isSelectedPost = useSelector(getIsSelectedPost)\r\n  const isClickDeleteSelectedPosts = useSelector(getToggleClickDeleteSelectedPosts)\r\n  const postsForDelete = useSelector(getPostsForDelete)\r\n  const dispatch = useDispatch()\r\n\r\n  const handleDeletePost = () => {\r\n    setIsClickDeletePost(true)\r\n    setTimeout(() => handleDeleteOnePost(idPost), 300)\r\n  }\r\n\r\n  const handleSetLike = () => {\r\n    if (!isLikeClick) {\r\n      dispatch(actions.setLikeOnPost(idPost))\r\n    } else {\r\n      dispatch(actions.deletetLikeOnPost(idPost))\r\n    }\r\n  }\r\n\r\n  return <div className={cn(\r\n    s.postContainer,\r\n    {\r\n      [s.postDelete]: isClickDeletePost\r\n        || (isClickDeleteSelectedPosts && postsForDelete.includes(idPost))\r\n      // добавление анимации\r\n    }\r\n  )}>\r\n    <div className={s.post}>\r\n\r\n      <div className={s.columnLeft}>\r\n        <div className={cn(\r\n          { [s.avatar]: !isSelectedPostLocal },\r\n          { [s.postSelected]: isSelectedPostLocal },\r\n        )} onClick={() => {\r\n          if (!isSelectedPostLocal) {\r\n            // для убирания иконок-крестиков у всех постов\r\n            dispatch(actions.toggleIsSelectedPost(true))\r\n            setIsSelectedPostLocal(true)\r\n            // предварительное добавление поста в список на удаление\r\n            addIdPostBeforeDeleting(idPost)\r\n          } else {\r\n            dispatch(actions.toggleIsSelectedPost(false))\r\n            setIsSelectedPostLocal(false)\r\n            deleteIdPostBeforeDeleting(idPost)\r\n          }\r\n        }}>\r\n          <Avatar photo={photo ? photo : unknown} size='medium' />\r\n        </div>\r\n      </div>\r\n\r\n      <div className={s.columnCenter}>\r\n        <div className={s.name}>\r\n          {author}\r\n        </div>\r\n        <div className={s.message}>\r\n          {message}\r\n        </div>\r\n      </div>\r\n\r\n      <div className={s.columnRight}>\r\n        <div hidden={isSelectedPost}>\r\n          <IconButton\r\n            aria-label=\"deletePost\"\r\n            size=\"small\"\r\n            onClick={handleDeletePost}>\r\n            <CloseIcon />\r\n          </IconButton>\r\n        </div>\r\n        <div className={s.wrapLike}>\r\n          <span className={s.like}>\r\n            {likesCount > 0 ? `+${likesCount}` : ''}\r\n          </span>\r\n          <IconButton\r\n            aria-label=\"like\"\r\n            size=\"small\"\r\n            onClick={handleSetLike}>\r\n            <ThumbUpAltIcon\r\n              style={\r\n                isLikeClick\r\n                  ? { color: '#00bcd4' }\r\n                  : { color: '#b2ebf2' }\r\n              }\r\n            />\r\n          </IconButton>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n}\r\n\r\nexport default Post;","import { TextField } from '@material-ui/core';\r\n\r\nconst renderTextField = (props) => {\r\n  const { label, input, placeholder, multiline, variant, inputProps, onInput, onFocus, meta: { touched, error, warning }, fullWidth, ...custom } = props;\r\n\r\n  return <>\r\n    <TextField\r\n      label={label}\r\n      placeholder={placeholder}\r\n      inputProps={inputProps}\r\n      onInput={onInput}\r\n      onFocus={onFocus}\r\n      variant={variant}\r\n      multiline={multiline}\r\n      fullWidth={fullWidth}\r\n      {...input}\r\n      {...custom}\r\n    />\r\n    {\r\n      touched && (\r\n        (error &&\r\n          <span style={{ color: '#f44336' }}>{error}</span>)\r\n        || (warning && <span>{warning}</span>)\r\n      )\r\n    }\r\n  </>\r\n}\r\n\r\nexport default renderTextField;","import React from 'react';\r\nimport { Field, InjectedFormProps, reduxForm, reset } from 'redux-form';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getPosts, getPostsForDelete } from '../../../redux/selectors/profile-selectors';\r\nimport { getMyPhoto } from '../../../redux/selectors/auth-selectors';\r\nimport { actions } from '../../../redux/reducers/profile-reducer';\r\n\r\nimport Post from './Post/Post';\r\nimport { PostType } from '../../../types/types';\r\n\r\nimport s from './Wall.module.css';\r\nimport cn from 'classnames';\r\nimport renderTextField from '../../common/ElementCustom/renderTextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport PostAddIcon from '@material-ui/icons/PostAdd';\r\nimport { IconButton } from '@material-ui/core';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\n\r\nconst Wall: React.FC = (props) => {\r\n\r\n  const posts = useSelector(getPosts)\r\n  const postsForDelete = useSelector(getPostsForDelete)\r\n  const myPhoto = useSelector(getMyPhoto)\r\n  const dispatch = useDispatch()\r\n\r\n  React.useEffect(() => {\r\n    // @ts-ignore\r\n    let arr = JSON.parse(localStorage.getItem(\"posts\"));\r\n    if (arr) {\r\n      dispatch(actions.initializePosts(arr))\r\n    }\r\n  }, [dispatch])\r\n\r\n  React.useEffect(() => {\r\n    localStorage.setItem(\"posts\", JSON.stringify(posts));\r\n  }, [posts])\r\n\r\n  const handleAddPost = (values: WallValuesFormType) => {\r\n    if (values.newPostText && values.newPostText.length > 0) {\r\n      dispatch(actions.addPost(values.newPostText))\r\n      dispatch(reset('profileNewPostForm'))\r\n    }\r\n  }\r\n\r\n  const handleDeleteOnePost = (idPost: string) => {\r\n    dispatch(actions.deletePost(idPost))\r\n  }\r\n\r\n  const handleDeleteSelectedPost = () => {\r\n    // начало анимации удаления \r\n    dispatch(actions.toggleIsClickDeleteSelectedPosts(true))\r\n    // возвращаем индивидуальные иконки-крестики у всех постов\r\n    dispatch(actions.toggleIsSelectedPost(false))\r\n\r\n    setTimeout(() => {\r\n      postsForDelete.forEach(p => {\r\n        dispatch(actions.deletePost(p))\r\n      })\r\n      dispatch(actions.clearPostsForDelete())\r\n\r\n      // конец анимации удаления\r\n      dispatch(actions.toggleIsClickDeleteSelectedPosts(false))\r\n    }, 600)\r\n  }\r\n\r\n  const addIdPostBeforeDeleting = (idPost: string) => {\r\n    dispatch(actions.setPostForDeleting(idPost))\r\n  }\r\n\r\n  const deleteIdPostBeforeDeleting = (idPost: string) => {\r\n    dispatch(actions.deletePostForDeleting(idPost))\r\n  }\r\n\r\n  let postsElements = posts.map((p: PostType) =>\r\n    <Post\r\n      key={p.idPost}\r\n      idPost={p.idPost}\r\n      author={p.author}\r\n      message={p.message}\r\n      likesCount={p.likesCount}\r\n      isLikeClick={p.isLikeClick}\r\n      photo={myPhoto}\r\n      handleDeleteOnePost={handleDeleteOnePost}\r\n      addIdPostBeforeDeleting={addIdPostBeforeDeleting}\r\n      deleteIdPostBeforeDeleting={deleteIdPostBeforeDeleting}\r\n    />\r\n  )\r\n\r\n  return (\r\n    <div className={s.container}>\r\n      <div hidden={postsForDelete.length === 0} className={cn(\r\n        { [s.basket]: postsForDelete.length > 0 }\r\n      )}>\r\n        <Button\r\n          onClick={() => handleDeleteSelectedPost()}\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          style={{ color: 'white', width: '100%', height: '100%' }}\r\n          startIcon={<DeleteIcon />}\r\n        >\r\n          Delete\r\n        </Button>\r\n      </div>\r\n\r\n      {\r\n        postsForDelete.length === 0 &&\r\n        <PostReduxForm onSubmit={handleAddPost} />\r\n      }\r\n\r\n      <div className={s.posts}>\r\n        {postsElements}\r\n        {\r\n          !posts.length &&\r\n          <div className={s.noPosts}>\r\n            <span>No posts yet...</span>\r\n            <span>Write something!</span>\r\n          </div>\r\n        }\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst AddNewPostForm: React.FC<InjectedFormProps<WallValuesFormType, {}> & {}> =\r\n  ({ handleSubmit }) => {\r\n\r\n    const stylesAddPostButton = {\r\n      color: 'white',\r\n      margin: '10px 0 10px 10px',\r\n      width: '140px',\r\n    }\r\n\r\n    return <form onSubmit={handleSubmit}>\r\n      <div className={s.form}>\r\n        <Field\r\n          component={renderTextField}\r\n          name='newPostText'\r\n          placeholder='Enter the post text...'\r\n          multiline={true}\r\n          fullWidth={true}\r\n          variant=\"outlined\"\r\n          inputProps={{ maxLength: 1000 }}\r\n        />\r\n        <div className={s.buttonBig}>\r\n          <Button\r\n            type='submit'\r\n            variant=\"contained\"\r\n            color='primary'\r\n            style={stylesAddPostButton}\r\n            endIcon={<PostAddIcon />}\r\n          >Add post</Button>\r\n        </div>\r\n        <div hidden className={s.buttonIcon}>\r\n          <IconButton aria-label=\"addPost\" type='submit'>\r\n            <PostAddIcon color='primary' />\r\n          </IconButton>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  }\r\n\r\ntype WallValuesFormType = {\r\n  newPostText: string\r\n}\r\n\r\nconst PostReduxForm = reduxForm<WallValuesFormType, {}>({\r\n  form: 'profileNewPostForm'\r\n})(AddNewPostForm);\r\n\r\nexport default Wall;","// Памятка:\r\n//1. import { handleInputCount, handleFocusCount, handleBlurCount} from '../../../common/inputCount/inputCount';\r\n//2. Передать в input: \r\n      // name='...'\r\n      // onInput={handleInputCount.bind(null, num100)}\r\n      // onFocus={handleFocusCount}\r\n      // onBlur={handleBlurCount}\r\n//3. Добавить в компоненту: \r\n      //const num100 = 100;\r\n//4. Добавить в компоненту: \r\n      // <span id='statusWrapCount' className={s.countStyle}><span id='statusCount'></span> of 100</span>\r\n//5. Задать родителю span-a: \r\n      // position: relative;\r\n//6. Если нужно, чтобы не был виден счётчик при первом отображении input, применить:\r\n      // .countStyle {display: none;}\r\n\r\nexport const handleFocusCount = (e) => {\r\n  e.target.select();\r\n\r\n  document.getElementById(e.target.name + 'Count').textContent = e.target.value.length;\r\n\r\n  const elem = document.getElementById(e.target.name + 'WrapCount');\r\n  elem.style.display = 'inline-block';\r\n  elem.style.fontSize = '10px';\r\n  elem.style.position = 'absolute';\r\n  elem.style.right = '10px';\r\n  elem.style.top = 0;\r\n}\r\n\r\nexport const handleBlurCount = (e) => {\r\n  document.getElementById(e.target.name + 'WrapCount').style.display = 'none';\r\n}\r\n\r\nexport const handleInputCount = (num, e) => {\r\n  const wrap = e.target.name + 'WrapCount';\r\n  const count = e.target.name + 'Count';\r\n  const length = e.target.value.length;\r\n\r\n  if (length < num - 10) document.getElementById(wrap).style.color = 'white';\r\n  if (length >= num - 10) document.getElementById(wrap).style.color = 'yellow';\r\n  if (length === num) document.getElementById(wrap).style.color = 'red';\r\n\r\n  document.getElementById(count).textContent = e.target.value.length\r\n}","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  inputProfileStatus: {\r\n    minHeight: '30px',\r\n    maxHeight: '180px',\r\n    lineHeight: '25px',\r\n    padding: theme.spacing(1),\r\n    backgroundColor: '#4F4F4F', \r\n    borderRadius: '5px 5px 0 0',\r\n  },\r\n}));\r\n\r\nexport default useStyles;","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getStatusSelector } from '../../../../redux/selectors/profile-selectors';\r\nimport { updateStatus } from '../../../../redux/reducers/profile-reducer';\r\n\r\nimport { handleInputCount, handleFocusCount, handleBlurCount } from '../../../common/inputCount/inputCount';\r\n\r\nimport s from './Status.module.css';\r\nimport useStyles from '../../../common/ElementCustom/InputCustomProfileStatus';\r\nimport { Input, Button } from '@material-ui/core';\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\n\r\ntype PropsType = {\r\n  isOwner: boolean\r\n}\r\n\r\nconst Status: React.FC<PropsType> = (props) => {\r\n\r\n  const { isOwner } = props\r\n  const classes = useStyles()\r\n\r\n  const stylesSaveAndButton = {\r\n    color: '#fff', \r\n    margin: 10, \r\n    width: '100%',\r\n  }\r\n\r\n  const status = useSelector(getStatusSelector)\r\n  const dispatch = useDispatch()\r\n\r\n  let [editMode, setEditMode] = useState(false);\r\n  let [statusLocal, setStatusLocal] = useState(status);\r\n\r\n  useEffect(() => {\r\n    setStatusLocal(status)\r\n  }, [status]);\r\n\r\n  const activateEditMode = () => setEditMode(true);\r\n  const onStatusChange = (e: React.ChangeEvent<HTMLInputElement>) => setStatusLocal(e.currentTarget.value);\r\n  const cancelEditMode = () => setEditMode(false);\r\n\r\n  const saveStatus = () => {\r\n    dispatch(updateStatus(statusLocal));\r\n    setEditMode(false);\r\n  }\r\n\r\n  const num300 = 300;\r\n\r\n  return <div className={s.container}>\r\n    {editMode && <div className={s.wrap}>\r\n      <Input\r\n        name='status'\r\n        value={statusLocal}\r\n        placeholder={'Your status...'}\r\n        autoFocus\r\n        inputProps={{ maxLength: 300 }}\r\n        className={classes.inputProfileStatus}\r\n        multiline={true}\r\n        fullWidth={true}\r\n        onInput={handleInputCount.bind(null, num300)}\r\n        onFocus={handleFocusCount}\r\n        onBlur={handleBlurCount}\r\n        onChange={onStatusChange}\r\n      />\r\n\r\n      <div className={s.buttons}>\r\n        <div className={s.buttonWrap}>\r\n          <Button\r\n            onClick={saveStatus}\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            style={stylesSaveAndButton}\r\n            startIcon={<SaveIcon />}\r\n          >Save</Button>\r\n        </div>\r\n        <div className={s.buttonWrap}>\r\n          <Button\r\n            onClick={cancelEditMode}\r\n            variant=\"outlined\"\r\n            style={stylesSaveAndButton}\r\n            startIcon={<CloseIcon />}\r\n          >Cancel</Button>\r\n        </div>\r\n\r\n        <span id='statusWrapCount'>\r\n          <span id='statusCount'></span> of 300\r\n        </span>\r\n      </div>\r\n    </div>\r\n    }\r\n\r\n    {isOwner && !editMode && <div className={s.status} onClick={activateEditMode}>\r\n      {status ||\r\n        <span className={s.statusEmpty}>\r\n          Your status is empty\r\n        </span>\r\n      }\r\n    </div>\r\n    }\r\n\r\n    {!isOwner && status && <div className={s.statusNotMy}>\r\n      {status}\r\n    </div>\r\n    }\r\n  </div>\r\n}\r\n\r\nexport default Status;","import { FormControlLabel, Checkbox } from '@material-ui/core';\r\n\r\nconst renderCheckbox = ({ input, label }) => {\r\n  return <div>\r\n    <FormControlLabel\r\n      control={\r\n        <Checkbox\r\n          checked={input.value ? true : false}\r\n          onChange={input.onChange}\r\n        />}\r\n      label={label}\r\n      labelPlacement=\"start\"\r\n      style={{ marginLeft: 0 }}\r\n    />\r\n  </div>\r\n}\r\n\r\nexport default renderCheckbox;","import React from 'react';\r\nimport { Field, InjectedFormProps, reduxForm } from 'redux-form';\r\n\r\nimport renderTextField from '../../../common/ElementCustom/renderTextField';\r\nimport renderCheckbox from '../../../common/ElementCustom/renderCheckbox';\r\nimport { handleInputCount, handleFocusCount, handleBlurCount } from '../../../common/inputCount/inputCount';\r\nimport s from './InfoDataForm.module.css';\r\nimport cn from 'classnames';\r\n\r\nimport { ProfileType } from '../../../../types/types';\r\n\r\ntype OwnPropsType = {\r\n  errorProfileContacts: string\r\n  initialValues: ProfileType\r\n}\r\n\r\nconst DataForm: React.FC<InjectedFormProps<ProfileType, OwnPropsType> & OwnPropsType> = (props) => {\r\n  const { handleSubmit, initialValues, errorProfileContacts } = props;\r\n\r\n  const num100 = 100;\r\n  const num1000 = 1000;\r\n\r\n  return <form onSubmit={handleSubmit} className={s.form}>\r\n\r\n    <h1 className={s.titleForm}>Edit profile</h1>\r\n\r\n    <div className={cn(s.wrap, s.wrapForCount)}>\r\n      <Field\r\n        component={renderTextField}\r\n        name='fullName'\r\n        label='Name:'\r\n        placeholder='Your name'\r\n        variant=\"filled\"\r\n        fullWidth={true}\r\n        inputProps={{ maxLength: 100 }}\r\n        onInput={handleInputCount.bind(null, num100)}\r\n        onFocus={handleFocusCount}\r\n        onBlur={handleBlurCount}\r\n      />\r\n      <span id='fullNameWrapCount' className={s.countStyle}>\r\n        <span id='fullNameCount'></span> of 100\r\n      </span>\r\n    </div>\r\n\r\n    <div className={cn(s.wrap, s.wrapForCount)}>\r\n      <Field\r\n        component={renderTextField}\r\n        name='aboutMe'\r\n        label='About me:'\r\n        placeholder='Write about yourself!'\r\n        multiline={true}\r\n        fullWidth={true}\r\n        variant=\"filled\"\r\n        inputProps={{ maxLength: 1000 }}\r\n        onInput={handleInputCount.bind(null, num1000)}\r\n        onFocus={handleFocusCount}\r\n        onBlur={handleBlurCount}\r\n      />\r\n      <span id='aboutMeWrapCount' className={s.countStyle}>\r\n        <span id='aboutMeCount'></span> of 1000\r\n      </span>\r\n    </div>\r\n\r\n    <div className={s.wrap}>\r\n      <Field\r\n        component={renderCheckbox}\r\n        name='lookingForAJob'\r\n        label='Are you looking for a job?'\r\n      />\r\n    </div>\r\n\r\n    <div className={cn(s.wrap, s.wrapForCount)}>\r\n      <Field\r\n        component={renderTextField}\r\n        name='lookingForAJobDescription'\r\n        label='Professional skills:'\r\n        placeholder='What you can do?'\r\n        multiline={true}\r\n        fullWidth={true}\r\n        variant=\"filled\"\r\n        inputProps={{ maxLength: 1000 }}\r\n        onInput={handleInputCount.bind(null, num1000)}\r\n        onFocus={handleFocusCount}\r\n        onBlur={handleBlurCount}\r\n      />\r\n      <span id='lookingForAJobDescriptionWrapCount' className={s.countStyle}>\r\n        <span id='lookingForAJobDescriptionCount'></span> of 1000\r\n      </span>\r\n    </div>\r\n\r\n    <div className={s.wrap}>\r\n      <div className={s.titleAllContacts}>Contacts:</div>\r\n\r\n      {errorProfileContacts ? <div className={s.errorProfileContacts}>\r\n        {errorProfileContacts}\r\n      </div> : <></>}\r\n\r\n      {Object.keys(initialValues.contacts).map(key => {\r\n        return <div className={s.contact} key={key}>\r\n          <div className={s.titleContact}>{key}:</div>\r\n          <Field\r\n            component={renderTextField}\r\n            name={'contacts.' + key}\r\n            multiline={true}\r\n            fullWidth={true}\r\n            placeholder='https://...'\r\n          />\r\n        </div>\r\n      })}\r\n    </div>\r\n  </form>\r\n}\r\n\r\nconst InfoDataForm = reduxForm<ProfileType, OwnPropsType>({\r\n  form: 'editProfile',\r\n})(DataForm);\r\n\r\nexport default InfoDataForm;","import React from 'react';\r\nimport { ProfileType, СontactsType } from '../../../../types/types';\r\nimport s from './InfoData.module.css';\r\n\r\ntype PropsType = {\r\n  profile: ProfileType\r\n}\r\n\r\nconst InfoData: React.FC<PropsType> = ({ profile }) => {\r\n  return <div className={s.containerForm}>\r\n\r\n    <div className={s.wrap}>\r\n      {profile.aboutMe && <div className={s.aboutMe}>\r\n        <div className={s.title}>About me:</div>\r\n        <div className={s.text}>{profile.aboutMe}</div>\r\n      </div>\r\n      }\r\n    </div>\r\n\r\n    <div className={s.wrap}>\r\n      <div className={s.job}>\r\n        <div className={s.title}>Job search:</div>\r\n        {profile.lookingForAJob\r\n          ? <div className={s.text}>Now looking for a job!</div>\r\n          : <div className={s.text}>I'm not looking for a job</div>}\r\n      </div>\r\n    </div>\r\n\r\n    <div className={s.wrap}>\r\n      {profile.lookingForAJobDescription && <div className={s.job}>\r\n        <div className={s.title}>Professional skills:</div>\r\n        <div className={s.text}>{profile.lookingForAJobDescription}</div>\r\n      </div>\r\n      }\r\n    </div>\r\n\r\n    <div className={s.wrap}>\r\n      {Object.values(profile.contacts).some(el => el && el !== '')\r\n        && <div className={s.contacts}>\r\n          <div className={s.title}>My contacts</div>\r\n          {Object.keys(profile.contacts).map(key => {\r\n            return <Contact\r\n              key={key}\r\n              contactTitle={key}\r\n              contactValue={profile.contacts[key as keyof СontactsType]} />\r\n          })}\r\n        </div>\r\n      }\r\n    </div>\r\n  </div >\r\n}\r\n\r\ntype ContactPropsType = {\r\n  contactTitle: string\r\n  contactValue: string\r\n}\r\n\r\nconst Contact: React.FC<ContactPropsType> = React.memo(({ contactTitle, contactValue }) => {\r\n  return (<>\r\n    {contactValue\r\n      && <div className={s.contact}>\r\n        <span className={s.contactTitle}>{contactTitle}:</span>\r\n        <div className={s.contactTextWrap}>\r\n          <a className={s.contactText} href={contactValue}>\r\n            {contactValue.replace(/(?:https?):\\/\\/([^/\\s]+)[^\\s]*/ig, '$1')}\r\n          </a>\r\n        </div>\r\n      </div>}\r\n  </>\r\n  )\r\n})\r\n\r\nexport default InfoData;","export default __webpack_public_path__ + \"static/media/camera.12909c41.svg\";","import React, { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { submit } from 'redux-form';\r\nimport { getErrorProfileContacts, getProfile, getShowSuccessSave } from '../../../redux/selectors/profile-selectors';\r\nimport { savePhotoThunk, saveProfileThunk } from '../../../redux/reducers/profile-reducer';\r\nimport { ProfileType } from '../../../types/types';\r\n\r\nimport Preloader from '../../common/Preloader/Preloader';\r\nimport Status from './Status/Status';\r\nimport Avatar from '../../common/Avatar/Avatar';\r\nimport InfoDataForm from './InfoDataForm/InfoDataForm';\r\nimport InfoData from './InfoData/InfoData';\r\n\r\nimport s from './InfoContainer.module.css';\r\nimport camera from '../../../img/icons/camera.svg';\r\nimport Button from '@material-ui/core/Button';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\n\r\n// при переходе на старницу профиля скрол обнулится\r\nfunction ScrollToTopOnMount() {\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n  }, []);\r\n  return null;\r\n}\r\n\r\ntype OwnPropsType = {\r\n  isOwner: boolean\r\n}\r\n\r\nconst ProfileInfo: React.FC<{} & {} & OwnPropsType> = ({ isOwner }) => {\r\n\r\n  const stylesSaveAndCancelButton = {\r\n    fontSize: 12,\r\n    color: '#fff',\r\n    margin: 10\r\n  }\r\n  const stylesEditButton = {\r\n    fontSize: 12,\r\n    marginTop: 20\r\n  }\r\n\r\n  const [editModeProfile, setEditModeProfile] = useState(false);\r\n\r\n  // for InfoDataForm\r\n  const errorProfileContacts = useSelector(getErrorProfileContacts)\r\n\r\n  const profile = useSelector(getProfile)\r\n  const showSuccessSave = useSelector(getShowSuccessSave)\r\n  const dispatch = useDispatch()\r\n\r\n  const onSubmit = (values: ProfileType) => {\r\n    dispatch(saveProfileThunk(values))\r\n  }\r\n\r\n  const onMainPhotoSelected = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    if (e.target.files?.length) {\r\n      dispatch(savePhotoThunk(e.target.files[0]))\r\n    }\r\n  }\r\n\r\n  if (!profile) {\r\n    return <Preloader />\r\n  }\r\n\r\n  return (\r\n    <div className={s.containerMain}>\r\n\r\n      {/* при переходе на старницу профиля скрол обнулится */}\r\n      <ScrollToTopOnMount />\r\n\r\n      <div className={s.columnLeft}>\r\n        <Avatar photo={profile.photos.large} size='large'>\r\n          {isOwner && !editModeProfile &&\r\n            <div className={s.camera}>\r\n              <label htmlFor=\"file_out\">\r\n                <div className={s.wrapImg}>\r\n                  <img src={camera} alt=\"icon\" />\r\n                </div>\r\n              </label>\r\n              <input\r\n                id=\"file_out\"\r\n                className={s.editPhotoInput}\r\n                type=\"file\"\r\n                onChange={onMainPhotoSelected} />\r\n            </div>\r\n          }\r\n        </Avatar>\r\n\r\n        {isOwner && !editModeProfile\r\n          && <Button\r\n            onClick={() => setEditModeProfile(true)}\r\n            variant=\"outlined\"\r\n            style={stylesEditButton}\r\n            startIcon={<EditIcon style={{ fontSize: 16 }} />}\r\n          >Edit profile</Button>\r\n        }\r\n\r\n        {editModeProfile && <div className={s.buttonsSaveAndCancelProfile}>\r\n          <Button\r\n            onClick={() => dispatch(submit('editProfile'))}\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            fullWidth={true}\r\n            style={stylesSaveAndCancelButton}\r\n            startIcon={<SaveIcon />}\r\n          >Save</Button>\r\n          <Button\r\n            onClick={() => setEditModeProfile(false)}\r\n            variant=\"outlined\"\r\n            fullWidth={true}\r\n            style={stylesSaveAndCancelButton}\r\n            startIcon={<CloseIcon />}\r\n          >Cancel</Button>\r\n        </div>}\r\n\r\n        {editModeProfile && showSuccessSave &&\r\n          <div className={s.successSave}>\r\n            {showSuccessSave}\r\n          </div>\r\n        }\r\n      </div>\r\n\r\n\r\n      <div className={s.columnRight}>\r\n\r\n        {!editModeProfile && <div className={s.fullName}>{profile.fullName}</div>}\r\n\r\n        {!editModeProfile &&\r\n          <Status\r\n            isOwner={isOwner} />\r\n        }\r\n\r\n        {editModeProfile\r\n          ? <InfoDataForm\r\n            initialValues={profile}\r\n            errorProfileContacts={errorProfileContacts}\r\n            onSubmit={onSubmit}\r\n          />\r\n          : <InfoData profile={profile} />}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst InfoContainer = ProfileInfo\r\nexport default InfoContainer","import React from 'react';\r\nimport { compose } from 'redux';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router';\r\nimport { AppStateType } from '../../redux/redux-store';\r\nimport { RouteComponentProps } from 'react-router-dom';\r\nimport { getUserProfile, getStatus } from '../../redux/reducers/profile-reducer';\r\n\r\nimport withAuthRedirect from '../hoc/withAuthRedirect';\r\nimport Wall from './Wall/Wall';\r\nimport InfoContainer from './Info/InfoContainer';\r\n\r\ntype MapStatePropsType = {\r\n  authorizedUserID: number | null\r\n}\r\n\r\ntype MapDispatchPropsType = {\r\n  getUserProfile: (userId: number) => void\r\n  getStatus: (userId: number) => void\r\n}\r\n\r\ntype PathParamsType = {\r\n  userId: string\r\n}\r\n\r\ntype PropsType = MapStatePropsType & MapDispatchPropsType & RouteComponentProps<PathParamsType>;\r\n\r\nclass ProfileContainer extends React.PureComponent<PropsType> {\r\n\r\n  refreshProfile() {\r\n    let userId: number | null = +this.props.match.params.userId;\r\n\r\n    if (!userId) {\r\n      userId = this.props.authorizedUserID;\r\n      if (!userId) {\r\n        this.props.history.push('/login')\r\n      }\r\n    }\r\n\r\n    this.props.getUserProfile(userId as number);\r\n    this.props.getStatus(userId as number);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.refreshProfile()\r\n  }\r\n  componentDidUpdate(prevProps: PropsType) {\r\n    // рендер при переходе с одной страницы на другую\r\n    if (this.props.match.params.userId !== prevProps.match.params.userId) {\r\n      this.refreshProfile()\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return <>\r\n      <InfoContainer\r\n        isOwner={+this.props.match.params.userId === this.props.authorizedUserID}\r\n      />\r\n      <Wall />\r\n    </>\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state: AppStateType): MapStatePropsType => {\r\n  return {\r\n    authorizedUserID: state.auth.userID,\r\n  }\r\n};\r\n\r\nexport default compose<React.ComponentType>(\r\n  connect<MapStatePropsType, MapDispatchPropsType, RouteComponentProps<PathParamsType>, AppStateType>(\r\n    mapStateToProps,\r\n    {\r\n      getUserProfile,\r\n      getStatus,\r\n    }\r\n  ),\r\n  withRouter,\r\n  withAuthRedirect\r\n)(ProfileContainer)","import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Redirect } from 'react-router';\r\nimport { getAuthorizedUserID, getCaptchaURL, getIsAuth } from '../../redux/selectors/auth-selectors';\r\nimport { Field, InjectedFormProps, reduxForm } from 'redux-form';\r\nimport { loginThunk } from '../../redux/reducers/auth-reducer';\r\n\r\nimport s from './Login.module.css';\r\nimport cn from 'classnames';\r\nimport renderTextField from '../common/ElementCustom/renderTextField';\r\nimport renderCheckbox from '../common/ElementCustom/renderCheckbox';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nconst validate = (values: LoginFormValuesType) => {\r\n\r\n  type ErrorsType = {\r\n    email?: string\r\n    password?: string\r\n    captcha?: string\r\n  }\r\n\r\n  const errors: ErrorsType = {}\r\n\r\n  if (values.email\r\n    && !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.email)) {\r\n    errors.email = 'Invalid email address'\r\n  }\r\n\r\n  return errors\r\n}\r\n\r\n\r\n\r\ntype OwnPropsType = {\r\n  captchaURL: string | null\r\n}\r\n\r\ntype LoginFormValuesType = {\r\n  email: string\r\n  password: string\r\n  rememberMe: boolean\r\n  captcha: string\r\n}\r\n\r\n\r\n\r\nconst Login: React.FC = (props) => {\r\n\r\n  const isAuth = useSelector(getIsAuth)\r\n  const captchaURL = useSelector(getCaptchaURL)\r\n  const userID = useSelector(getAuthorizedUserID)\r\n  const dispatch = useDispatch()\r\n\r\n  const onSubmit = (values: LoginFormValuesType) => {\r\n    dispatch(loginThunk(\r\n      values.email, values.password, values.rememberMe, values.captcha))\r\n  }\r\n\r\n  if (isAuth) {\r\n    return <Redirect to={`/profile/${userID}`} />\r\n  }\r\n\r\n  return <div className={s.wrap}>\r\n    <div className={s.body}>\r\n      <h1>Log in</h1>\r\n      <LoginReduxForm\r\n        onSubmit={onSubmit}\r\n        captchaURL={captchaURL} />\r\n    </div>\r\n  </div>\r\n}\r\n\r\n\r\n\r\nconst LoginForm: React.FC<InjectedFormProps<LoginFormValuesType, OwnPropsType> & OwnPropsType> = ({ handleSubmit, error, captchaURL }) => {\r\n\r\n  const stylesLoginButton: any = {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#fff'\r\n  }\r\n\r\n  const dispatch = useDispatch()\r\n\r\n  const onTestAccountSubmit = (email: string, password: string) => {\r\n    dispatch(loginThunk(email, password, false, null))\r\n  }\r\n\r\n  return <>\r\n    <form onSubmit={handleSubmit}>\r\n      <div className={s.loginBlockSubstrate}>\r\n      <div className={s.loginBlock}>\r\n        <div className={s.row}>\r\n          <Field\r\n            component={renderTextField}\r\n            name='email'\r\n            label='Email:'\r\n            type=\"email\"\r\n            fullWidth={true}\r\n          />\r\n        </div>\r\n        <div className={s.row}>\r\n          <Field\r\n            component={renderTextField}\r\n            name='password'\r\n            label='Password:'\r\n            type=\"password\"\r\n            fullWidth={true}\r\n          />\r\n        </div>\r\n        <div className={cn(s.row, s.rowCheckbox)}>\r\n          <Field\r\n            component={renderCheckbox}\r\n            name='rememberMe'\r\n            label='Remember me'\r\n          />\r\n        </div>\r\n\r\n        {captchaURL && <img src={captchaURL} alt='captcha' />}\r\n        {captchaURL &&\r\n          <Field\r\n            component={renderTextField}\r\n            fullWidth={true}\r\n            name='captcha' />\r\n        }\r\n\r\n        <div className={s.row}>\r\n          <Button\r\n            type='submit'\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            fullWidth={true}\r\n            style={stylesLoginButton}\r\n          >Log in</Button>\r\n\r\n          {error &&\r\n            <div className={s.formError}>\r\n              {\r\n              error === 'You are not authorized' \r\n                  ? <>\r\n                  <div>You are not authorized</div>\r\n                  <div>(please, unblock third party cookies)</div>\r\n                  </>\r\n              : error\r\n              }\r\n            </div>\r\n          }\r\n        </div>\r\n      </div>\r\n      </div>\r\n      <p>or</p>\r\n      <Button\r\n        onClick={() => onTestAccountSubmit('free@samuraijs.com', 'free')}\r\n        variant=\"contained\"\r\n        color=\"secondary\"\r\n        fullWidth={true}\r\n        style={stylesLoginButton && {marginBottom: '15px'}}\r\n      >Login to test account\r\n      </Button>\r\n    </form>\r\n  </>\r\n}\r\n\r\nconst LoginReduxForm = reduxForm<LoginFormValuesType, OwnPropsType>({\r\n  form: 'loginForm',\r\n  validate,\r\n})(LoginForm);\r\n\r\nexport default Login","import React from 'react';\r\n\r\nclass ErrorBoundary extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { error: null };\r\n  }\r\n\r\n  static getDerivedStateFromError(error) {\r\n    return { error: error };\r\n  }\r\n\r\n  render() {\r\n    if (this.state.error) {\r\n      return (\r\n        <div>\r\n          <h2>Something went wrong</h2>\r\n          <details style={{ whiteSpace: 'pre-wrap' }}>\r\n            {this.state.error?.toString()}\r\n          </details>\r\n        </div>\r\n      );\r\n    }\r\n    return this.props.children;\r\n  }\r\n}\r\n\r\nexport default ErrorBoundary;","import React from 'react';\r\nimport { Route, withRouter, Switch, Redirect } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { AppStateType } from './redux/redux-store';\r\nimport { initializeAppThunk } from './redux/reducers/app-reducer';\r\nimport { getAuthorizedUserID } from './redux/selectors/auth-selectors';\r\n\r\nimport Preloader from './components/common/Preloader/Preloader';\r\nimport { withSuspense } from './components/hoc/withSuspense';\r\n\r\nimport s from './App.module.css';\r\nimport Header from './components/Header/Header';\r\nimport Navbar from './components/Navbar/Navbar';\r\nimport ProfileContainer from './components/Profile/ProfileContainer';\r\nimport Login from './components/Login/Login';\r\nimport ErrorBoundary from './components/Error/ErrorBoundary';\r\n\r\nconst ChatContainer = React.lazy(\r\n  () => import('./components/Chat/Chat'));\r\nconst UsersContainer = React.lazy(\r\n  () => import('./components/Users/UsersContainer'));\r\n\r\nconst SuspendedChat = withSuspense(ChatContainer);\r\nconst SuspendedUsers = withSuspense(UsersContainer);\r\n\r\nconst App: React.FC = (props) => {\r\n\r\n  const initialized = useSelector((state: AppStateType) => state.app.initialized)\r\n  const userID = useSelector(getAuthorizedUserID)\r\n  const dispatch = useDispatch()\r\n  // @ts-ignore\r\n  React.useEffect(() => dispatch(initializeAppThunk()), [dispatch]);\r\n\r\n  if (!initialized) {\r\n    return <Preloader />\r\n  }\r\n\r\n  return (\r\n    <div className={s.fon}>\r\n      <div className={s.container}>\r\n        <div className={s.appWrapper}>\r\n\r\n          <Header />\r\n          <Navbar />\r\n\r\n          <div className={s.appWrapperContent}>\r\n            <ErrorBoundary>\r\n              <Switch>\r\n                <Redirect from='/profile/undefined' to=\"/\" />\r\n\r\n                <Route path='/profile/:userId'\r\n                  render={() => <ProfileContainer />} />\r\n\r\n                <Route path='/chat'\r\n                  render={() => <SuspendedChat />} />\r\n\r\n                <Route path='/friends'\r\n                  render={() => <SuspendedUsers />} />\r\n\r\n                <Route path='/users'\r\n                  render={() => <SuspendedUsers />} />\r\n\r\n                <Route path='/login'\r\n                  render={() => <Login />} />\r\n\r\n                <Redirect exact from=\"/\" to={'/profile/' + userID} />\r\n\r\n                <Redirect from='*' to=\"/\" />\r\n              </Switch>\r\n            </ErrorBoundary>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst AppContainer = withRouter(App)\r\nexport default AppContainer","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { HashRouter } from 'react-router-dom';\r\nimport { Provider } from 'react-redux';\r\n\r\nimport store from './redux/redux-store';\r\n\r\nimport AppContainer from './App';\r\n\r\nimport { createMuiTheme, ThemeProvider, responsiveFontSizes } from '@material-ui/core/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport cyan from '@material-ui/core/colors/cyan';\r\n\r\nlet theme = createMuiTheme({\r\n  palette: {\r\n    type: 'dark', // светлый текст\r\n    primary: {\r\n      main: cyan[600], // #00bcd4\r\n      // синий цвет (кнопки, активные ссылки в навигации, декоративные линии)\r\n    },\r\n    secondary: {\r\n      main: cyan[800], // #00838f\r\n      // кнопка в Login для входа в тестовый аккаунт\r\n\r\n      // #b2ebf2 // cyan[100]\r\n      // like on Wall before pressing\r\n\r\n      // #919191\r\n      // фон светлее общего (hover и текст в profileForm)\r\n\r\n      // #222831\r\n      // фон header, nav, content\r\n\r\n      // #4F4F4F\r\n      // фон подложки\r\n\r\n      // #5E5E5E\r\n      // средний серый (фон статуса при редактировании)\r\n\r\n      // #f44336\r\n      // ошибки\r\n    },\r\n  },\r\n});\r\n\r\ntheme = responsiveFontSizes(theme);\r\n\r\nReactDOM.render(\r\n  <HashRouter>\r\n    <ThemeProvider theme={theme}>\r\n      <Provider store={store}>\r\n        <CssBaseline />\r\n        <AppContainer />\r\n      </Provider>\r\n    </ThemeProvider>\r\n  </HashRouter>, document.getElementById('root')\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"Login_wrap__18LVK\",\"body\":\"Login_body__2Hhs9\",\"loginBlockSubstrate\":\"Login_loginBlockSubstrate__vSjvc\",\"loginBlock\":\"Login_loginBlock__1YvP4\",\"row\":\"Login_row__3d41Y\",\"rowCheckbox\":\"Login_rowCheckbox__4sYwU\",\"formError\":\"Login_formError__3j1Nj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"camera\":\"InfoContainer_camera__IpD6r\",\"wrapImg\":\"InfoContainer_wrapImg__10vd-\",\"editPhotoInput\":\"InfoContainer_editPhotoInput__XccDx\",\"containerMain\":\"InfoContainer_containerMain__3Xio4\",\"columnLeft\":\"InfoContainer_columnLeft__1_kJ8\",\"columnRight\":\"InfoContainer_columnRight__2qyh0\",\"iconButtonEditProfile\":\"InfoContainer_iconButtonEditProfile__26Jz-\",\"fullName\":\"InfoContainer_fullName__7Hk3o\",\"buttonsSaveAndCancelProfile\":\"InfoContainer_buttonsSaveAndCancelProfile__1uVyp\",\"successSave\":\"InfoContainer_successSave__23-f5\",\"anim\":\"InfoContainer_anim__QEFY8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3vTSi\",\"logoAndTitle\":\"Header_logoAndTitle__1mTjG\",\"headerTitle\":\"Header_headerTitle__2wZ_g\",\"rightPart\":\"Header_rightPart__sDTHI\",\"loginAndPhoto\":\"Header_loginAndPhoto__3okUT\",\"loginName\":\"Header_loginName__3CaV_\",\"logoutImg\":\"Header_logoutImg__1QW2c\",\"buttonMobile\":\"Header_buttonMobile__3V8e5\",\"buttonDesctop\":\"Header_buttonDesctop__38OBn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Status_container__BDZoe\",\"wrap\":\"Status_wrap__1mMIC\",\"buttons\":\"Status_buttons__KMxYA\",\"buttonWrap\":\"Status_buttonWrap__3yn6L\",\"status\":\"Status_status__27mFj\",\"statusNotMy\":\"Status_statusNotMy__3afoa\",\"statusEmpty\":\"Status_statusEmpty__1-cAn\",\"buttonSave\":\"Status_buttonSave__2MrEy\",\"buttonCancel\":\"Status_buttonCancel__10fUe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Wall_container__1uEMX\",\"basket\":\"Wall_basket__2aZZt\",\"form\":\"Wall_form__1YCMY\",\"posts\":\"Wall_posts__3mtx3\",\"noPosts\":\"Wall_noPosts__1JAeH\",\"buttonBig\":\"Wall_buttonBig__2ICre\",\"buttonIcon\":\"Wall_buttonIcon__1RU9G\"};","import React from 'react'\r\nimport unknown from '../../../img/no_photo.svg'\r\nimport s from './Avatar.module.css'\r\nimport cn from 'classnames'\r\n\r\ntype SizeType = 'small' | 'medium' | 'large'\r\n\r\ntype PropsType = {\r\n  photo: string | null | undefined\r\n  size: SizeType\r\n}\r\n\r\nconst Avatar: React.FC<PropsType> = ({ photo, size, children }) => {\r\n  return (\r\n    <div className={s.avatarWrap}>\r\n      <div className={cn(\r\n        s.avatar,\r\n        { [s.large]: size === 'large' },\r\n        { [s.medium]: size === 'medium' },\r\n        { [s.small]: size === 'small' },\r\n      )}\r\n      >\r\n        <img src={photo || unknown} alt=\"avatar\" />\r\n        {children}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Avatar","export default __webpack_public_path__ + \"static/media/preloader.a2993579.svg\";","import React from 'react';\r\nimport preloader from '../../../img/preloader.svg';\r\n\r\nconst stylesContainer = {\r\n  position: 'absolute', \r\n  left: 'calc(50% - 85px)',\r\n}\r\n\r\nconst stylesWrap = {\r\n  display: 'flex', \r\n  justifyContent: 'center',\r\n}\r\n\r\nconst Preloader = () => {\r\n  return <div style={stylesContainer}>\r\n    <div style={stylesWrap}>\r\n      <img src={preloader} alt='preloader' />\r\n    </div>\r\n  </div>\r\n\r\n};\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"Avatar_avatar__3Sz_o\",\"avatarWrap\":\"Avatar_avatarWrap__3LEkK\",\"small\":\"Avatar_small__qQzaA\",\"medium\":\"Avatar_medium__17vM9\",\"large\":\"Avatar_large__2zfpp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"fon\":\"App_fon__Rn3Sm\",\"container\":\"App_container__2T05O\",\"appWrapper\":\"App_appWrapper__1hlCE\",\"appWrapperContent\":\"App_appWrapperContent__1C2YH\"};"],"sourceRoot":""}