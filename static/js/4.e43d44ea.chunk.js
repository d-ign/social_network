(this.webpackJsonpsocial_network=this.webpackJsonpsocial_network||[]).push([[4],{411:function(e,t,s){e.exports={chat:"Chat_chat__18S3w",membersAndMessages:"Chat_membersAndMessages__1RTR_",form:"Chat_form__3kFu7"}},413:function(e,t,s){e.exports={container:"Members_container__2pna_",titleWrap:"Members_titleWrap__d7NLT",title:"Members_title__154Tu",titleArrow:"Members_titleArrow__1dMqh",members:"Members_members__H4WWv",member:"Members_member__2LXCJ",name:"Members_name__1qmml",showAllWrap:"Members_showAllWrap__fuTjQ",showAll:"Members_showAll__1QIPw",notShowMembers:"Members_notShowMembers__1sD9m",titleWrapDeployed:"Members_titleWrapDeployed__3oL3i"}},414:function(e,t,s){e.exports={buttonSortWrap:"ButtonSort_buttonSortWrap__2rfNk",buttonSortNotShowMembers:"ButtonSort_buttonSortNotShowMembers__3K8VO",buttonSort:"ButtonSort_buttonSort__2e7NN"}},418:function(e,t,s){e.exports={container:"Messages_container__2Bams",containerNoMessages:"Messages_containerNoMessages__11VCg",noMessages:"Messages_noMessages__3MSgQ"}},419:function(e,t,s){e.exports={messageContainer:"Message_messageContainer__2kjzX",myMessageContainer:"Message_myMessageContainer__2WRWS",name:"Message_name__3OjTx",message:"Message_message__1v5P9",nameAndMessage:"Message_nameAndMessage__4B2fF",avatarMedium:"Message_avatarMedium__3Yqu1",avatarSmall:"Message_avatarSmall__11YXQ"}},436:function(e,t,s){"use strict";s.r(t);var a=s(35),r=s(0),n=s.n(r),c=s(9),o=s(401),i=s(420),l=s.n(i),m=s(406),b=s(411),j=s.n(b),u=s(153),d=s(18),h=s(34),_=s(27),O=s.n(_),g=s(412),p=s.n(g),x=s(417),M=s(413),f=s.n(M),v=s(76),S=function(e){return e.chat.messages},N=function(e){return e.chat.messages.filter((function(e,t,s){return s.findIndex((function(t){return t.userId===e.userId}))===t?e:null}))},w=function(e){return e.chat.status},A=s(416),C=s.n(A),W=s(415),y=s.n(W),I=s(402),k=s(414),T=s.n(k),R=s(1),z=function(e){var t=e.theme,s=e.isReverseSort,a=e.setIsReverseSort,r=e.isShowAll,n=e.isShowMembers;return Object(R.jsx)("div",{className:O()(T.a.buttonSortWrap,Object(d.a)({},T.a.buttonSort,n),Object(d.a)({},T.a.buttonSortNotShowMembers,!n)),children:Object(R.jsx)(I.a,{onClick:function(){return a(!s)},disabled:!r,startIcon:s?Object(R.jsx)(y.a,{}):Object(R.jsx)(C.a,{}),style:{fontSize:"10px",marginBottom:"5px",padding:"3px 10px 3px 7px"},color:"theme1"===t?"primary":"secondary",children:"sort by name"})})},B=function(e){var t=e.theme,s=Object(c.d)(N),n=Object(r.useState)(!1),o=Object(a.a)(n,2),i=o[0],l=o[1],m=Object(r.useState)(!1),b=Object(a.a)(m,2),j=b[0],u=b[1],_=Object(r.useState)(!1),g=Object(a.a)(_,2),M=g[0],S=g[1],w=i?s.length:2;return Object(R.jsxs)("div",{hidden:!s.length,className:f.a.container,children:[Object(R.jsxs)("div",{"aria-hidden":"true",className:O()(f.a.titleWrap,Object(d.a)({},f.a.titleWrapDeployed,M)),onClick:function(){return S(!M)},children:[Object(R.jsx)("div",{className:f.a.title,children:"Members"}),Object(R.jsx)(p.a,{className:f.a.titleArrow,path:x.a,title:"ArrowShowMembers",size:"18px"})]}),Object(R.jsx)(z,{theme:t,isShowAll:i,isShowMembers:M,isReverseSort:j,setIsReverseSort:u}),Object(R.jsxs)("div",{className:O()(Object(d.a)({},f.a.members,M),Object(d.a)({},f.a.notShowMembers,!M)),children:[s&&s.slice(0,w).sort((function(e,t){return j?t.userName.localeCompare(e.userName):e.userName.localeCompare(t.userName)})).map((function(e){return Object(R.jsxs)("div",{className:f.a.member,children:[Object(R.jsx)(h.b,{to:"/profile/".concat(e.userId),children:Object(R.jsx)(v.a,{photo:e.photo,size:"small"})}),Object(R.jsx)(h.b,{className:f.a.name,to:"/profile/".concat(e.userId),children:e.userName})]},e.userId)})),s.length>2&&!i?Object(R.jsx)("div",{className:f.a.showAllWrap,children:Object(R.jsxs)("span",{"aria-hidden":"true",className:f.a.showAll,onClick:function(){return l(!0)},children:["show all ",s.length," ..."]})}):""]})]})},D=s(418),L=s.n(D),P=s(419),Q=s.n(P),q=s(33),E=n.a.memo((function(e){var t=e.message,s=Object(c.d)(q.a);return Object(R.jsxs)("div",{className:O()(Q.a.messageContainer,Object(d.a)({},Q.a.myMessageContainer,s===t.userId)),children:[Object(R.jsxs)(h.b,{to:"/profile/".concat(t.userId),children:[Object(R.jsx)("div",{className:Q.a.avatarMedium,children:Object(R.jsx)(v.a,{photo:t.photo,size:"medium"})}),Object(R.jsx)("div",{hidden:!0,className:Q.a.avatarSmall,children:Object(R.jsx)(v.a,{photo:t.photo,size:"small"})})]}),Object(R.jsxs)("div",{className:Q.a.nameAndMessage,children:[Object(R.jsx)(h.b,{className:Q.a.name,to:"/profile/".concat(t.userId),children:t.userName}),Object(R.jsx)("div",{className:Q.a.message,children:t.message})]})]})})),F=function(){var e=Object(c.d)(S),t=Object(r.useRef)(null),s=Object(r.useState)(!0),n=Object(a.a)(s,2),o=n[0],i=n[1];return Object(r.useEffect)((function(){var e;o&&(null===(e=t.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}))}),[e,o]),Object(R.jsxs)("div",{className:O()(L.a.container,Object(d.a)({},L.a.containerNoMessages,!e.length)),onScroll:function(e){var t=e.currentTarget;Math.abs(t.scrollHeight-t.scrollTop-t.clientHeight)<1?o||i(!0):o&&i(!1)},children:[e.length?e.filter((function(e){return e.message.trim().length>0})).map((function(e){return Object(R.jsx)(E,{message:e},e.id)})):Object(R.jsxs)("div",{className:L.a.noMessages,children:["No messages yet...",Object(R.jsx)("br",{}),"Write something!"]}),Object(R.jsx)("div",{ref:t})]})},H=s(25),J=s(189),V=function(e){var t=e.theme,s=n.a.useState(""),r=Object(a.a)(s,2),i=r[0],b=r[1],u=Object(c.d)(w),d=Object(c.c)();return Object(R.jsx)("div",{className:j.a.wrapForm,children:Object(R.jsxs)("div",{className:j.a.form,children:[Object(R.jsx)(m.a,{name:"newMessageText",placeholder:"Enter your message...",fullWidth:!0,variant:"outlined",inputProps:{maxLength:100},color:"theme1"===t?"primary":"secondary",onChange:function(e){return b(e.currentTarget.value)},value:i}),Object(R.jsx)(o.a,{"aria-label":"sendMessage",color:"theme1"===t?"primary":"secondary",style:{margin:"5px"},onClick:function(){i.trim()&&(d(Object(J.b)(i)),b(""))},disabled:"pending"===u,children:Object(R.jsx)(l.a,{})})]})})};t.default=Object(u.a)((function(){var e=Object(c.d)(w),t=Object(c.d)(H.b),s=Object(c.c)();return Object(r.useEffect)((function(){return s(Object(J.c)()),function(){s(Object(J.d)())}}),[s]),Object(R.jsxs)("div",{className:j.a.chat,children:["error"===e&&Object(R.jsx)("div",{children:"Some error occured. Please, refresh the page..."}),Object(R.jsxs)("div",{className:j.a.membersAndMessages,children:[Object(R.jsx)(F,{}),Object(R.jsx)(B,{theme:t})]}),Object(R.jsx)(V,{theme:t})]})}))}}]);
//# sourceMappingURL=4.e43d44ea.chunk.js.map