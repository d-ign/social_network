(this.webpackJsonpsocial_network=this.webpackJsonpsocial_network||[]).push([[4],{409:function(e,t,s){e.exports={allMessages:"Chat_allMessages__UAKZ2",chat:"Chat_chat__7k0Pt",membersAndMessages:"Chat_membersAndMessages__3U9AL",form:"Chat_form__24MsL"}},411:function(e,t,s){e.exports={container:"Members_container__2mnuT",titleWrap:"Members_titleWrap__3rhZf",title:"Members_title__g8eeI",titleArrow:"Members_titleArrow__1MCCX",members:"Members_members__3cDv0",member:"Members_member__35i4J",name:"Members_name___gfei",showAllWrap:"Members_showAllWrap__3thGg",showAll:"Members_showAll__1jnZq",notShowMembers:"Members_notShowMembers__1qWH8",titleWrapDeployed:"Members_titleWrapDeployed__2ndJ-"}},412:function(e,t,s){e.exports={buttonSortWrap:"ButtonSort_buttonSortWrap__2Qflv",buttonSortNotShowMembers:"ButtonSort_buttonSortNotShowMembers__3-zQr",buttonSort:"ButtonSort_buttonSort__pWJBD"}},416:function(e,t,s){e.exports={container:"Messages_container__1oUiN",containerNoMessages:"Messages_containerNoMessages__1TJI0",noMessages:"Messages_noMessages__37gb7"}},417:function(e,t,s){e.exports={messageContainer:"Message_messageContainer__3t0Uw",myMessageContainer:"Message_myMessageContainer__4I4bi",name:"Message_name__1c26Z",message:"Message_message__1m9Ge",nameAndMessage:"Message_nameAndMessage__25kLz",avatarMedium:"Message_avatarMedium__1f4ye",avatarSmall:"Message_avatarSmall__3VFHM"}},434:function(e,t,s){"use strict";s.r(t);var a=s(55),r=s(0),n=s.n(r),c=s(9),o=s(399),i=s(418),l=s.n(i),m=s(404),b=s(409),j=s.n(b),u=s(152),d=s(27),h=s(35),_=s(26),O=s.n(_),g=s(410),p=s.n(g),x=s(415),M=s(411),f=s.n(M),v=s(75),S=function(e){return e.chat.messages},N=function(e){return e.chat.messages.filter((function(e,t,s){return s.findIndex((function(t){return t.userId===e.userId}))===t?e:null}))},w=function(e){return e.chat.status},A=s(414),C=s.n(A),y=s(413),I=s.n(y),W=s(400),k=s(412),z=s.n(k),J=s(1),T=function(e){var t=e.theme,s=e.isReverseSort,a=e.setIsReverseSort,r=e.isShowAll,n=e.isShowMembers;return Object(J.jsx)("div",{className:O()(z.a.buttonSortWrap,Object(d.a)({},z.a.buttonSort,n),Object(d.a)({},z.a.buttonSortNotShowMembers,!n)),children:Object(J.jsx)(W.a,{onClick:function(){return a(!s)},disabled:!r,startIcon:s?Object(J.jsx)(I.a,{}):Object(J.jsx)(C.a,{}),style:{fontSize:"10px",marginBottom:"5px",padding:"3px 10px 3px 7px"},color:"theme1"===t?"primary":"secondary",children:"sort by name"})})},B=function(e){var t=e.theme,s=Object(c.d)(N),n=Object(r.useState)(!1),o=Object(a.a)(n,2),i=o[0],l=o[1],m=Object(r.useState)(!1),b=Object(a.a)(m,2),j=b[0],u=b[1],_=Object(r.useState)(!1),g=Object(a.a)(_,2),M=g[0],S=g[1],w=i?s.length:2;return Object(J.jsxs)("div",{hidden:!s.length,className:f.a.container,children:[Object(J.jsxs)("div",{"aria-hidden":"true",className:O()(f.a.titleWrap,Object(d.a)({},f.a.titleWrapDeployed,M)),onClick:function(){return S(!M)},children:[Object(J.jsx)("div",{className:f.a.title,children:"Members"}),Object(J.jsx)(p.a,{className:f.a.titleArrow,path:x.a,title:"ArrowShowMembers",size:"18px"})]}),Object(J.jsx)(T,{theme:t,isShowAll:i,isShowMembers:M,isReverseSort:j,setIsReverseSort:u}),Object(J.jsxs)("div",{className:O()(Object(d.a)({},f.a.members,M),Object(d.a)({},f.a.notShowMembers,!M)),children:[s&&s.slice(0,w).sort((function(e,t){return j?t.userName.localeCompare(e.userName):e.userName.localeCompare(t.userName)})).map((function(e){return Object(J.jsxs)("div",{className:f.a.member,children:[Object(J.jsx)(h.b,{to:"/profile/".concat(e.userId),children:Object(J.jsx)(v.a,{photo:e.photo,size:"small"})}),Object(J.jsx)(h.b,{className:f.a.name,to:"/profile/".concat(e.userId),children:e.userName})]},e.userId)})),s.length>2&&!i?Object(J.jsx)("div",{className:f.a.showAllWrap,children:Object(J.jsxs)("span",{"aria-hidden":"true",className:f.a.showAll,onClick:function(){return l(!0)},children:["show all ",s.length," ..."]})}):""]})]})},D=s(416),R=s.n(D),H=s(417),L=s.n(H),U=s(34),Z=n.a.memo((function(e){var t=e.message,s=Object(c.d)(U.a);return Object(J.jsxs)("div",{className:O()(L.a.messageContainer,Object(d.a)({},L.a.myMessageContainer,s===t.userId)),children:[Object(J.jsxs)(h.b,{to:"/profile/".concat(t.userId),children:[Object(J.jsx)("div",{className:L.a.avatarMedium,children:Object(J.jsx)(v.a,{photo:t.photo,size:"medium"})}),Object(J.jsx)("div",{hidden:!0,className:L.a.avatarSmall,children:Object(J.jsx)(v.a,{photo:t.photo,size:"small"})})]}),Object(J.jsxs)("div",{className:L.a.nameAndMessage,children:[Object(J.jsx)(h.b,{className:L.a.name,to:"/profile/".concat(t.userId),children:t.userName}),Object(J.jsx)("div",{className:L.a.message,children:t.message})]})]})})),E=function(){var e=Object(c.d)(S),t=Object(r.useRef)(null),s=Object(r.useState)(!0),n=Object(a.a)(s,2),o=n[0],i=n[1];return Object(r.useEffect)((function(){var e;o&&(null===(e=t.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}))}),[e,o]),Object(J.jsxs)("div",{className:O()(R.a.container,Object(d.a)({},R.a.containerNoMessages,!e.length)),onScroll:function(e){var t=e.currentTarget;Math.abs(t.scrollHeight-t.scrollTop-t.clientHeight)<1?o||i(!0):o&&i(!1)},children:[e.length?e.filter((function(e){return e.message.trim().length>0})).map((function(e){return Object(J.jsx)(Z,{message:e},e.id)})):Object(J.jsxs)("div",{className:R.a.noMessages,children:["No messages yet...",Object(J.jsx)("br",{}),"Write something!"]}),Object(J.jsx)("div",{ref:t})]})},P=s(24),q=s(188),F=function(e){var t=e.theme,s=n.a.useState(""),r=Object(a.a)(s,2),i=r[0],b=r[1],u=Object(c.d)(w),d=Object(c.c)();return Object(J.jsx)("div",{className:j.a.wrapForm,children:Object(J.jsxs)("div",{className:j.a.form,children:[Object(J.jsx)(m.a,{name:"newMessageText",placeholder:"Enter your message...",fullWidth:!0,variant:"outlined",inputProps:{maxLength:100},color:"theme1"===t?"primary":"secondary",onChange:function(e){return b(e.currentTarget.value)},value:i}),Object(J.jsx)(o.a,{"aria-label":"sendMessage",color:"theme1"===t?"primary":"secondary",style:{margin:"5px"},onClick:function(){i.trim()&&(d(Object(q.b)(i)),b(""))},disabled:"pending"===u,children:Object(J.jsx)(l.a,{})})]})})};t.default=Object(u.a)((function(){var e=Object(c.d)(w),t=Object(c.d)(P.b),s=Object(c.c)();return Object(r.useEffect)((function(){return s(Object(q.c)()),function(){s(Object(q.d)())}}),[s]),Object(J.jsxs)("div",{className:j.a.chat,children:["error"===e&&Object(J.jsx)("div",{children:"Some error occured. Please, refresh the page..."}),Object(J.jsxs)("div",{className:j.a.membersAndMessages,children:[Object(J.jsx)(E,{}),Object(J.jsx)(B,{theme:t})]}),Object(J.jsx)(F,{theme:t})]})}))}}]);
//# sourceMappingURL=4.689ccf62.chunk.js.map