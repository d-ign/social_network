(this.webpackJsonpsocial_network=this.webpackJsonpsocial_network||[]).push([[6],{455:function(e,t,a){"use strict";var s=a(11),c=a(1);t.a=function(){var e=Object(c.useState)(window.innerWidth),t=Object(s.a)(e,2),a=t[0],n=t[1];return Object(c.useEffect)((function(){var e=function(){return n(window.innerWidth)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[a,n]),a}},456:function(e,t,a){e.exports={user:"User_user__2wfAk",wrapAvatarNameAndStatus:"User_wrapAvatarNameAndStatus__3ZFGx",wrapAvatar:"User_wrapAvatar__3xjij",nameAndStatus:"User_nameAndStatus__1MJOp",wrapName:"User_wrapName__14Fu7",status:"User_status__bn8rk"}},457:function(e,t,a){},458:function(e,t,a){"use strict";var s=a(11),c=a(1),n=a(459),r=a.n(n),i=a(37),o=a(465),u=a.n(o),j=a(464),l=a.n(j),b=a(173),d=a(0),O=function(e){var t=e.pathname,a=e.termOfUrl,n=e.searchUsers,o=e.totalUsersCount,j=e.isFetching,O={padding:"1, 1, 1, 0",paddingLeft:"calc(1em + 32px)",width:"100%"},m=Object(c.useState)(!0),h=Object(s.a)(m,2),f=h[0],_=h[1],v=Object(c.useCallback)((function(e){n(e.target.value),_(!1)}),[n]),p=Object(c.useMemo)((function(){return r()(v,600)}),[v]);return Object(c.useEffect)((function(){return function(){p.cancel()}})),Object(d.jsxs)("div",{className:l.a.container,children:[Object(d.jsxs)("div",{className:l.a.searchWrap,children:[Object(d.jsx)("div",{className:l.a.searchIcon,children:Object(d.jsx)(u.a,{})}),"/users"===t&&Object(d.jsx)(i.c,{placeholder:"Search by name...",inputProps:{"aria-label":"search"},style:O,value:a,onChange:v}),"/friends"===t&&Object(d.jsx)(i.c,{placeholder:"Search by name...",inputProps:{"aria-label":"search"},sx:O,onInput:p})]}),Object(d.jsxs)("div",{className:l.a.searchCount,children:["Total: ",o.toString().replace(/(\d)(?=(\d{3})+$)/g,"$1 ")]}),f&&!j&&Object(d.jsx)(b.a.SearchUsers,{pathname:t})]})};t.a=Object(c.memo)(O)},464:function(e,t,a){e.exports={container:"Search_container__1sCS3",searchWrap:"Search_searchWrap__1VAEz",searchIcon:"Search_searchIcon__3oISE",searchCount:"Search_searchCount__31o5E",search:"Search_search__ntywA"}},467:function(e,t,a){"use strict";var s=a(1);t.a=function(e){var t=e.elementTrigger,a=e.isCanLoad,c=e.isFetching,n=e.callback,r=Object(s.useRef)();Object(s.useEffect)((function(){if(!c){r.current&&r.current.disconnect();r.current=new IntersectionObserver((function(e){e[0].isIntersecting&&a&&n()})),r.current.observe(t.current)}}),[c,n,a,t])}},468:function(e,t,a){"use strict";var s=a(11),c=a(1),n=a(456),r=a.n(n),i=a(172),o=a(87),u=(a(457),a(0)),j=function(e){var t=e.element,a=e.children;return Object(u.jsx)("div",{"data-tooltip":t,children:a})},l=Object(c.memo)(j),b=a(176),d=a(455),O=function(e){var t=e.user,a=t.id,n=t.photos,i=t.name,j=t.status,l=t.followed,O=Object(c.useState)(19),h=Object(s.a)(O,2),f=h[0],_=h[1],v=Object(d.a)();return Object(c.useEffect)((function(){v<=735&&_(10)}),[v]),Object(u.jsxs)("article",{className:r.a.user,children:[Object(u.jsxs)("div",{className:r.a.wrapAvatarNameAndStatus,children:[Object(u.jsx)("div",{className:r.a.wrapAvatar,children:Object(u.jsx)(o.a,{photo:n.large,size:"large",id:a})}),Object(u.jsxs)("div",{className:r.a.nameAndStatus,children:[Object(u.jsx)(m.Name,{id:a,name:i,symbolCount:f}),Object(u.jsx)(m.Status,{status:j,symbolCount:f})]})]}),Object(u.jsx)(b.a,{id:a,followed:l})]})},m={Name:Object(c.memo)((function(e){var t=e.id,a=e.name,s=e.symbolCount;return Object(u.jsx)(u.Fragment,{children:(null===a||void 0===a?void 0:a.length)>s?Object(u.jsx)(l,{element:a,children:Object(u.jsx)("div",{className:r.a.wrapName,children:Object(u.jsx)(i.a,{id:t,name:a})})}):Object(u.jsx)("div",{className:r.a.wrapName,children:Object(u.jsx)(i.a,{id:t,name:a})})})})),Status:Object(c.memo)((function(e){var t=e.status,a=e.symbolCount;return Object(u.jsx)(u.Fragment,{children:(null===t||void 0===t?void 0:t.length)>a?Object(u.jsx)(l,{element:t,children:Object(u.jsx)("div",{className:r.a.status,children:Object(u.jsx)("i",{children:t})})}):Object(u.jsx)("div",{className:r.a.status,children:Object(u.jsx)("i",{children:t})})})}))};t.a=Object(c.memo)(O)},479:function(e,t,a){e.exports={visuallyHidden:"Users_visuallyHidden__1Hqf2",elementInteractive:"Users_elementInteractive__1wNUn",container:"Users_container__2qzjv",wrapUsers:"Users_wrapUsers__3HYNC",buttonLoadMore:"Users_buttonLoadMore__30Hx-",hiddenButtonLoadMore:"Users_hiddenButtonLoadMore__1dofL",users:"Users_users__231_B"}},498:function(e,t,a){"use strict";a.r(t);var s=a(1),c=a.n(s),n=a(3),r=a(11),i=a(29),o=a(20),u=a.n(o),j=a(454),l=a(495),b=a.n(l),d=a(479),O=a.n(d),m=a(468),h=a(458),f=a(173),_=a(174),v=a(480),p=a.n(v),x=function(e){var t=e.pathname,a=Object(i.g)(),c=Object(s.useState)(""),n=Object(r.a)(c,2),o=n[0],u=n[1];return Object(s.useEffect)((function(){var e=p.a.parse(a.location.search.substr(1));e.term&&u(e.term)}),[a.location.search,t,u]),Object(s.useEffect)((function(){a.replace({pathname:t,search:o?"?term=".concat(o):""})}),[o,a,t]),[o,u]},w=a(467),g=a(10),N=a(115),S=a(79),U=a(0),C=function(){var e=Object(g.b)(N.d),t=Object(g.b)(N.f),a=Object(g.b)(N.b),o=Object(g.b)(N.e),l=Object(g.a)(),d=Object(i.h)().pathname,v=x({pathname:d}),p=Object(r.a)(v,2),C=p[0],A=p[1],E=Object(s.useState)(1),L=Object(r.a)(E,2),k=L[0],y=L[1],F=Object(s.useState)(!0),I=Object(r.a)(F,2),M=I[0],z=I[1],H=Math.ceil(o/e),W=Object(s.useCallback)((function(e){y(1),A(e),l(Object(S.e)({page:1,term:e})),H===k&&z(!1),H>k&&z(!0)}),[l,H,k,A]);Object(s.useEffect)((function(){z(o>e)}),[H,o,e]),Object(s.useEffect)((function(){l(Object(S.e)({page:1,term:C}))}),[C,d,l]);var B=Object(s.useCallback)((function(){H>k&&(y(++k),l(Object(S.e)({page:k,term:C}))),H===k&&z(!1)}),[l,H,k,C]),J=Object(s.useState)(!0),P=Object(r.a)(J,2),T=P[0],q=P[1],R=c.a.useRef(null);return Object(w.a)({elementTrigger:R,isCanLoad:1===k,isFetching:a,callback:function(){return q(!1)}}),Object(U.jsxs)("main",{className:O.a.container,children:[Object(U.jsx)("h1",{className:O.a.visuallyHidden,children:"Users"}),1===k&&!a&&T&&Object(U.jsx)(f.a.PaginationUsers,{pathname:d}),Object(U.jsx)(h.a,{pathname:d,termOfUrl:C,isFetching:a,searchUsers:W,totalUsersCount:o}),0===o&&!a&&Object(U.jsx)(_.a,{elements:"users"}),Object(U.jsxs)("div",{className:O.a.wrapUsers,children:[Object(U.jsx)("div",{className:O.a.users,children:t.map((function(e){return Object(U.jsx)(m.a,{user:{id:e.id,name:e.name,status:e.status,followed:e.followed,photos:e.photos}},e.id)}))}),Object(U.jsx)("div",{ref:R,className:u()(O.a.buttonLoadMore,Object(n.a)({},O.a.hiddenButtonLoadMore,!M)),children:Object(U.jsx)(j.a,{title:"Load more users",onClick:B,size:"large",children:Object(U.jsx)(b.a,{})})})]})]})},A=Object(s.memo)(C),E=a(116),L=a(175);t.default=Object(L.a)((function(){var e=Object(g.b)(N.b);return Object(U.jsxs)(U.Fragment,{children:[e?Object(U.jsx)(E.a,{}):null,Object(U.jsx)(A,{})]})}))}}]);
//# sourceMappingURL=6.cb224b5d.chunk.js.map