(this.webpackJsonpsocial_network=this.webpackJsonpsocial_network||[]).push([[5],{406:function(e,t,a){e.exports={allMessages:"Chat_allMessages__3upJk",membersAndMessages:"Chat_membersAndMessages__QYSIC",titleMembersWrap:"Chat_titleMembersWrap__21BfD",buttonSortWrap:"Chat_buttonSortWrap__1eMVl",membersContainer:"Chat_membersContainer__1T8z_",titleMembers:"Chat_titleMembers__ZXOJR",titleMembersArrow:"Chat_titleMembersArrow__8wlKQ",member:"Chat_member__19AK-",showAllWrap:"Chat_showAllWrap__3_abN",showAll:"Chat_showAll__1yp8e",membersContainerHidden:"Chat_membersContainerHidden__1kSs4",allMessagesAbsent:"Chat_allMessagesAbsent__2u7bW",noMessages:"Chat_noMessages__1TXOR",messageContainer:"Chat_messageContainer__h8lg9",myMessageContainer:"Chat_myMessageContainer__3lNbN",name:"Chat_name__3z4wa",nameMember:"Chat_nameMember__27PzK",message:"Chat_message__1UPOG",avatarSmall:"Chat_avatarSmall__1bEVh",nameAndMessage:"Chat_nameAndMessage__19MYP",form:"Chat_form__2pzA5",buttonSortNotShowMembers:"Chat_buttonSortNotShowMembers__32xXM",chatMembersNotShowMembers:"Chat_chatMembersNotShowMembers__20aDH",buttonSortMedia:"Chat_buttonSortMedia__kmZAn",chatMembersMedia:"Chat_chatMembersMedia__2g3AE",titleMembersWrapDeployed:"Chat_titleMembersWrapDeployed__2JKFF",buttonSortNotShowAll:"Chat_buttonSortNotShowAll__3Qax8",avatarMedium:"Chat_avatarMedium__eK_9C"}},428:function(e,t,a){"use strict";a.r(t);var s=a(36),r=a(58),n=a(0),c=a.n(n),o=a(11),l=a(42),i=a(185),b=function(e){return e.chat.messages},m=function(e){return e.chat.messages.filter((function(e,t,a){return a.findIndex((function(t){return t.userId===e.userId}))===t?e:null}))},j=function(e){return e.chat.status},h=a(29),u=a(74),d=a(149),_=a(406),O=a.n(_),M=a(33),g=a.n(M),p=a(396),x=a(411),C=a.n(x),f=a(410),N=a.n(f),v=a(409),S=a.n(v),w=a(407),A=a.n(w),W=a(392),y=a(401),I=a(408),k=a(1),z=function(){var e=Object(o.d)(m),t=Object(n.useState)(!1),a=Object(r.a)(t,2),c=a[0],i=a[1],b=Object(n.useState)(!1),j=Object(r.a)(b,2),h=j[0],d=j[1],_=c?e.length:5,M=Object(n.useState)(!1),p=Object(r.a)(M,2),x=p[0],C=p[1];return Object(k.jsxs)("div",{className:g()(O.a.membersContainer,Object(s.a)({},O.a.membersContainerHidden,!e.length)),children:[Object(k.jsxs)("div",{className:g()(O.a.titleMembersWrap,Object(s.a)({},O.a.titleMembersWrapDeployed,x),Object(s.a)({},O.a.buttonSortWrapHiddenNotShowAll,!c)),onClick:function(){return C(!x)},children:[Object(k.jsx)("div",{className:O.a.titleMembers,children:"Members"}),Object(k.jsx)(A.a,{className:O.a.titleMembersArrow,path:I.a,title:"ArrowShowMembers",size:"18px"})]}),Object(k.jsx)("div",{className:g()(O.a.buttonSortWrap,Object(s.a)({},O.a.buttonSortMedia,x),Object(s.a)({},O.a.buttonSortNotShowMembers,!x),Object(s.a)({},O.a.buttonSortNotShowAll,!c)),children:Object(k.jsx)(W.a,{onClick:function(){return d(!h)},startIcon:h?Object(k.jsx)(S.a,{}):Object(k.jsx)(N.a,{}),style:{fontSize:10,marginBottom:5,padding:3},children:"sort by name"})}),Object(k.jsxs)("div",{className:g()(Object(s.a)({},O.a.chatMembersMedia,x),Object(s.a)({},O.a.chatMembersNotShowMembers,!x),Object(s.a)({},O.a.buttonSortNotShowAll,!c)),children:[e&&e.slice(0,_).sort((function(e,t){return h?t.userName.localeCompare(e.userName):e.userName.localeCompare(t.userName)})).map((function(e){return Object(k.jsxs)("div",{className:O.a.member,children:[Object(k.jsx)(l.b,{to:"/profile/"+e.userId,children:Object(k.jsx)(u.a,{photo:e.photo,size:"small"})}),Object(k.jsx)(l.b,{className:g()(O.a.name,O.a.nameMember),to:"/profile/"+e.userId,children:e.userName})]},e.userId)})),e.length>5&&!c?Object(k.jsx)("div",{className:O.a.showAllWrap,children:Object(k.jsx)("span",{className:O.a.showAll,onClick:function(){return i(!0)},children:"show all..."})}):""]})]})},H=function(){var e=Object(o.d)(b),t=Object(n.useRef)(null),a=Object(n.useState)(!0),c=Object(r.a)(a,2),l=c[0],i=c[1];return Object(n.useEffect)((function(){var e;l&&(null===(e=t.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}))}),[e,l]),Object(k.jsxs)("div",{className:g()(O.a.allMessages,Object(s.a)({},O.a.allMessagesAbsent,!e.length)),onScroll:function(e){var t=e.currentTarget;Math.abs(t.scrollHeight-t.scrollTop-t.clientHeight)<1?!l&&i(!0):l&&i(!1)},children:[e.length?e.filter((function(e){return e.message.trim().length>0})).map((function(e){return Object(k.jsx)(T,{message:e},e.id)})):Object(k.jsxs)("div",{className:O.a.noMessages,children:["No messages yet...",Object(k.jsx)("br",{}),"Write something!"]}),Object(k.jsx)("div",{ref:t})]})},T=c.a.memo((function(e){var t=e.message,a=Object(o.d)(h.a);return Object(k.jsxs)("div",{className:g()(O.a.messageContainer,Object(s.a)({},O.a.myMessageContainer,a===t.userId)),children:[Object(k.jsxs)(l.b,{to:"/profile/"+t.userId,children:[Object(k.jsx)("div",{className:O.a.avatarMedium,children:Object(k.jsx)(u.a,{photo:t.photo,size:"medium"})}),Object(k.jsx)("div",{className:O.a.avatarSmall,children:Object(k.jsx)(u.a,{photo:t.photo,size:"small"})})]}),Object(k.jsxs)("div",{className:O.a.nameAndMessage,children:[Object(k.jsx)(l.b,{className:O.a.name,to:"/profile/"+t.userId,children:t.userName}),Object(k.jsx)("div",{className:O.a.message,children:t.message})]})]})})),D=function(){var e=c.a.useState(""),t=Object(r.a)(e,2),a=t[0],s=t[1],n=Object(o.d)(j),l=Object(o.c)();return Object(k.jsx)("div",{className:O.a.wrapForm,children:Object(k.jsxs)("div",{className:O.a.form,children:[Object(k.jsx)(y.a,{name:"newMessageText",placeholder:"Enter your message...",multiline:!0,fullWidth:!0,rowsMax:"3",variant:"outlined",inputProps:{maxLength:100},onChange:function(e){return s(e.currentTarget.value)},value:a}),Object(k.jsx)(p.a,{"aria-label":"sendMessage",color:"primary",style:{margin:"5px"},onClick:function(){a.trim()&&(l(Object(i.b)(a)),s(""))},disabled:"pending"===n,children:Object(k.jsx)(C.a,{})})]})})};t.default=Object(d.a)((function(){var e=Object(o.d)(j),t=Object(o.c)();return Object(n.useEffect)((function(){return t(Object(i.c)()),function(){t(Object(i.d)())}}),[t]),Object(k.jsxs)("div",{className:O.a.chat,children:["error"===e&&Object(k.jsx)("div",{children:"Some error occured. Please, refresh the page..."}),Object(k.jsxs)("div",{className:O.a.membersAndMessages,children:[Object(k.jsx)(H,{}),Object(k.jsx)(z,{})]}),Object(k.jsx)(D,{})]})}))}}]);
//# sourceMappingURL=5.e0cf253b.chunk.js.map