(this.webpackJsonpsocial_network=this.webpackJsonpsocial_network||[]).push([[5],{429:function(e,t,s){e.exports={chat:"Chat_chat__18S3w",membersAndMessages:"Chat_membersAndMessages__1RTR_",form:"Chat_form__3kFu7"}},431:function(e,t,s){e.exports={container:"Members_container__2pna_",titleWrap:"Members_titleWrap__d7NLT",title:"Members_title__154Tu",titleArrow:"Members_titleArrow__1dMqh",members:"Members_members__H4WWv",member:"Members_member__2LXCJ",wrapName:"Members_wrapName__2m4Ej",showAllWrap:"Members_showAllWrap__fuTjQ",showAll:"Members_showAll__1QIPw",notShowMembers:"Members_notShowMembers__1sD9m",titleWrapDeployed:"Members_titleWrapDeployed__3oL3i"}},432:function(e,t,s){e.exports={buttonSortWrap:"ButtonSort_buttonSortWrap__2rfNk",buttonSortNotShowMembers:"ButtonSort_buttonSortNotShowMembers__3K8VO",buttonSort:"ButtonSort_buttonSort__2e7NN"}},436:function(e,t,s){e.exports={container:"Messages_container__2Bams",shadow:"Messages_shadow__1XETh"}},437:function(e,t,s){e.exports={messageContainer:"Message_messageContainer__2kjzX",myMessageContainer:"Message_myMessageContainer__2WRWS",message:"Message_message__1v5P9",nameAndMessage:"Message_nameAndMessage__4B2fF",avatarMedium:"Message_avatarMedium__3Yqu1",avatarSmall:"Message_avatarSmall__11YXQ"}},445:function(e,t,s){"use strict";s.r(t);var a=s(23),r=s(0),n=s.n(r),c=s(9),o=s(401),i=s(438),l=s.n(i),m=s(409),b=s(429),u=s.n(b),j=s(158),d=s(35),h=s(14),_=s(21),O=s.n(_),p=s(430),x=s.n(p),f=s(435),g=s(431),v=s.n(g),w=s(79),M=s(155),S=function(e){return e.chat.messages},N=function(e){return e.chat.messages.filter((function(e,t,s){return s.findIndex((function(t){return t.userId===e.userId}))===t?e:null}))},W=function(e){return e.chat.statusWS},A=s(434),C=s.n(A),y=s(433),I=s.n(y),k=s(405),z=s(432),T=s.n(z),E=s(1),R=function(e){var t=e.theme,s=e.isReverseSort,a=e.setIsReverseSort,r=e.isShowAll,n=e.isShowMembers;return Object(E.jsx)("div",{className:O()(T.a.buttonSortWrap,Object(h.a)({},T.a.buttonSort,n),Object(h.a)({},T.a.buttonSortNotShowMembers,!n)),children:Object(E.jsx)(k.a,{onClick:function(){return a(!s)},disabled:!r,startIcon:s?Object(E.jsx)(I.a,{}):Object(E.jsx)(C.a,{}),style:{fontSize:"10px",marginBottom:"5px",padding:"3px 10px 3px 7px"},color:"theme1"===t?"primary":"secondary",children:"sort by name"})})},B=function(e){var t=e.theme,s=Object(c.d)(N),n=Object(r.useState)(!1),o=Object(a.a)(n,2),i=o[0],l=o[1],m=Object(r.useState)(!1),b=Object(a.a)(m,2),u=b[0],j=b[1],_=Object(r.useState)(!1),p=Object(a.a)(_,2),g=p[0],S=p[1],W=Object(r.useState)(window.innerWidth),A=Object(a.a)(W,2),C=A[0],y=A[1],I=i?s.length:2;Object(r.useEffect)((function(){var e=function(){return y(window.innerWidth)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[C]);return Object(E.jsxs)("div",{hidden:!s.length,className:v.a.container,children:[Object(E.jsxs)("div",{"aria-hidden":"true",className:O()(v.a.titleWrap,Object(h.a)({},v.a.titleWrapDeployed,g)),onClick:function(){C<=760&&S(!g)},children:[Object(E.jsx)("div",{className:v.a.title,children:"Members"}),Object(E.jsx)(x.a,{className:v.a.titleArrow,path:f.a,title:"ArrowShowMembers",size:"18px"})]}),Object(E.jsx)(R,{theme:t,isShowAll:i,isShowMembers:g,isReverseSort:u,setIsReverseSort:j}),Object(E.jsxs)("div",{className:O()(Object(h.a)({},v.a.members,g),Object(h.a)({},v.a.notShowMembers,!g)),children:[s&&Object(d.a)(s).slice(0,I).sort((function(e,t){return u?t.userName.localeCompare(e.userName):e.userName.localeCompare(t.userName)})).map((function(e){return Object(E.jsxs)("div",{className:v.a.member,children:[Object(E.jsx)(w.a,{photo:e.photo,size:"small",id:e.userId}),Object(E.jsx)("div",{className:v.a.wrapName,children:Object(E.jsx)(M.a,{id:e.userId,name:e.userName,size:"small"})})]},e.userId)})),s.length>2&&!i?Object(E.jsx)("div",{className:v.a.showAllWrap,children:Object(E.jsxs)("span",{"aria-hidden":"true",className:v.a.showAll,onClick:function(){return l(!0)},children:["show all ",s.length," ..."]})}):""]})]})},L=s(436),D=s.n(L),P=s(437),X=s.n(P),F=s(37),H=n.a.memo((function(e){var t=e.message,s=t.userId,a=t.photo,r=t.userName,n=t.message,o=Object(c.d)(F.a);return Object(E.jsxs)("div",{className:O()(X.a.messageContainer,Object(h.a)({},X.a.myMessageContainer,o===s)),children:[Object(E.jsx)("div",{className:X.a.avatarMedium,children:Object(E.jsx)(w.a,{photo:a,size:"medium",id:s})}),Object(E.jsx)("div",{hidden:!0,className:X.a.avatarSmall,children:Object(E.jsx)(w.a,{photo:a,size:"small",id:s})}),Object(E.jsxs)("div",{className:X.a.nameAndMessage,children:[Object(E.jsx)(M.a,{id:s,name:r}),Object(E.jsx)("div",{className:X.a.message,children:n})]})]})})),J=s(157),Q=function(){var e=Object(c.d)(S),t=Object(r.useRef)(null),s=Object(r.useState)(!0),n=Object(a.a)(s,2),o=n[0],i=n[1];return Object(r.useEffect)((function(){var e;o&&(null===(e=t.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}))}),[e,o]),Object(E.jsxs)("div",{className:O()(D.a.container,Object(h.a)({},D.a.shadow,e.length)),onScroll:function(e){var t=e.currentTarget,s=t.scrollHeight-t.scrollTop-t.clientHeight;Math.abs(s)<1?o||i(!0):o&&i(!1)},children:[e.length?e.filter((function(e){return e.message.trim().length>0})).map((function(e){return Object(E.jsx)(H,{message:e},e.id)})):Object(E.jsx)(J.a,{elements:"messages",writeSomething:!0}),Object(E.jsx)("div",{ref:t})]})},q=s(27),V=s(194),Y=function(e){var t=e.theme,s=e.status,n=Object(c.c)(),i=Object(r.useState)(""),b=Object(a.a)(i,2),j=b[0],d=b[1];return Object(E.jsx)("div",{className:u.a.wrapForm,children:Object(E.jsxs)("div",{className:u.a.form,children:[Object(E.jsx)(m.a,{name:"newMessageText",placeholder:"Enter your message...",fullWidth:!0,variant:"outlined",inputProps:{maxLength:100},color:"theme1"===t?"primary":"secondary",onChange:function(e){return d(e.currentTarget.value)},value:j}),Object(E.jsx)(o.a,{title:"Send message",color:"theme1"===t?"primary":"secondary",style:{margin:"5px"},onClick:function(){j.trim()&&(n(Object(V.b)(j)),d(""))},disabled:"pending"===s,children:Object(E.jsx)(l.a,{})})]})})};t.default=Object(j.a)((function(){var e=Object(c.d)(W),t=Object(c.d)(q.b),s=Object(c.c)();return Object(r.useEffect)((function(){return s(Object(V.c)()),function(){s(Object(V.d)())}}),[s]),Object(E.jsxs)("div",{className:u.a.chat,children:["error"===e&&Object(E.jsx)("div",{children:"Some error occured. Please, refresh the page..."}),Object(E.jsxs)("div",{className:u.a.membersAndMessages,children:[Object(E.jsx)(Q,{}),Object(E.jsx)(B,{theme:t})]}),Object(E.jsx)(Y,{theme:t,status:e})]})}))}}]);
//# sourceMappingURL=5.24bf83d7.chunk.js.map